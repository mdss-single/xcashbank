{"version":3,"sources":["clipboard.js","equal-height.js","fancybox.js","flickity.js","input-mask.js","jquery.validate.js"],"names":["f","exports","module","define","amd","window","global","self","this","Clipboard","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","selector","nodeType","parentNode","2","closest","type","callback","useCapture","listenerFn","delegateTarget","target","apply","arguments","addEventListener","destroy","removeEventListener","./closest","3","node","value","undefined","HTMLElement","nodeList","Object","toString","string","String","fn","4","is","delegate","TypeError","Array","forEach","document","body","./is","5","selectedText","nodeName","focus","isReadOnly","hasAttribute","setAttribute","select","setSelectionRange","removeAttribute","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","6","E","on","name","ctx","push","once","listener","off","_","emit","data","slice","evtArr","len","evts","liveEvents","7","factory","mod","clipboardAction","_select","obj","_select2","__esModule","default","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","ClipboardAction","options","instance","_classCallCheck","resolveOptions","initSelection","action","container","emitter","text","trigger","selectFake","selectTarget","_this","isRTL","documentElement","getAttribute","removeFake","fakeHandlerCallback","fakeHandler","fakeElem","createElement","style","fontSize","border","padding","margin","position","yPosition","pageYOffset","scrollTop","top","appendChild","copyText","removeChild","succeeded","execCommand","err","handleResult","clearSelection","bind","set","_action","get","_target","8","tinyEmitter","goodListener","clipboard","_clipboardAction","_tinyEmitter","_goodListener","_clipboardAction2","_interopRequireDefault","_tinyEmitter2","_goodListener2","_Emitter","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","listenClick","subClass","superClass","create","setPrototypeOf","_inherits","defaultAction","defaultTarget","defaultText","_this2","onClick","currentTarget","getAttributeValue","querySelector","actions","support","queryCommandSupported","suffix","attribute","./clipboard-action","good-listener","tiny-emitter","jQuery","$","_previousResizeWidth","_updateTimeout","_parse","parseFloat","_rows","elements","lastTop","rows","each","$that","offset","css","lastRow","Math","floor","abs","add","_parseOptions","opts","byRow","property","remove","extend","matchHeight","that","_groups","group","not","_apply","version","_throttle","_maintainScroll","_beforeUpdate","_afterUpdate","$elements","htmlHeight","outerHeight","$hiddenParents","parents","filter","attr","display","padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width","height","overflow","row","$row","targetHeight","verticalPadding","_applyDataApi","groups","$this","groupId","_update","event","throttle","windowWidth","width","setTimeout","fancybox","console","log","div","defaults","loop","gutter","keyboard","arrows","infobar","toolbar","buttons","idleTime","smallBtn","protect","modal","image","preload","ajax","settings","iframe","tpl","scrolling","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","autoFocus","backFocus","trapFocus","fullScreen","autoStart","touch","vertical","momentum","hash","media","slideShow","speed","thumbs","hideOnClose","axis","wheel","onInit","noop","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","$W","$D","called","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","transitionEnd","el","transitions","transition","OTransition","MozTransition","WebkitTransition","forceRedraw","$el","offsetHeight","FancyBox","content","index","isMobile","isArray","id","currIndex","parseInt","prevIndex","prevPos","currPos","firstRun","createGroup","$lastFocus","activeElement","blur","slides","init","$scrollDiv","$container","buttonStr","firstItem","firstItemOpts","scrollbarWidth","scrollLeft","getInstance","addClass","test","navigator","userAgent","MSStream","scrollHeight","innerHeight","appendTo","offsetWidth","clientWidth","append","translate","replace","$refs","item","find","activate","jumpTo","str","arr","match","items","makeArray","$item","found","src","srcParts","isPlainObject","$orig","videoFormat","charAt","$thumb","caption","split","shift","inArray","addEvents","removeEvents","stopPropagation","preventDefault","previous","next","isScaledDown","originalEvent","update","stage","hide","show","isClosing","hasClass","has","keycode","keyCode","which","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","isDragging","hideControls","clearInterval","duration","pos","slide","canvasWidth","currentPos","transitionProps","groupLen","isAnimating","createSlide","updateControls","getTranslate","$slide","isMoved","left","forcedDuration","isNumeric","removeClass","loadSlide","stop","round","animate","removeAttr","complete","children","isLoaded","revealContent","isComplete","updateSlide","scaleToActual","x","y","imgPos","posX","posY","scaleX","scaleY","$what","$content","canvasHeight","newImgWidth","newImgHeight","hasError","updateCursor","SlideShow","isActive","scaleToFit","end","getFitPos","minRatio","imgWidth","imgHeight","min","setTranslate","centerSlide","opacity","nextWidth","nextHeight","isZoomable","fitPos","isFunction","rez","canPan","ajaxLoad","isLoading","setImage","setIframe","setContent","setError","showLoading","url","success","textStatus","error","jqXHR","one","abort","temp","pxRatio","srcset","devicePixelRatio","innerWidth","map","ret","trim","substring","postfix","sort","b","j","thumb","$ghost","setBigImage","$img","$image","clearTimeout","timouts","naturalWidth","naturalHeight","hideLoading","max","readyState","$iframe","Date","getTime","isReady","scrollWidth","$body","$wrap","frameWidth","frameHeight","contents","ignore","contentWindow","ceil","outerWidth","prepend","empty","hasOwnProperty","parent","$placeholder","insertAfter","html","after","$smallBtn","$spinner","first","button","effect","effectClassName","start","getThumbPos","slidePos","thumbPos","ownerDocument","elementRect","getBoundingClientRect","parentRects","parentElement","every","parentRect","visiblePixelX","right","visiblePixelY","bottom","isElementVisible","siblings","prev","isVisible","d","done","cleanUp","args","unshift","force","$caption","isHiddenControls","prop","toggleClass","toggleControls","command","open","all","createTouch","use3d","getComputedStyle","getPropertyValue","documentMode","matrix","eq","indexOf","transRez","exec","transform","to","leaveAnimationName","propertyName","_run","$target","isDefaultPrevented","format","params","param","youtube","matcher","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","api","metacafe","dailymotion","additionalInfos","vine","instagram","gmap_place","gmap_search","urlParams","paramObj","provider","providerName","providerOpts","m","p","decodeURIComponent","contentProvider","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","pointers","result","touches","changedTouches","pageX","pageY","clientX","clientY","distance","point2","point1","what","sqrt","pow","isClickable","onclick","atts","attributes","substr","isScrollable","overflowY","overflowX","horizontal","clientHeight","Guestures","$bg","bg","$stage","proxy","ontouchstart","isTouchDevice","realPoints","startPoints","startEvent","canTap","isPanning","isSwiping","isZooming","isScrolling","sliderStartPos","sliderLastPos","contentStartPos","contentLastPos","startTime","distanceX","distanceY","onscroll","centerPointStartX","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","ontouchmove","newPoints","onSwipe","onPan","onZoom","angle","swiping","requestId","atan2","PI","inTransition","limitMovement","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","newOffsetX","newOffsetY","currentOffsetX","currentOffsetY","currentWidth","currentHeight","limitPosition","newWidth","newHeight","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","newPos","ontouchend","dMs","panning","zooming","endPoints","onTap","velocityX","velocityY","speedX","endPanning","endZooming","endSwiping","reset","where","tapX","tapY","process","prefix","addBack","tapped","timer","$button","toggle","clear","onInit.fb","beforeShow.fb","afterShow.fb","afterKeydown.fb","keypress","beforeClose.fb onDeactivate.fb","hidden","val","fnMap","FullScreen","request","elem","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","beforeClose.fb","fullscreenchange","FancyThumbs","$grid","$list","Thumbs","second","list","widthRatio","heightRatio","$parent","thumbWidth","thumbHeight","margin-left","share","entityMap","location","encodeURIComponent","&","<",">","\"","'","/","`","=","click","href","escapeSelector","sel","ch","asCodePoint","charCodeAt","shouldCreateHistory","currentHash","timerID","parseUrl","pop","gallery","join","triggerFromUrl","getGalleryID","origHash","history","title","pathname","search","replaceState","prevTime","currTime","deltaY","deltaX","wheelDelta","detail","jQueryBridget","arraySlice","logError","message","namespace","PluginClass","option","arg0","pluginMethodStr","methodName","$elems","method","returnValue","_init","updateJQuery","bridget","EvEmitter","eventName","events","_events","listeners","onceEvents","_onceEvents","splice","emitEvent","onceListeners","allOff","getSize","getStyleSize","num","isNaN","measurements","measurementsLength","getStyle","isBoxSizeOuter","isSetup","borderStyle","borderWidth","boxSizing","setup","size","getZeroSize","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesMethod","ElemProto","prefixes","fizzyUIUtils","utils","modulo","ary","removeFrom","getParent","getQueryElement","handleEvent","filterFindElements","elems","ffElems","childElems","querySelectorAll","debounceMethod","_class","threshold","timeoutName","timeout","docReady","toDashed","$1","$2","toLowerCase","htmlInit","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","JSON","parse","className","Flickity","Cell","side","originSide","setPosition","updateTarget","renderPosition","setDefaultTarget","marginProperty","cellAlign","getPositionValue","wrapShift","slideableWidth","Slide","isOriginLeft","cells","addCell","cell","beginMargin","firstMargin","endMargin","lastCell","getLastCell","lastMargin","slideWidth","changeSelectedClass","unselect","classList","getCellElements","animatePrototype","lastTime","timeToCall","startAnimation","restingFrames","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","transformProperty","wrapAround","shiftWrapCells","cursorPosition","rightToLeft","slider","firstSlide","positionX","progress","slidesWidth","dispatchEvent","positionSliderAtSelected","selectedSlide","percentPosition","isPointerDown","isFreeScrolling","beforeGap","_shiftCells","beforeShiftCells","afterGap","afterShiftCells","gap","cellShift","_unshiftCells","velocity","getFrictionFactor","applyForce","getRestingPosition","dragForce","dragX","selectedAttraction","_Flickity","moveElements","toElem","GUID","instances","queryElement","flickityGUID","$element","_create","accessibility","freeScrollFriction","friction","namespaceJQueryEvents","resize","setGallerySize","createMethods","guid","selectedIndex","viewport","_createSlider","watchCSS","_filterFindCellElements","reloadCells","tabIndex","initialIndex","isInitActivated","cellSelector","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastSlide","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","updateSlides","_containSlides","nextMargin","canCellFit","_getCanCellFit","updateSelectedSlide","groupCells","number","percentMatch","percent","reposition","setCellAlign","cellAlignShorthands","center","shorthand","adaptiveHeight","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","contentWidth","isContentSmaller","beginBound","endBound","emitArgs","$event","jQEvent","Event","isWrap","isInstant","_wrapSelect","wrapIndex","delta","backWrapDelta","forewardWrapDelta","isDragSelect","unselectSelectedSlide","selectedCells","selectedElements","selectedCell","selectedElement","selectCell","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","cellElems","slideIndex","uiChange","childUIPointerDown","onresize","deactivate","onkeydown","leftMethod","rightMethod","removeData","setJQuery","jq","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isBind","bindMethod","PointerEvent","getTouch","identifier","pointerIdentifier","onmousedown","_pointerDown","onpointerdown","pointer","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","touchstart","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","pointerMove","onmouseup","_pointerUp","onpointerup","_pointerDone","pointerUp","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","Unidragger","bindHandles","_bindHandles","unbindHandles","handles","handle","touchAction","_touchActionValue","_dragPointerDown","focused","pointerDownPoint","canPreventDefaultOnPointerDown","moveVector","_dragPointerMove","_dragMove","movePoint","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","dragStartPoint","isPreventingClicks","dragStart","dragMove","dragEnd","isIgnoringMouseUp","staticClick","draggable","dragThreshold","isTouch","isTouchmoveScrollCanceled","_createDrag","bindDrag","_uiChangeDrag","_childUIPointerDownDrag","unbindDrag","isDragBound","pointerDownFocus","cursorNodes","TEXTAREA","INPUT","OPTION","clickTypes","radio","checkbox","submit","file","pointerDownScroll","getScrollPosition","canPointerDown","getCanPointerDown","prevScrollY","scrollTo","pageXOffset","focusNodes","SELECT","isTouchStart","isTouchPointer","pointerType","isFocusNode","isTouchScrolling","dragStartPosition","previousDragX","direction","originBound","dragMoveTime","freeScroll","dragEndRestingSelect","restingX","dragEndBoostSelect","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","md","isWrapAround","wrap","clickedCell","scroll","scrollMoveX","scrollMoveY","TapListener","bindTap","unbindTap","tapElement","pointerPoint","boundingRect","scrollX","scrollY","svgURI","PrevNextButton","isEnabled","isPrevious","leftDirection","isLeft","disable","svg","createSVG","createElementNS","path","pathMovements","shape","x0","x1","y1","x2","y2","x3","getArrowMovements","arrowShape","enable","disabled","lastIndex","boundIndex","prevNextButtons","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","setDots","addDots","removeDots","count","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","pageDots","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","hiddenProperty","visibilityEvent","Player","state","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","isPageHidden","tick","time","autoPlay","pause","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","insert","isAppend","insertCellElement","insertBefore","endCells","selectedIndexDelta","_cellAddedRemoved","changedCellIndex","cellChange","cellSizeChange","isPositioningSlider","prevSlideableWidth","LazyLoader","img","flickity","load","_createLazyload","lazyLoad","lazyImages","lazyCellImages","imgs","getCellLazyImages","onload","onerror","_createAsNavFor","activateAsNavFor","deactivateAsNavFor","destroyAsNavFor","asNavForOption","asNavFor","setNavCompanion","companion","navCompanion","onNavCompanionSelect","navCompanionSelect","onNavStaticClick","firstIndex","selectIndex","removeNavSelectedElements","navSelectedElements","changeNavSelectedClass","navElem","cellElement","imagesLoaded","ImagesLoaded","onAlways","getImages","jqDeferred","Deferred","check","images","addElementImages","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","child","9","11","LoadingImage","Background","Image","reURL","backgroundImage","addBackground","loadingImage","onProgress","progressedCount","hasAnyBroken","notify","debug","jqMethod","getIsImageComplete","confirm","proxyImage","unbindEvents","makeJQueryPlugin","promise","_createImagesLoaded","Zepto","Mask","mask","invalid","getCaret","ctrl","dSel","cSelStart","selectionStart","appVersion","moveStart","setCaret","createTextRange","collapse","moveEnd","maskDigitPosMapOld","maskDigitPosMap","jMaskGlobals","useInput","behaviour","keydown","keyup","oldValue","selectOnFocus","clearIfNotMatch","regexMask","getRegexMask","translation","pattern","optional","recursive","oRecursive","maskChunks","jMask","digit","RegExp","destroyEvents","v","calculateCaretPosition","oldVal","newVal","getMasked","caretPosNew","caretPosOld","newValL","oldValL","maskDigitsBeforeCaret","maskDigitsAfterCaret","maskDigitsBeforeCaretAll","maskDigitsBeforeCaretAllOld","caretPos","byPassKeys","callbacks","skipMaskChars","lastMaskChar","lastUntranslatedMaskChar","buf","maskLen","valLen","addMethod","resetPos","maskDigitCount","maskDigitPosArr","reverse","maskDigit","valDigit","fallback","lastMaskCharDigit","mapMaskdigitPositions","maskDiff","changed","defaultArgs","criteria","caret","getCleanVal","getMaskedVal","onlyMask","placeholder","maxlength","maskWatchers","HTMLAttributes","input","notSameMaskObject","field","maskObject","stringify","globals","interval","watchInterval","watchInputs","maskFunction","masked","unmask","dataMask","cleanVal","applyDataMask","maskElements","dataMaskAttr","isSupported","watchDataMask","0","#","A","S","validate","validator","onsubmit","submitButton","cancelSubmit","submitHandler","formSubmitted","currentForm","form","pendingRequest","focusInvalid","warn","valid","errorList","rules","argument","staticRules","existingRules","filtered","normalizeRule","messages","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","pseudos","blank","filled","unchecked","source","errorClass","pendingClass","validClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignoreTitle","onfocusin","lastActive","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","onkeyup","elementValue","highlight","findByName","setDefaults","email","date","dateISO","digits","equalTo","minlength","rangelength","step","autoCreateRanges","labelContainer","errorContext","containers","valueCache","pending","eventType","invalidHandler","checkForm","errorMap","triggerHandler","showErrors","prepareForm","currentElements","rs","cleanElement","clean","checkElement","validationTargetFor","prepareElement","testgroup","numberOfInvalids","toHide","errors","successList","grep","defaultShowErrors","resetForm","hideErrors","resetElements","objectLength","addWrapper","findLastActive","rulesCache","resetInternals","toShow","idx","validity","badInput","lastIndexOf","rule","normalizer","rulesCount","dependencyMismatch","parameters","methods","formatAndAdd","customDataMessage","toUpperCase","customMessage","findDefined","defaultMessage","theregex","toToggle","wrapper","showLabel","validElements","invalidElements","place","errorID","elementID","idOrName","describedBy","errorPlacement","escapeCssMeta","describer","getLength","depend","dependTypes","boolean","function","startRequest","stopRequest","previousValue","old","classRuleSettings","creditcard","addClassRules","classes","normalizeAttributeRule","Number","depends","keepRule","parameter","parts","transformed","decimals","errorMessage","re","decimalPlaces","toInt","optionDataString","originalMessage","mode","port","dataType","context","response","pendingRequests","ajaxPrefilter","xhr","ajaxSettings"],"mappings":"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","file":"plugins.js","sourcesContent":["/*!\r\n * clipboard.js v1.7.1\r\n * https://zenorocha.github.io/clipboard.js\r\n *\r\n * Licensed MIT  Zeno Rocha\r\n */\r\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Clipboard = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\r\nvar DOCUMENT_NODE_TYPE = 9;\r\n\r\n/**\r\n * A polyfill for Element.matches()\r\n */\r\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\r\n    var proto = Element.prototype;\r\n\r\n    proto.matches = proto.matchesSelector ||\r\n                    proto.mozMatchesSelector ||\r\n                    proto.msMatchesSelector ||\r\n                    proto.oMatchesSelector ||\r\n                    proto.webkitMatchesSelector;\r\n}\r\n\r\n/**\r\n * Finds the closest parent that matches a selector.\r\n *\r\n * @param {Element} element\r\n * @param {String} selector\r\n * @return {Function}\r\n */\r\nfunction closest (element, selector) {\r\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\r\n        if (typeof element.matches === 'function' &&\r\n            element.matches(selector)) {\r\n          return element;\r\n        }\r\n        element = element.parentNode;\r\n    }\r\n}\r\n\r\nmodule.exports = closest;\r\n\r\n},{}],2:[function(require,module,exports){\r\nvar closest = require('./closest');\r\n\r\n/**\r\n * Delegates event to a selector.\r\n *\r\n * @param {Element} element\r\n * @param {String} selector\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @param {Boolean} useCapture\r\n * @return {Object}\r\n */\r\nfunction delegate(element, selector, type, callback, useCapture) {\r\n    var listenerFn = listener.apply(this, arguments);\r\n\r\n    element.addEventListener(type, listenerFn, useCapture);\r\n\r\n    return {\r\n        destroy: function() {\r\n            element.removeEventListener(type, listenerFn, useCapture);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Finds closest match and invokes callback.\r\n *\r\n * @param {Element} element\r\n * @param {String} selector\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @return {Function}\r\n */\r\nfunction listener(element, selector, type, callback) {\r\n    return function(e) {\r\n        e.delegateTarget = closest(e.target, selector);\r\n\r\n        if (e.delegateTarget) {\r\n            callback.call(element, e);\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = delegate;\r\n\r\n},{\"./closest\":1}],3:[function(require,module,exports){\r\n/**\r\n * Check if argument is a HTML element.\r\n *\r\n * @param {Object} value\r\n * @return {Boolean}\r\n */\r\nexports.node = function(value) {\r\n    return value !== undefined\r\n        && value instanceof HTMLElement\r\n        && value.nodeType === 1;\r\n};\r\n\r\n/**\r\n * Check if argument is a list of HTML elements.\r\n *\r\n * @param {Object} value\r\n * @return {Boolean}\r\n */\r\nexports.nodeList = function(value) {\r\n    var type = Object.prototype.toString.call(value);\r\n\r\n    return value !== undefined\r\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\r\n        && ('length' in value)\r\n        && (value.length === 0 || exports.node(value[0]));\r\n};\r\n\r\n/**\r\n * Check if argument is a string.\r\n *\r\n * @param {Object} value\r\n * @return {Boolean}\r\n */\r\nexports.string = function(value) {\r\n    return typeof value === 'string'\r\n        || value instanceof String;\r\n};\r\n\r\n/**\r\n * Check if argument is a function.\r\n *\r\n * @param {Object} value\r\n * @return {Boolean}\r\n */\r\nexports.fn = function(value) {\r\n    var type = Object.prototype.toString.call(value);\r\n\r\n    return type === '[object Function]';\r\n};\r\n\r\n},{}],4:[function(require,module,exports){\r\nvar is = require('./is');\r\nvar delegate = require('delegate');\r\n\r\n/**\r\n * Validates all params and calls the right\r\n * listener function based on its target type.\r\n *\r\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @return {Object}\r\n */\r\nfunction listen(target, type, callback) {\r\n    if (!target && !type && !callback) {\r\n        throw new Error('Missing required arguments');\r\n    }\r\n\r\n    if (!is.string(type)) {\r\n        throw new TypeError('Second argument must be a String');\r\n    }\r\n\r\n    if (!is.fn(callback)) {\r\n        throw new TypeError('Third argument must be a Function');\r\n    }\r\n\r\n    if (is.node(target)) {\r\n        return listenNode(target, type, callback);\r\n    }\r\n    else if (is.nodeList(target)) {\r\n        return listenNodeList(target, type, callback);\r\n    }\r\n    else if (is.string(target)) {\r\n        return listenSelector(target, type, callback);\r\n    }\r\n    else {\r\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\r\n    }\r\n}\r\n\r\n/**\r\n * Adds an event listener to a HTML element\r\n * and returns a remove listener function.\r\n *\r\n * @param {HTMLElement} node\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @return {Object}\r\n */\r\nfunction listenNode(node, type, callback) {\r\n    node.addEventListener(type, callback);\r\n\r\n    return {\r\n        destroy: function() {\r\n            node.removeEventListener(type, callback);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Add an event listener to a list of HTML elements\r\n * and returns a remove listener function.\r\n *\r\n * @param {NodeList|HTMLCollection} nodeList\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @return {Object}\r\n */\r\nfunction listenNodeList(nodeList, type, callback) {\r\n    Array.prototype.forEach.call(nodeList, function(node) {\r\n        node.addEventListener(type, callback);\r\n    });\r\n\r\n    return {\r\n        destroy: function() {\r\n            Array.prototype.forEach.call(nodeList, function(node) {\r\n                node.removeEventListener(type, callback);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Add an event listener to a selector\r\n * and returns a remove listener function.\r\n *\r\n * @param {String} selector\r\n * @param {String} type\r\n * @param {Function} callback\r\n * @return {Object}\r\n */\r\nfunction listenSelector(selector, type, callback) {\r\n    return delegate(document.body, selector, type, callback);\r\n}\r\n\r\nmodule.exports = listen;\r\n\r\n},{\"./is\":3,\"delegate\":2}],5:[function(require,module,exports){\r\nfunction select(element) {\r\n    var selectedText;\r\n\r\n    if (element.nodeName === 'SELECT') {\r\n        element.focus();\r\n\r\n        selectedText = element.value;\r\n    }\r\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\r\n        var isReadOnly = element.hasAttribute('readonly');\r\n\r\n        if (!isReadOnly) {\r\n            element.setAttribute('readonly', '');\r\n        }\r\n\r\n        element.select();\r\n        element.setSelectionRange(0, element.value.length);\r\n\r\n        if (!isReadOnly) {\r\n            element.removeAttribute('readonly');\r\n        }\r\n\r\n        selectedText = element.value;\r\n    }\r\n    else {\r\n        if (element.hasAttribute('contenteditable')) {\r\n            element.focus();\r\n        }\r\n\r\n        var selection = window.getSelection();\r\n        var range = document.createRange();\r\n\r\n        range.selectNodeContents(element);\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n\r\n        selectedText = selection.toString();\r\n    }\r\n\r\n    return selectedText;\r\n}\r\n\r\nmodule.exports = select;\r\n\r\n},{}],6:[function(require,module,exports){\r\nfunction E () {\r\n  // Keep this empty so it's easier to inherit from\r\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\r\n}\r\n\r\nE.prototype = {\r\n  on: function (name, callback, ctx) {\r\n    var e = this.e || (this.e = {});\r\n\r\n    (e[name] || (e[name] = [])).push({\r\n      fn: callback,\r\n      ctx: ctx\r\n    });\r\n\r\n    return this;\r\n  },\r\n\r\n  once: function (name, callback, ctx) {\r\n    var self = this;\r\n    function listener () {\r\n      self.off(name, listener);\r\n      callback.apply(ctx, arguments);\r\n    };\r\n\r\n    listener._ = callback\r\n    return this.on(name, listener, ctx);\r\n  },\r\n\r\n  emit: function (name) {\r\n    var data = [].slice.call(arguments, 1);\r\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\r\n    var i = 0;\r\n    var len = evtArr.length;\r\n\r\n    for (i; i < len; i++) {\r\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\r\n    }\r\n\r\n    return this;\r\n  },\r\n\r\n  off: function (name, callback) {\r\n    var e = this.e || (this.e = {});\r\n    var evts = e[name];\r\n    var liveEvents = [];\r\n\r\n    if (evts && callback) {\r\n      for (var i = 0, len = evts.length; i < len; i++) {\r\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\r\n          liveEvents.push(evts[i]);\r\n      }\r\n    }\r\n\r\n    // Remove event from queue to prevent memory leak\r\n    // Suggested by https://github.com/lazd\r\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\r\n\r\n    (liveEvents.length)\r\n      ? e[name] = liveEvents\r\n      : delete e[name];\r\n\r\n    return this;\r\n  }\r\n};\r\n\r\nmodule.exports = E;\r\n\r\n},{}],7:[function(require,module,exports){\r\n(function (global, factory) {\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(['module', 'select'], factory);\r\n    } else if (typeof exports !== \"undefined\") {\r\n        factory(module, require('select'));\r\n    } else {\r\n        var mod = {\r\n            exports: {}\r\n        };\r\n        factory(mod, global.select);\r\n        global.clipboardAction = mod.exports;\r\n    }\r\n})(this, function (module, _select) {\r\n    'use strict';\r\n\r\n    var _select2 = _interopRequireDefault(_select);\r\n\r\n    function _interopRequireDefault(obj) {\r\n        return obj && obj.__esModule ? obj : {\r\n            default: obj\r\n        };\r\n    }\r\n\r\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\r\n        return typeof obj;\r\n    } : function (obj) {\r\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n    };\r\n\r\n    function _classCallCheck(instance, Constructor) {\r\n        if (!(instance instanceof Constructor)) {\r\n            throw new TypeError(\"Cannot call a class as a function\");\r\n        }\r\n    }\r\n\r\n    var _createClass = function () {\r\n        function defineProperties(target, props) {\r\n            for (var i = 0; i < props.length; i++) {\r\n                var descriptor = props[i];\r\n                descriptor.enumerable = descriptor.enumerable || false;\r\n                descriptor.configurable = true;\r\n                if (\"value\" in descriptor) descriptor.writable = true;\r\n                Object.defineProperty(target, descriptor.key, descriptor);\r\n            }\r\n        }\r\n\r\n        return function (Constructor, protoProps, staticProps) {\r\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\r\n            if (staticProps) defineProperties(Constructor, staticProps);\r\n            return Constructor;\r\n        };\r\n    }();\r\n\r\n    var ClipboardAction = function () {\r\n        /**\r\n         * @param {Object} options\r\n         */\r\n        function ClipboardAction(options) {\r\n            _classCallCheck(this, ClipboardAction);\r\n\r\n            this.resolveOptions(options);\r\n            this.initSelection();\r\n        }\r\n\r\n        /**\r\n         * Defines base properties passed from constructor.\r\n         * @param {Object} options\r\n         */\r\n\r\n\r\n        _createClass(ClipboardAction, [{\r\n            key: 'resolveOptions',\r\n            value: function resolveOptions() {\r\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n                this.action = options.action;\r\n                this.container = options.container;\r\n                this.emitter = options.emitter;\r\n                this.target = options.target;\r\n                this.text = options.text;\r\n                this.trigger = options.trigger;\r\n\r\n                this.selectedText = '';\r\n            }\r\n        }, {\r\n            key: 'initSelection',\r\n            value: function initSelection() {\r\n                if (this.text) {\r\n                    this.selectFake();\r\n                } else if (this.target) {\r\n                    this.selectTarget();\r\n                }\r\n            }\r\n        }, {\r\n            key: 'selectFake',\r\n            value: function selectFake() {\r\n                var _this = this;\r\n\r\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\r\n\r\n                this.removeFake();\r\n\r\n                this.fakeHandlerCallback = function () {\r\n                    return _this.removeFake();\r\n                };\r\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\r\n\r\n                this.fakeElem = document.createElement('textarea');\r\n                // Prevent zooming on iOS\r\n                this.fakeElem.style.fontSize = '12pt';\r\n                // Reset box model\r\n                this.fakeElem.style.border = '0';\r\n                this.fakeElem.style.padding = '0';\r\n                this.fakeElem.style.margin = '0';\r\n                // Move element out of screen horizontally\r\n                this.fakeElem.style.position = 'absolute';\r\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\r\n                // Move element to the same position vertically\r\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n                this.fakeElem.style.top = yPosition + 'px';\r\n\r\n                this.fakeElem.setAttribute('readonly', '');\r\n                this.fakeElem.value = this.text;\r\n\r\n                this.container.appendChild(this.fakeElem);\r\n\r\n                this.selectedText = (0, _select2.default)(this.fakeElem);\r\n                this.copyText();\r\n            }\r\n        }, {\r\n            key: 'removeFake',\r\n            value: function removeFake() {\r\n                if (this.fakeHandler) {\r\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\r\n                    this.fakeHandler = null;\r\n                    this.fakeHandlerCallback = null;\r\n                }\r\n\r\n                if (this.fakeElem) {\r\n                    this.container.removeChild(this.fakeElem);\r\n                    this.fakeElem = null;\r\n                }\r\n            }\r\n        }, {\r\n            key: 'selectTarget',\r\n            value: function selectTarget() {\r\n                this.selectedText = (0, _select2.default)(this.target);\r\n                this.copyText();\r\n            }\r\n        }, {\r\n            key: 'copyText',\r\n            value: function copyText() {\r\n                var succeeded = void 0;\r\n\r\n                try {\r\n                    succeeded = document.execCommand(this.action);\r\n                } catch (err) {\r\n                    succeeded = false;\r\n                }\r\n\r\n                this.handleResult(succeeded);\r\n            }\r\n        }, {\r\n            key: 'handleResult',\r\n            value: function handleResult(succeeded) {\r\n                this.emitter.emit(succeeded ? 'success' : 'error', {\r\n                    action: this.action,\r\n                    text: this.selectedText,\r\n                    trigger: this.trigger,\r\n                    clearSelection: this.clearSelection.bind(this)\r\n                });\r\n            }\r\n        }, {\r\n            key: 'clearSelection',\r\n            value: function clearSelection() {\r\n                if (this.trigger) {\r\n                    this.trigger.focus();\r\n                }\r\n\r\n                window.getSelection().removeAllRanges();\r\n            }\r\n        }, {\r\n            key: 'destroy',\r\n            value: function destroy() {\r\n                this.removeFake();\r\n            }\r\n        }, {\r\n            key: 'action',\r\n            set: function set() {\r\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\r\n\r\n                this._action = action;\r\n\r\n                if (this._action !== 'copy' && this._action !== 'cut') {\r\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\r\n                }\r\n            },\r\n            get: function get() {\r\n                return this._action;\r\n            }\r\n        }, {\r\n            key: 'target',\r\n            set: function set(target) {\r\n                if (target !== undefined) {\r\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\r\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\r\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\r\n                        }\r\n\r\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\r\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\r\n                        }\r\n\r\n                        this._target = target;\r\n                    } else {\r\n                        throw new Error('Invalid \"target\" value, use a valid Element');\r\n                    }\r\n                }\r\n            },\r\n            get: function get() {\r\n                return this._target;\r\n            }\r\n        }]);\r\n\r\n        return ClipboardAction;\r\n    }();\r\n\r\n    module.exports = ClipboardAction;\r\n});\r\n\r\n},{\"select\":5}],8:[function(require,module,exports){\r\n(function (global, factory) {\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(['module', './clipboard-action', 'tiny-emitter', 'good-listener'], factory);\r\n    } else if (typeof exports !== \"undefined\") {\r\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\r\n    } else {\r\n        var mod = {\r\n            exports: {}\r\n        };\r\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\r\n        global.clipboard = mod.exports;\r\n    }\r\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\r\n    'use strict';\r\n\r\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\r\n\r\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\r\n\r\n    var _goodListener2 = _interopRequireDefault(_goodListener);\r\n\r\n    function _interopRequireDefault(obj) {\r\n        return obj && obj.__esModule ? obj : {\r\n            default: obj\r\n        };\r\n    }\r\n\r\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\r\n        return typeof obj;\r\n    } : function (obj) {\r\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n    };\r\n\r\n    function _classCallCheck(instance, Constructor) {\r\n        if (!(instance instanceof Constructor)) {\r\n            throw new TypeError(\"Cannot call a class as a function\");\r\n        }\r\n    }\r\n\r\n    var _createClass = function () {\r\n        function defineProperties(target, props) {\r\n            for (var i = 0; i < props.length; i++) {\r\n                var descriptor = props[i];\r\n                descriptor.enumerable = descriptor.enumerable || false;\r\n                descriptor.configurable = true;\r\n                if (\"value\" in descriptor) descriptor.writable = true;\r\n                Object.defineProperty(target, descriptor.key, descriptor);\r\n            }\r\n        }\r\n\r\n        return function (Constructor, protoProps, staticProps) {\r\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\r\n            if (staticProps) defineProperties(Constructor, staticProps);\r\n            return Constructor;\r\n        };\r\n    }();\r\n\r\n    function _possibleConstructorReturn(self, call) {\r\n        if (!self) {\r\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\r\n        }\r\n\r\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\r\n    }\r\n\r\n    function _inherits(subClass, superClass) {\r\n        if (typeof superClass !== \"function\" && superClass !== null) {\r\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\r\n        }\r\n\r\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n            constructor: {\r\n                value: subClass,\r\n                enumerable: false,\r\n                writable: true,\r\n                configurable: true\r\n            }\r\n        });\r\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\r\n    }\r\n\r\n    var Clipboard = function (_Emitter) {\r\n        _inherits(Clipboard, _Emitter);\r\n\r\n        /**\r\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\r\n         * @param {Object} options\r\n         */\r\n        function Clipboard(trigger, options) {\r\n            _classCallCheck(this, Clipboard);\r\n\r\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\r\n\r\n            _this.resolveOptions(options);\r\n            _this.listenClick(trigger);\r\n            return _this;\r\n        }\r\n\r\n        /**\r\n         * Defines if attributes would be resolved using internal setter functions\r\n         * or custom functions that were passed in the constructor.\r\n         * @param {Object} options\r\n         */\r\n\r\n\r\n        _createClass(Clipboard, [{\r\n            key: 'resolveOptions',\r\n            value: function resolveOptions() {\r\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\r\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\r\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\r\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\r\n            }\r\n        }, {\r\n            key: 'listenClick',\r\n            value: function listenClick(trigger) {\r\n                var _this2 = this;\r\n\r\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\r\n                    return _this2.onClick(e);\r\n                });\r\n            }\r\n        }, {\r\n            key: 'onClick',\r\n            value: function onClick(e) {\r\n                var trigger = e.delegateTarget || e.currentTarget;\r\n\r\n                if (this.clipboardAction) {\r\n                    this.clipboardAction = null;\r\n                }\r\n\r\n                this.clipboardAction = new _clipboardAction2.default({\r\n                    action: this.action(trigger),\r\n                    target: this.target(trigger),\r\n                    text: this.text(trigger),\r\n                    container: this.container,\r\n                    trigger: trigger,\r\n                    emitter: this\r\n                });\r\n            }\r\n        }, {\r\n            key: 'defaultAction',\r\n            value: function defaultAction(trigger) {\r\n                return getAttributeValue('action', trigger);\r\n            }\r\n        }, {\r\n            key: 'defaultTarget',\r\n            value: function defaultTarget(trigger) {\r\n                var selector = getAttributeValue('target', trigger);\r\n\r\n                if (selector) {\r\n                    return document.querySelector(selector);\r\n                }\r\n            }\r\n        }, {\r\n            key: 'defaultText',\r\n            value: function defaultText(trigger) {\r\n                return getAttributeValue('text', trigger);\r\n            }\r\n        }, {\r\n            key: 'destroy',\r\n            value: function destroy() {\r\n                this.listener.destroy();\r\n\r\n                if (this.clipboardAction) {\r\n                    this.clipboardAction.destroy();\r\n                    this.clipboardAction = null;\r\n                }\r\n            }\r\n        }], [{\r\n            key: 'isSupported',\r\n            value: function isSupported() {\r\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\r\n\r\n                var actions = typeof action === 'string' ? [action] : action;\r\n                var support = !!document.queryCommandSupported;\r\n\r\n                actions.forEach(function (action) {\r\n                    support = support && !!document.queryCommandSupported(action);\r\n                });\r\n\r\n                return support;\r\n            }\r\n        }]);\r\n\r\n        return Clipboard;\r\n    }(_tinyEmitter2.default);\r\n\r\n    /**\r\n     * Helper function to retrieve attribute value.\r\n     * @param {String} suffix\r\n     * @param {Element} element\r\n     */\r\n    function getAttributeValue(suffix, element) {\r\n        var attribute = 'data-clipboard-' + suffix;\r\n\r\n        if (!element.hasAttribute(attribute)) {\r\n            return;\r\n        }\r\n\r\n        return element.getAttribute(attribute);\r\n    }\r\n\r\n    module.exports = Clipboard;\r\n});\r\n\r\n},{\"./clipboard-action\":7,\"good-listener\":4,\"tiny-emitter\":6}]},{},[8])(8)\r\n});","/**\r\n* jquery-match-height 0.7.2 by @liabru\r\n* http://brm.io/jquery-match-height/\r\n* License: MIT\r\n*/\r\n\r\n;(function(factory) { // eslint-disable-line no-extra-semi\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD\r\n        define(['jquery'], factory);\r\n    } else if (typeof module !== 'undefined' && module.exports) {\r\n        // CommonJS\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        // Global\r\n        factory(jQuery);\r\n    }\r\n})(function($) {\r\n    /*\r\n    *  internal\r\n    */\r\n\r\n    var _previousResizeWidth = -1,\r\n        _updateTimeout = -1;\r\n\r\n    /*\r\n    *  _parse\r\n    *  value parse utility function\r\n    */\r\n\r\n    var _parse = function(value) {\r\n        // parse value and convert NaN to 0\r\n        return parseFloat(value) || 0;\r\n    };\r\n\r\n    /*\r\n    *  _rows\r\n    *  utility function returns array of jQuery selections representing each row\r\n    *  (as displayed after float wrapping applied by browser)\r\n    */\r\n\r\n    var _rows = function(elements) {\r\n        var tolerance = 1,\r\n            $elements = $(elements),\r\n            lastTop = null,\r\n            rows = [];\r\n\r\n        // group elements by their top position\r\n        $elements.each(function(){\r\n            var $that = $(this),\r\n                top = $that.offset().top - _parse($that.css('margin-top')),\r\n                lastRow = rows.length > 0 ? rows[rows.length - 1] : null;\r\n\r\n            if (lastRow === null) {\r\n                // first item on the row, so just push it\r\n                rows.push($that);\r\n            } else {\r\n                // if the row top is the same, add to the row group\r\n                if (Math.floor(Math.abs(lastTop - top)) <= tolerance) {\r\n                    rows[rows.length - 1] = lastRow.add($that);\r\n                } else {\r\n                    // otherwise start a new row group\r\n                    rows.push($that);\r\n                }\r\n            }\r\n\r\n            // keep track of the last row top\r\n            lastTop = top;\r\n        });\r\n\r\n        return rows;\r\n    };\r\n\r\n    /*\r\n    *  _parseOptions\r\n    *  handle plugin options\r\n    */\r\n\r\n    var _parseOptions = function(options) {\r\n        var opts = {\r\n            byRow: true,\r\n            property: 'height',\r\n            target: null,\r\n            remove: false\r\n        };\r\n\r\n        if (typeof options === 'object') {\r\n            return $.extend(opts, options);\r\n        }\r\n\r\n        if (typeof options === 'boolean') {\r\n            opts.byRow = options;\r\n        } else if (options === 'remove') {\r\n            opts.remove = true;\r\n        }\r\n\r\n        return opts;\r\n    };\r\n\r\n    /*\r\n    *  matchHeight\r\n    *  plugin definition\r\n    */\r\n\r\n    var matchHeight = $.fn.matchHeight = function(options) {\r\n        var opts = _parseOptions(options);\r\n\r\n        // handle remove\r\n        if (opts.remove) {\r\n            var that = this;\r\n\r\n            // remove fixed height from all selected elements\r\n            this.css(opts.property, '');\r\n\r\n            // remove selected elements from all groups\r\n            $.each(matchHeight._groups, function(key, group) {\r\n                group.elements = group.elements.not(that);\r\n            });\r\n\r\n            // TODO: cleanup empty groups\r\n\r\n            return this;\r\n        }\r\n\r\n        if (this.length <= 1 && !opts.target) {\r\n            return this;\r\n        }\r\n\r\n        // keep track of this group so we can re-apply later on load and resize events\r\n        matchHeight._groups.push({\r\n            elements: this,\r\n            options: opts\r\n        });\r\n\r\n        // match each element's height to the tallest element in the selection\r\n        matchHeight._apply(this, opts);\r\n\r\n        return this;\r\n    };\r\n\r\n    /*\r\n    *  plugin global options\r\n    */\r\n\r\n    matchHeight.version = '0.7.2';\r\n    matchHeight._groups = [];\r\n    matchHeight._throttle = 80;\r\n    matchHeight._maintainScroll = false;\r\n    matchHeight._beforeUpdate = null;\r\n    matchHeight._afterUpdate = null;\r\n    matchHeight._rows = _rows;\r\n    matchHeight._parse = _parse;\r\n    matchHeight._parseOptions = _parseOptions;\r\n\r\n    /*\r\n    *  matchHeight._apply\r\n    *  apply matchHeight to given elements\r\n    */\r\n\r\n    matchHeight._apply = function(elements, options) {\r\n        var opts = _parseOptions(options),\r\n            $elements = $(elements),\r\n            rows = [$elements];\r\n\r\n        // take note of scroll position\r\n        var scrollTop = $(window).scrollTop(),\r\n            htmlHeight = $('html').outerHeight(true);\r\n\r\n        // get hidden parents\r\n        var $hiddenParents = $elements.parents().filter(':hidden');\r\n\r\n        // cache the original inline style\r\n        $hiddenParents.each(function() {\r\n            var $that = $(this);\r\n            $that.data('style-cache', $that.attr('style'));\r\n        });\r\n\r\n        // temporarily must force hidden parents visible\r\n        $hiddenParents.css('display', 'block');\r\n\r\n        // get rows if using byRow, otherwise assume one row\r\n        if (opts.byRow && !opts.target) {\r\n\r\n            // must first force an arbitrary equal height so floating elements break evenly\r\n            $elements.each(function() {\r\n                var $that = $(this),\r\n                    display = $that.css('display');\r\n\r\n                // temporarily force a usable display value\r\n                if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {\r\n                    display = 'block';\r\n                }\r\n\r\n                // cache the original inline style\r\n                $that.data('style-cache', $that.attr('style'));\r\n\r\n                $that.css({\r\n                    'display': display,\r\n                    'padding-top': '0',\r\n                    'padding-bottom': '0',\r\n                    'margin-top': '0',\r\n                    'margin-bottom': '0',\r\n                    'border-top-width': '0',\r\n                    'border-bottom-width': '0',\r\n                    'height': '100px',\r\n                    'overflow': 'hidden'\r\n                });\r\n            });\r\n\r\n            // get the array of rows (based on element top position)\r\n            rows = _rows($elements);\r\n\r\n            // revert original inline styles\r\n            $elements.each(function() {\r\n                var $that = $(this);\r\n                $that.attr('style', $that.data('style-cache') || '');\r\n            });\r\n        }\r\n\r\n        $.each(rows, function(key, row) {\r\n            var $row = $(row),\r\n                targetHeight = 0;\r\n\r\n            if (!opts.target) {\r\n                // skip apply to rows with only one item\r\n                if (opts.byRow && $row.length <= 1) {\r\n                    $row.css(opts.property, '');\r\n                    return;\r\n                }\r\n\r\n                // iterate the row and find the max height\r\n                $row.each(function(){\r\n                    var $that = $(this),\r\n                        style = $that.attr('style'),\r\n                        display = $that.css('display');\r\n\r\n                    // temporarily force a usable display value\r\n                    if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {\r\n                        display = 'block';\r\n                    }\r\n\r\n                    // ensure we get the correct actual height (and not a previously set height value)\r\n                    var css = { 'display': display };\r\n                    css[opts.property] = '';\r\n                    $that.css(css);\r\n\r\n                    // find the max height (including padding, but not margin)\r\n                    if ($that.outerHeight(false) > targetHeight) {\r\n                        targetHeight = $that.outerHeight(false);\r\n                    }\r\n\r\n                    // revert styles\r\n                    if (style) {\r\n                        $that.attr('style', style);\r\n                    } else {\r\n                        $that.css('display', '');\r\n                    }\r\n                });\r\n            } else {\r\n                // if target set, use the height of the target element\r\n                targetHeight = opts.target.outerHeight(false);\r\n            }\r\n\r\n            // iterate the row and apply the height to all elements\r\n            $row.each(function(){\r\n                var $that = $(this),\r\n                    verticalPadding = 0;\r\n\r\n                // don't apply to a target\r\n                if (opts.target && $that.is(opts.target)) {\r\n                    return;\r\n                }\r\n\r\n                // handle padding and border correctly (required when not using border-box)\r\n                if ($that.css('box-sizing') !== 'border-box') {\r\n                    verticalPadding += _parse($that.css('border-top-width')) + _parse($that.css('border-bottom-width'));\r\n                    verticalPadding += _parse($that.css('padding-top')) + _parse($that.css('padding-bottom'));\r\n                }\r\n\r\n                // set the height (accounting for padding and border)\r\n                $that.css(opts.property, (targetHeight - verticalPadding) + 'px');\r\n            });\r\n        });\r\n\r\n        // revert hidden parents\r\n        $hiddenParents.each(function() {\r\n            var $that = $(this);\r\n            $that.attr('style', $that.data('style-cache') || null);\r\n        });\r\n\r\n        // restore scroll position if enabled\r\n        if (matchHeight._maintainScroll) {\r\n            $(window).scrollTop((scrollTop / htmlHeight) * $('html').outerHeight(true));\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /*\r\n    *  matchHeight._applyDataApi\r\n    *  applies matchHeight to all elements with a data-match-height attribute\r\n    */\r\n\r\n    matchHeight._applyDataApi = function() {\r\n        var groups = {};\r\n\r\n        // generate groups by their groupId set by elements using data-match-height\r\n        $('[data-match-height], [data-mh]').each(function() {\r\n            var $this = $(this),\r\n                groupId = $this.attr('data-mh') || $this.attr('data-match-height');\r\n\r\n            if (groupId in groups) {\r\n                groups[groupId] = groups[groupId].add($this);\r\n            } else {\r\n                groups[groupId] = $this;\r\n            }\r\n        });\r\n\r\n        // apply matchHeight to each group\r\n        $.each(groups, function() {\r\n            this.matchHeight(true);\r\n        });\r\n    };\r\n\r\n    /*\r\n    *  matchHeight._update\r\n    *  updates matchHeight on all current groups with their correct options\r\n    */\r\n\r\n    var _update = function(event) {\r\n        if (matchHeight._beforeUpdate) {\r\n            matchHeight._beforeUpdate(event, matchHeight._groups);\r\n        }\r\n\r\n        $.each(matchHeight._groups, function() {\r\n            matchHeight._apply(this.elements, this.options);\r\n        });\r\n\r\n        if (matchHeight._afterUpdate) {\r\n            matchHeight._afterUpdate(event, matchHeight._groups);\r\n        }\r\n    };\r\n\r\n    matchHeight._update = function(throttle, event) {\r\n        // prevent update if fired from a resize event\r\n        // where the viewport width hasn't actually changed\r\n        // fixes an event looping bug in IE8\r\n        if (event && event.type === 'resize') {\r\n            var windowWidth = $(window).width();\r\n            if (windowWidth === _previousResizeWidth) {\r\n                return;\r\n            }\r\n            _previousResizeWidth = windowWidth;\r\n        }\r\n\r\n        // throttle updates\r\n        if (!throttle) {\r\n            _update(event);\r\n        } else if (_updateTimeout === -1) {\r\n            _updateTimeout = setTimeout(function() {\r\n                _update(event);\r\n                _updateTimeout = -1;\r\n            }, matchHeight._throttle);\r\n        }\r\n    };\r\n\r\n    /*\r\n    *  bind events\r\n    */\r\n\r\n    // apply on DOM ready event\r\n    $(matchHeight._applyDataApi);\r\n\r\n    // use on or bind where supported\r\n    var on = $.fn.on ? 'on' : 'bind';\r\n\r\n    // update heights on load and resize events\r\n    $(window)[on]('load', function(event) {\r\n        matchHeight._update(false, event);\r\n    });\r\n\r\n    // throttled update heights on resize events\r\n    $(window)[on]('resize orientationchange', function(event) {\r\n        matchHeight._update(true, event);\r\n    });\r\n\r\n});\r\n","// ==================================================\r\n// fancyBox v3.2.10\r\n//\r\n// Licensed GPLv3 for open source use\r\n// or fancyBox Commercial License for commercial use\r\n//\r\n// http://fancyapps.com/fancybox/\r\n// Copyright 2017 fancyApps\r\n//\r\n// ==================================================\r\n;(function (window, document, $, undefined) {\r\n    'use strict';\r\n\r\n    // If there's no jQuery, fancyBox can't work\r\n    // =========================================\r\n\r\n    if ( !$ ) {\r\n        return;\r\n    }\r\n\r\n    // Check if fancyBox is already initialized\r\n    // ========================================\r\n\r\n    if ( $.fn.fancybox ) {\r\n\r\n        if ( 'console' in window ) {\r\n            console.log( 'fancyBox already initialized' );\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    // Private default settings\r\n    // ========================\r\n\r\n    var defaults = {\r\n\r\n        // Enable infinite gallery navigation\r\n        loop : false,\r\n\r\n        // Space around image, ignored if zoomed-in or viewport width is smaller than 800px\r\n        margin : [44, 0],\r\n\r\n        // Horizontal space between slides\r\n        gutter : 50,\r\n\r\n        // Enable keyboard navigation\r\n        keyboard : true,\r\n\r\n        // Should display navigation arrows at the screen edges\r\n        arrows : true,\r\n\r\n        // Should display infobar (counter and arrows at the top)\r\n        infobar : true,\r\n\r\n        // Should display toolbar (buttons at the top)\r\n        toolbar : true,\r\n\r\n        // What buttons should appear in the top right corner.\r\n        // Buttons will be created using templates from `btnTpl` option\r\n        // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\r\n        buttons : [\r\n            'slideShow',\r\n            'fullScreen',\r\n            'thumbs',\r\n            'share',\r\n            //'download',\r\n            //'zoom',\r\n            'close'\r\n        ],\r\n\r\n        // Detect \"idle\" time in seconds\r\n        idleTime : 3,\r\n\r\n        // Should display buttons at top right corner of the content\r\n        // If 'auto' - they will be created for content having type 'html', 'inline' or 'ajax'\r\n        // Use template from `btnTpl.smallBtn` for customization\r\n        smallBtn : 'auto',\r\n\r\n        // Disable right-click and use simple image protection for images\r\n        protect : false,\r\n\r\n        // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\r\n        modal : false,\r\n\r\n        image : {\r\n\r\n            // Wait for images to load before displaying\r\n            // Requires predefined image dimensions\r\n            // If 'auto' - will zoom in thumbnail if 'width' and 'height' attributes are found\r\n            preload : \"auto\"\r\n\r\n        },\r\n\r\n        ajax : {\r\n\r\n            // Object containing settings for ajax request\r\n            settings : {\r\n\r\n                // This helps to indicate that request comes from the modal\r\n                // Feel free to change naming\r\n                data : {\r\n                    fancybox : true\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        iframe : {\r\n\r\n            // Iframe template\r\n            tpl : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\r\n\r\n            // Preload iframe before displaying it\r\n            // This allows to calculate iframe content width and height\r\n            // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\r\n            preload : true,\r\n\r\n            // Custom CSS styling for iframe wrapping element\r\n            // You can use this to set custom iframe dimensions\r\n            css : {},\r\n\r\n            // Iframe tag attributes\r\n            attr : {\r\n                scrolling : 'auto'\r\n            }\r\n\r\n        },\r\n\r\n        // Default content type if cannot be detected automatically\r\n        defaultType : 'image',\r\n\r\n        // Open/close animation type\r\n        // Possible values:\r\n        //   false            - disable\r\n        //   \"zoom\"           - zoom images from/to thumbnail\r\n        //   \"fade\"\r\n        //   \"zoom-in-out\"\r\n        //\r\n        animationEffect : \"zoom\",\r\n\r\n        // Duration in ms for open/close animation\r\n        animationDuration : 500,\r\n\r\n        // Should image change opacity while zooming\r\n        // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\r\n        zoomOpacity : \"auto\",\r\n\r\n        // Transition effect between slides\r\n        //\r\n        // Possible values:\r\n        //   false            - disable\r\n        //   \"fade'\r\n        //   \"slide'\r\n        //   \"circular'\r\n        //   \"tube'\r\n        //   \"zoom-in-out'\r\n        //   \"rotate'\r\n        //\r\n        transitionEffect : \"fade\",\r\n\r\n        // Duration in ms for transition animation\r\n        transitionDuration : 366,\r\n\r\n        // Custom CSS class for slide element\r\n        slideClass : '',\r\n\r\n        // Custom CSS class for layout\r\n        baseClass : '',\r\n\r\n        // Base template for layout\r\n        baseTpl\t:\r\n            '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\r\n                '<div class=\"fancybox-bg\"></div>' +\r\n                '<div class=\"fancybox-inner\">' +\r\n                    '<div class=\"fancybox-infobar\">' +\r\n                        '<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>' +\r\n                    '</div>' +\r\n                    '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\r\n                    '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\r\n                    '<div class=\"fancybox-stage\"></div>' +\r\n                    '<div class=\"fancybox-caption-wrap\"><div class=\"fancybox-caption\"></div></div>' +\r\n                '</div>' +\r\n            '</div>',\r\n\r\n        // Loading indicator template\r\n        spinnerTpl : '<div class=\"fancybox-loading\"></div>',\r\n\r\n        // Error message template\r\n        errorTpl : '<div class=\"fancybox-error\"><p>{{ERROR}}<p></div>',\r\n\r\n        btnTpl : {\r\n\r\n            download : '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\">' +\r\n                        '<svg viewBox=\"0 0 40 40\">' +\r\n                            '<path d=\"M20,23 L20,8 L20,23 L13,16 L20,23 L27,16 L20,23 M26,28 L13,28 L27,28 L14,28\" />' +\r\n                        '</svg>' +\r\n                    '</a>',\r\n\r\n            zoom : '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n                        '<svg viewBox=\"0 0 40 40\">' +\r\n                            '<path d=\"M 18,17 m-8,0 a 8,8 0 1,0 16,0 a 8,8 0 1,0 -16,0 M25,23 L31,29 L25,23\" />' +\r\n                        '</svg>' +\r\n                    '</button>',\r\n\r\n            close : '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n                        '<svg viewBox=\"0 0 40 40\">' +\r\n                            '<path d=\"M10,10 L30,30 M30,10 L10,30\" />' +\r\n                        '</svg>' +\r\n                    '</button>',\r\n\r\n            // This small close button will be appended to your html/inline/ajax content by default,\r\n            // if \"smallBtn\" option is not set to false\r\n            smallBtn   : '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"></button>',\r\n\r\n            // Arrows\r\n            arrowLeft : '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\r\n                            '<svg viewBox=\"0 0 40 40\">' +\r\n                              '<path d=\"M10,20 L30,20 L10,20 L18,28 L10,20 L18,12 L10,20\"></path>' +\r\n                            '</svg>' +\r\n                          '</button>',\r\n\r\n            arrowRight : '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\r\n                          '<svg viewBox=\"0 0 40 40\">' +\r\n                            '<path d=\"M30,20 L10,20 L30,20 L22,28 L30,20 L22,12 L30,20\"></path>' +\r\n                          '</svg>' +\r\n                        '</button>'\r\n        },\r\n\r\n        // Container is injected into this element\r\n        parentEl : 'body',\r\n\r\n\r\n        // Focus handling\r\n        // ==============\r\n\r\n        // Try to focus on the first focusable element after opening\r\n        autoFocus : false,\r\n\r\n        // Put focus back to active element after closing\r\n        backFocus : true,\r\n\r\n        // Do not let user to focus on element outside modal content\r\n        trapFocus : true,\r\n\r\n\r\n        // Module specific options\r\n        // =======================\r\n\r\n        fullScreen : {\r\n            autoStart : false,\r\n        },\r\n\r\n        // Set `touch: false` to disable dragging/swiping\r\n        touch : {\r\n            vertical : true,  // Allow to drag content vertically\r\n            momentum : true   // Continue movement after releasing mouse/touch when panning\r\n        },\r\n\r\n        // Hash value when initializing manually,\r\n        // set `false` to disable hash change\r\n        hash : null,\r\n\r\n        // Customize or add new media types\r\n        // Example:\r\n        /*\r\n        media : {\r\n            youtube : {\r\n                params : {\r\n                    autoplay : 0\r\n                }\r\n            }\r\n        }\r\n        */\r\n        media : {},\r\n\r\n        slideShow : {\r\n            autoStart : false,\r\n            speed     : 4000\r\n        },\r\n\r\n        thumbs : {\r\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\r\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\r\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\r\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x) scrolling\r\n\t\t},\r\n\r\n        // Use mousewheel to navigate gallery\r\n        // If 'auto' - enabled for images only\r\n        wheel : 'auto',\r\n\r\n        // Callbacks\r\n        //==========\r\n\r\n        // See Documentation/API/Events for more information\r\n        // Example:\r\n        /*\r\n            afterShow: function( instance, current ) {\r\n                 console.info( 'Clicked element:' );\r\n                 console.info( current.opts.$orig );\r\n            }\r\n        */\r\n\r\n        onInit       : $.noop,  // When instance has been initialized\r\n\r\n        beforeLoad   : $.noop,  // Before the content of a slide is being loaded\r\n        afterLoad    : $.noop,  // When the content of a slide is done loading\r\n\r\n        beforeShow   : $.noop,  // Before open animation starts\r\n        afterShow    : $.noop,  // When content is done loading and animating\r\n\r\n        beforeClose  : $.noop,  // Before the instance attempts to close. Return false to cancel the close.\r\n        afterClose   : $.noop,  // After instance has been closed\r\n\r\n        onActivate   : $.noop,  // When instance is brought to front\r\n        onDeactivate : $.noop,  // When other instance has been activated\r\n\r\n\r\n        // Interaction\r\n        // ===========\r\n\r\n        // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\r\n        // each option can be string or method that returns value.\r\n        //\r\n        // Possible values:\r\n        //   \"close\"           - close instance\r\n        //   \"next\"            - move to next gallery item\r\n        //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\r\n        //   \"toggleControls\"  - show/hide controls\r\n        //   \"zoom\"            - zoom image (if loaded)\r\n        //   false             - do nothing\r\n\r\n        // Clicked on the content\r\n        clickContent : function( current, event ) {\r\n            return current.type === 'image' ? 'zoom' : false;\r\n        },\r\n\r\n        // Clicked on the slide\r\n        clickSlide : 'close',\r\n\r\n        // Clicked on the background (backdrop) element\r\n        clickOutside : 'close',\r\n\r\n        // Same as previous two, but for double click\r\n        dblclickContent : false,\r\n        dblclickSlide   : false,\r\n        dblclickOutside : false,\r\n\r\n\r\n        // Custom options when mobile device is detected\r\n        // =============================================\r\n\r\n        mobile : {\r\n            idleTime : false,\r\n            margin   : 0,\r\n\r\n            clickContent : function( current, event ) {\r\n                return current.type === 'image' ? 'toggleControls' : false;\r\n            },\r\n            clickSlide : function( current, event ) {\r\n                return current.type === 'image' ? 'toggleControls' : 'close';\r\n            },\r\n            dblclickContent : function( current, event ) {\r\n                return current.type === 'image' ? 'zoom' : false;\r\n            },\r\n            dblclickSlide : function( current, event ) {\r\n                return current.type === 'image' ? 'zoom' : false;\r\n            }\r\n        },\r\n\r\n\r\n        // Internationalization\r\n        // ============\r\n\r\n        lang : 'en',\r\n        i18n : {\r\n            'en' : {\r\n                CLOSE       : 'Close',\r\n                NEXT        : 'Next',\r\n                PREV        : 'Previous',\r\n                ERROR       : 'The requested content cannot be loaded. <br/> Please try again later.',\r\n                PLAY_START  : 'Start slideshow',\r\n                PLAY_STOP   : 'Pause slideshow',\r\n                FULL_SCREEN : 'Full screen',\r\n                THUMBS      : 'Thumbnails',\r\n                DOWNLOAD    : 'Download',\r\n                SHARE       : 'Share',\r\n                ZOOM        : 'Zoom'\r\n            },\r\n            'de' : {\r\n                CLOSE       : 'Schliessen',\r\n                NEXT        : 'Weiter',\r\n                PREV        : 'Zurck',\r\n                ERROR       : 'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.',\r\n                PLAY_START  : 'Diaschau starten',\r\n                PLAY_STOP   : 'Diaschau beenden',\r\n                FULL_SCREEN : 'Vollbild',\r\n                THUMBS      : 'Vorschaubilder',\r\n                DOWNLOAD    : 'Herunterladen',\r\n                SHARE       : 'Teilen',\r\n                ZOOM        : 'Mastab'\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    // Few useful variables and methods\r\n    // ================================\r\n\r\n    var $W = $(window);\r\n    var $D = $(document);\r\n\r\n    var called = 0;\r\n\r\n\r\n    // Check if an object is a jQuery object and not a native JavaScript object\r\n    // ========================================================================\r\n\r\n    var isQuery = function ( obj ) {\r\n        return obj && obj.hasOwnProperty && obj instanceof $;\r\n    };\r\n\r\n\r\n    // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\r\n    // ===============================================================================\r\n\r\n    var requestAFrame = (function () {\r\n        return window.requestAnimationFrame ||\r\n                window.webkitRequestAnimationFrame ||\r\n                window.mozRequestAnimationFrame ||\r\n                window.oRequestAnimationFrame ||\r\n                // if all else fails, use setTimeout\r\n                function (callback) {\r\n                    return window.setTimeout(callback, 1000 / 60);\r\n                };\r\n    })();\r\n\r\n\r\n    // Detect the supported transition-end event property name\r\n    // =======================================================\r\n\r\n    var transitionEnd = (function () {\r\n        var t, el = document.createElement(\"fakeelement\");\r\n\r\n        var transitions = {\r\n            \"transition\"      : \"transitionend\",\r\n            \"OTransition\"     : \"oTransitionEnd\",\r\n            \"MozTransition\"   : \"transitionend\",\r\n            \"WebkitTransition\": \"webkitTransitionEnd\"\r\n        };\r\n\r\n        for (t in transitions) {\r\n            if (el.style[t] !== undefined){\r\n                return transitions[t];\r\n            }\r\n        }\r\n\r\n        return 'transitionend';\r\n    })();\r\n\r\n\r\n    // Force redraw on an element.\r\n    // This helps in cases where the browser doesn't redraw an updated element properly.\r\n    // =================================================================================\r\n\r\n    var forceRedraw = function( $el ) {\r\n        return ( $el && $el.length && $el[0].offsetHeight );\r\n    };\r\n\r\n\r\n    // Class definition\r\n    // ================\r\n\r\n    var FancyBox = function( content, opts, index ) {\r\n        var self = this;\r\n\r\n        self.opts = $.extend( true, { index : index }, $.fancybox.defaults, opts || {} );\r\n\r\n        if ( $.fancybox.isMobile ) {\r\n            self.opts = $.extend( true, {}, self.opts, self.opts.mobile );\r\n        }\r\n\r\n        // Exclude buttons option from deep merging\r\n        if ( opts && $.isArray( opts.buttons ) ) {\r\n            self.opts.buttons = opts.buttons;\r\n        }\r\n\r\n        self.id    = self.opts.id || ++called;\r\n        self.group = [];\r\n\r\n        self.currIndex = parseInt( self.opts.index, 10 ) || 0;\r\n        self.prevIndex = null;\r\n\r\n        self.prevPos = null;\r\n        self.currPos = 0;\r\n\r\n        self.firstRun = null;\r\n\r\n        // Create group elements from original item collection\r\n        self.createGroup( content );\r\n\r\n        if ( !self.group.length ) {\r\n            return;\r\n        }\r\n\r\n        // Save last active element and current scroll position\r\n        self.$lastFocus = $(document.activeElement).blur();\r\n\r\n        // Collection of gallery objects\r\n        self.slides = {};\r\n\r\n        self.init();\r\n    };\r\n\r\n    $.extend(FancyBox.prototype, {\r\n\r\n        // Create DOM structure\r\n        // ====================\r\n\r\n        init : function() {\r\n            var self = this,\r\n                firstItem      = self.group[ self.currIndex ],\r\n                firstItemOpts  = firstItem.opts,\r\n                scrollbarWidth = $.fancybox.scrollbarWidth,\r\n                $scrollDiv,\r\n                $container,\r\n                buttonStr;\r\n\r\n            self.scrollTop  = $D.scrollTop();\r\n            self.scrollLeft = $D.scrollLeft();\r\n\r\n\r\n            // Hide scrollbars\r\n            // ===============\r\n\r\n            if ( !$.fancybox.getInstance() ) {\r\n\r\n                $( 'body' ).addClass( 'fancybox-active' );\r\n\r\n                // iOS hack\r\n                if ( /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ) {\r\n\r\n                    // iOS has problems for input elements inside fixed containers,\r\n                    // the workaround is to apply `position: fixed` to `<body>` element,\r\n                    // unfortunately, this makes it lose the scrollbars and forces address bar to appear.\r\n\r\n                    if ( firstItem.type !== 'image' ) {\r\n                        $( 'body' ).css( 'top', $( 'body' ).scrollTop() * -1 ).addClass( 'fancybox-iosfix' );\r\n                    }\r\n\r\n                } else if ( !$.fancybox.isMobile && document.body.scrollHeight > window.innerHeight ) {\r\n\r\n                    if ( scrollbarWidth === undefined ) {\r\n                        $scrollDiv = $('<div style=\"width:50px;height:50px;overflow:scroll;\" />').appendTo( 'body' );\r\n\r\n                        scrollbarWidth = $.fancybox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;\r\n\r\n                        $scrollDiv.remove();\r\n                    }\r\n\r\n                    $( 'head' ).append( '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar { margin-right: ' + scrollbarWidth + 'px; }</style>' );\r\n                    $( 'body' ).addClass( 'compensate-for-scrollbar' );\r\n                }\r\n            }\r\n\r\n\r\n            // Build html markup and set references\r\n            // ====================================\r\n\r\n            // Build html code for buttons and insert into main template\r\n            buttonStr = '';\r\n\r\n            $.each( firstItemOpts.buttons, function( index, value ) {\r\n                buttonStr += ( firstItemOpts.btnTpl[ value ] || '' );\r\n            });\r\n\r\n            // Create markup from base template, it will be initially hidden to\r\n            // avoid unnecessary work like painting while initializing is not complete\r\n            $container = $(\r\n                self.translate( self,\r\n                    firstItemOpts.baseTpl\r\n                        .replace( '\\{\\{buttons\\}\\}', buttonStr )\r\n                        .replace( '\\{\\{arrows\\}\\}', firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight )\r\n                )\r\n            )\r\n                .attr( 'id', 'fancybox-container-' + self.id )\r\n                .addClass( 'fancybox-is-hidden' )\r\n                .addClass( firstItemOpts.baseClass )\r\n                .data( 'FancyBox', self )\r\n                .appendTo( firstItemOpts.parentEl );\r\n\r\n            // Create object holding references to jQuery wrapped nodes\r\n            self.$refs = {\r\n                container : $container\r\n            };\r\n\r\n            [ 'bg', 'inner', 'infobar', 'toolbar', 'stage', 'caption', 'navigation' ].forEach(function(item) {\r\n                self.$refs[ item ] = $container.find( '.fancybox-' + item );\r\n            });\r\n\r\n            self.trigger( 'onInit' );\r\n\r\n            // Enable events, deactive previous instances\r\n            self.activate();\r\n\r\n            // Build slides, load and reveal content\r\n            self.jumpTo( self.currIndex );\r\n        },\r\n\r\n\r\n        // Simple i18n support - replaces object keys found in template\r\n        // with corresponding values\r\n        // ============================================================\r\n\r\n        translate : function( obj, str ) {\r\n            var arr = obj.opts.i18n[ obj.opts.lang ];\r\n\r\n            return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\r\n                var value = arr[n];\r\n\r\n                if ( value === undefined ) {\r\n                    return match;\r\n                }\r\n\r\n                return value;\r\n            });\r\n        },\r\n\r\n        // Create array of gally item objects\r\n        // Check if each object has valid type and content\r\n        // ===============================================\r\n\r\n        createGroup : function ( content ) {\r\n            var self  = this;\r\n            var items = $.makeArray( content );\r\n\r\n            $.each(items, function( i, item ) {\r\n                var obj  = {},\r\n                    opts = {},\r\n                    $item,\r\n                    type,\r\n                    found,\r\n                    src,\r\n                    srcParts;\r\n\r\n                // Step 1 - Make sure we have an object\r\n                // ====================================\r\n\r\n                if ( $.isPlainObject( item ) ) {\r\n\r\n                    // We probably have manual usage here, something like\r\n                    // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\r\n\r\n                    obj  = item;\r\n                    opts = item.opts || item;\r\n\r\n                } else if ( $.type( item ) === 'object' && $( item ).length ) {\r\n\r\n                    // Here we probably have jQuery collection returned by some selector\r\n                    $item = $( item );\r\n\r\n                    opts = $item.data();\r\n                    opts = $.extend( {}, opts, opts.options || {} );\r\n\r\n                    // Here we store clicked element\r\n                    opts.$orig = $item;\r\n\r\n                    obj.src = opts.src || $item.attr( 'href' );\r\n\r\n                    // Assume that simple syntax is used, for example:\r\n                    //   `$.fancybox.open( $(\"#test\"), {} );`\r\n                    if ( !obj.type && !obj.src ) {\r\n                        obj.type = 'inline';\r\n                        obj.src  = item;\r\n                    }\r\n\r\n                } else {\r\n\r\n                    // Assume we have a simple html code, for example:\r\n                    //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\r\n\r\n                    obj = {\r\n                        type : 'html',\r\n                        src  : item + ''\r\n                    };\r\n\r\n                }\r\n\r\n                // Each gallery object has full collection of options\r\n                obj.opts = $.extend( true, {}, self.opts, opts );\r\n\r\n                // Do not merge buttons array\r\n                if ( $.isArray( opts.buttons ) ) {\r\n                    obj.opts.buttons = opts.buttons;\r\n                }\r\n\r\n\r\n                // Step 2 - Make sure we have content type, if not - try to guess\r\n                // ==============================================================\r\n\r\n                type = obj.type || obj.opts.type;\r\n                src  = obj.src || '';\r\n\r\n                if ( !type && src ) {\r\n                    if ( src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i) ) {\r\n                        type = 'image';\r\n\r\n                    } else if ( src.match(/\\.(pdf)((\\?|#).*)?$/i) ) {\r\n                        type = 'pdf';\r\n\r\n                    } else if ( found = src.match(/\\.(mp4|mov|ogv)((\\?|#).*)?$/i) ) {\r\n                        type = 'video';\r\n\r\n                        if ( !obj.opts.videoFormat ) {\r\n                            obj.opts.videoFormat = 'video/' + ( found[1] === 'ogv' ? 'ogg' : found[1] );\r\n                        }\r\n\r\n                    } else if ( src.charAt(0) === '#' ) {\r\n                        type = 'inline';\r\n                    }\r\n                }\r\n\r\n                if ( type ) {\r\n                    obj.type = type;\r\n\r\n                } else {\r\n                    self.trigger( 'objectNeedsType', obj );\r\n                }\r\n\r\n\r\n                // Step 3 - Some adjustments\r\n                // =========================\r\n\r\n                obj.index = self.group.length;\r\n\r\n                // Check if $orig and $thumb objects exist\r\n                if ( obj.opts.$orig && !obj.opts.$orig.length ) {\r\n                    delete obj.opts.$orig;\r\n                }\r\n\r\n                if ( !obj.opts.$thumb && obj.opts.$orig ) {\r\n                    obj.opts.$thumb = obj.opts.$orig.find( 'img:first' );\r\n                }\r\n\r\n                if ( obj.opts.$thumb && !obj.opts.$thumb.length ) {\r\n                    delete obj.opts.$thumb;\r\n                }\r\n\r\n                // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item ..\r\n                if ( $.type( obj.opts.caption ) === 'function' ) {\r\n                    obj.opts.caption = obj.opts.caption.apply( item, [ self, obj ] );\r\n                }\r\n\r\n                if ( $.type( self.opts.caption ) === 'function' ) {\r\n                    obj.opts.caption = self.opts.caption.apply( item, [ self, obj ] );\r\n                }\r\n\r\n                // Make sure we have caption as a string or jQuery object\r\n                if ( !( obj.opts.caption instanceof $ ) ) {\r\n                    obj.opts.caption = obj.opts.caption === undefined ? '' : obj.opts.caption + '';\r\n                }\r\n\r\n                // Check if url contains \"filter\" used to filter the content\r\n                // Example: \"ajax.html #something\"\r\n                if ( type === 'ajax' ) {\r\n                    srcParts = src.split(/\\s+/, 2);\r\n\r\n                    if ( srcParts.length > 1 ) {\r\n                        obj.src = srcParts.shift();\r\n\r\n                        obj.opts.filter = srcParts.shift();\r\n                    }\r\n                }\r\n\r\n                if ( obj.opts.smallBtn == 'auto' ) {\r\n\r\n                    if ( $.inArray( type, ['html', 'inline', 'ajax'] ) > -1 ) {\r\n                        obj.opts.toolbar  = false;\r\n                        obj.opts.smallBtn = true;\r\n\r\n                    } else {\r\n                        obj.opts.smallBtn = false;\r\n                    }\r\n\r\n                }\r\n\r\n                // If the type is \"pdf\", then simply load file into iframe\r\n                if ( type === 'pdf' ) {\r\n                    obj.type = 'iframe';\r\n\r\n                    obj.opts.iframe.preload = false;\r\n                }\r\n\r\n                // Hide all buttons and disable interactivity for modal items\r\n                if ( obj.opts.modal ) {\r\n\r\n                    obj.opts = $.extend(true, obj.opts, {\r\n                        // Remove buttons\r\n                        infobar : 0,\r\n                        toolbar : 0,\r\n\r\n                        smallBtn : 0,\r\n\r\n                        // Disable keyboard navigation\r\n                        keyboard : 0,\r\n\r\n                        // Disable some modules\r\n                        slideShow  : 0,\r\n                        fullScreen : 0,\r\n                        thumbs     : 0,\r\n                        touch      : 0,\r\n\r\n                        // Disable click event handlers\r\n                        clickContent    : false,\r\n                        clickSlide      : false,\r\n                        clickOutside    : false,\r\n                        dblclickContent : false,\r\n                        dblclickSlide   : false,\r\n                        dblclickOutside : false\r\n                    });\r\n\r\n                }\r\n\r\n                // Step 4 - Add processed object to group\r\n                // ======================================\r\n\r\n                self.group.push( obj );\r\n\r\n            });\r\n\r\n        },\r\n\r\n\r\n        // Attach an event handler functions for:\r\n        //   - navigation buttons\r\n        //   - browser scrolling, resizing;\r\n        //   - focusing\r\n        //   - keyboard\r\n        //   - detect idle\r\n        // ======================================\r\n\r\n        addEvents : function() {\r\n            var self = this;\r\n\r\n            self.removeEvents();\r\n\r\n            // Make navigation elements clickable\r\n            self.$refs.container.on('click.fb-close', '[data-fancybox-close]', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                self.close( e );\r\n\r\n            }).on( 'click.fb-prev touchend.fb-prev', '[data-fancybox-prev]', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                self.previous();\r\n\r\n            }).on( 'click.fb-next touchend.fb-next', '[data-fancybox-next]', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n\r\n                self.next();\r\n\r\n            }).on( 'click.fb', '[data-fancybox-zoom]', function(e) {\r\n                // Click handler for zoom button\r\n                self[ self.isScaledDown() ? 'scaleToActual' : 'scaleToFit' ]();\r\n            });\r\n\r\n\r\n            // Handle page scrolling and browser resizing\r\n            $W.on('orientationchange.fb resize.fb', function(e) {\r\n\r\n                if ( e && e.originalEvent && e.originalEvent.type === \"resize\" ) {\r\n\r\n                    requestAFrame(function() {\r\n                        self.update();\r\n                    });\r\n\r\n                } else {\r\n\r\n                    self.$refs.stage.hide();\r\n\r\n                    setTimeout(function() {\r\n                        self.$refs.stage.show();\r\n\r\n                        self.update();\r\n                    }, 600);\r\n\r\n                }\r\n\r\n            });\r\n\r\n            // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\r\n            // (a.k.a. \"escaping the modal\")\r\n            $D.on('focusin.fb', function(e) {\r\n                var instance = $.fancybox ? $.fancybox.getInstance() : null;\r\n\r\n                if ( instance.isClosing || !instance.current || !instance.current.opts.trapFocus || $( e.target ).hasClass( 'fancybox-container' ) || $( e.target ).is( document ) ) {\r\n                    return;\r\n                }\r\n\r\n                if ( instance && $( e.target ).css( 'position' ) !== 'fixed' && !instance.$refs.container.has( e.target ).length ) {\r\n                    e.stopPropagation();\r\n\r\n                    instance.focus();\r\n\r\n                    // Sometimes page gets scrolled, set it back\r\n                    $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\r\n                }\r\n            });\r\n\r\n\r\n            // Enable keyboard navigation\r\n            $D.on('keydown.fb', function (e) {\r\n                var current = self.current,\r\n                    keycode = e.keyCode || e.which;\r\n\r\n                if ( !current || !current.opts.keyboard ) {\r\n                    return;\r\n                }\r\n\r\n                if ( $(e.target).is('input') || $(e.target).is('textarea') ) {\r\n                    return;\r\n                }\r\n\r\n                // Backspace and Esc keys\r\n                if ( keycode === 8 || keycode === 27 ) {\r\n                    e.preventDefault();\r\n\r\n                    self.close( e );\r\n\r\n                    return;\r\n                }\r\n\r\n                // Left arrow and Up arrow\r\n                if ( keycode === 37 || keycode === 38 ) {\r\n                    e.preventDefault();\r\n\r\n                    self.previous();\r\n\r\n                    return;\r\n                }\r\n\r\n                // Righ arrow and Down arrow\r\n                if ( keycode === 39 || keycode === 40 ) {\r\n                    e.preventDefault();\r\n\r\n                    self.next();\r\n\r\n                    return;\r\n                }\r\n\r\n                self.trigger('afterKeydown', e, keycode);\r\n            });\r\n\r\n\r\n            // Hide controls after some inactivity period\r\n            if ( self.group[ self.currIndex ].opts.idleTime ) {\r\n                self.idleSecondsCounter = 0;\r\n\r\n                $D.on('mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle', function(e) {\r\n                    self.idleSecondsCounter = 0;\r\n\r\n                    if ( self.isIdle ) {\r\n                        self.showControls();\r\n                    }\r\n\r\n                    self.isIdle = false;\r\n                });\r\n\r\n                self.idleInterval = window.setInterval(function() {\r\n                    self.idleSecondsCounter++;\r\n\r\n                    if ( self.idleSecondsCounter >= self.group[ self.currIndex ].opts.idleTime && !self.isDragging ) {\r\n                        self.isIdle = true;\r\n                        self.idleSecondsCounter = 0;\r\n\r\n                        self.hideControls();\r\n                    }\r\n\r\n                }, 1000);\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Remove events added by the core\r\n        // ===============================\r\n\r\n        removeEvents : function() {\r\n            var self = this;\r\n\r\n            $W.off( 'orientationchange.fb resize.fb' );\r\n            $D.off( 'focusin.fb keydown.fb .fb-idle' );\r\n\r\n            this.$refs.container.off( '.fb-close .fb-prev .fb-next' );\r\n\r\n            if ( self.idleInterval ) {\r\n                window.clearInterval( self.idleInterval );\r\n\r\n                self.idleInterval = null;\r\n            }\r\n        },\r\n\r\n\r\n        // Change to previous gallery item\r\n        // ===============================\r\n\r\n        previous : function( duration ) {\r\n            return this.jumpTo( this.currPos - 1, duration );\r\n        },\r\n\r\n\r\n        // Change to next gallery item\r\n        // ===========================\r\n\r\n        next : function( duration ) {\r\n            return this.jumpTo( this.currPos + 1, duration );\r\n        },\r\n\r\n\r\n        // Switch to selected gallery item\r\n        // ===============================\r\n\r\n        jumpTo : function ( pos, duration, slide ) {\r\n            var self = this,\r\n                firstRun,\r\n                loop,\r\n                current,\r\n                previous,\r\n                canvasWidth,\r\n                currentPos,\r\n                transitionProps;\r\n\r\n            var groupLen = self.group.length;\r\n\r\n            if ( self.isDragging || self.isClosing || ( self.isAnimating && self.firstRun ) ) {\r\n                return;\r\n            }\r\n\r\n            pos  = parseInt( pos, 10 );\r\n            loop = self.current ? self.current.opts.loop : self.opts.loop;\r\n\r\n            if ( !loop && ( pos < 0 || pos >= groupLen ) ) {\r\n                return false;\r\n            }\r\n\r\n            firstRun = self.firstRun = ( self.firstRun === null );\r\n\r\n            if ( groupLen < 2 && !firstRun && !!self.isDragging ) {\r\n                return;\r\n            }\r\n\r\n            previous = self.current;\r\n\r\n            self.prevIndex = self.currIndex;\r\n            self.prevPos   = self.currPos;\r\n\r\n            // Create slides\r\n            current = self.createSlide( pos );\r\n\r\n            if ( groupLen > 1 ) {\r\n                if ( loop || current.index > 0 ) {\r\n                    self.createSlide( pos - 1 );\r\n                }\r\n\r\n                if ( loop || current.index < groupLen - 1 ) {\r\n                    self.createSlide( pos + 1 );\r\n                }\r\n            }\r\n\r\n            self.current   = current;\r\n            self.currIndex = current.index;\r\n            self.currPos   = current.pos;\r\n\r\n            self.trigger( 'beforeShow', firstRun );\r\n\r\n            self.updateControls();\r\n\r\n            currentPos = $.fancybox.getTranslate( current.$slide );\r\n\r\n            current.isMoved        = ( currentPos.left !== 0 || currentPos.top !== 0 ) && !current.$slide.hasClass( 'fancybox-animated' );\r\n            current.forcedDuration = undefined;\r\n\r\n            if ( $.isNumeric( duration ) ) {\r\n                current.forcedDuration = duration;\r\n            } else {\r\n                duration = current.opts[ firstRun ? 'animationDuration' : 'transitionDuration' ];\r\n            }\r\n\r\n            duration = parseInt( duration, 10 );\r\n\r\n            // Fresh start - reveal container, current slide and start loading content\r\n            if ( firstRun ) {\r\n\r\n                if ( current.opts.animationEffect && duration ) {\r\n                    self.$refs.container.css( 'transition-duration', duration + 'ms' );\r\n                }\r\n\r\n                self.$refs.container.removeClass( 'fancybox-is-hidden' );\r\n\r\n                forceRedraw( self.$refs.container );\r\n\r\n                self.$refs.container.addClass( 'fancybox-is-open' );\r\n\r\n                // Make first slide visible (to display loading icon, if needed)\r\n                current.$slide.addClass( 'fancybox-slide--current' );\r\n\r\n                self.loadSlide( current );\r\n\r\n                self.preload( 'image' );\r\n\r\n                return;\r\n            }\r\n\r\n            // Clean up\r\n            $.each(self.slides, function( index, slide ) {\r\n                $.fancybox.stop( slide.$slide );\r\n            });\r\n\r\n            // Make current that slide is visible even if content is still loading\r\n            current.$slide.removeClass( 'fancybox-slide--next fancybox-slide--previous' ).addClass( 'fancybox-slide--current' );\r\n\r\n            // If slides have been dragged, animate them to correct position\r\n            if ( current.isMoved ) {\r\n                canvasWidth = Math.round( current.$slide.width() );\r\n\r\n                $.each(self.slides, function( index, slide ) {\r\n                    var pos = slide.pos - current.pos;\r\n\r\n                    $.fancybox.animate( slide.$slide, {\r\n                        top  : 0,\r\n                        left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter )\r\n                    }, duration, function() {\r\n\r\n                        slide.$slide.removeAttr('style').removeClass( 'fancybox-slide--next fancybox-slide--previous' );\r\n\r\n                        if ( slide.pos === self.currPos ) {\r\n                            current.isMoved = false;\r\n\r\n                            self.complete();\r\n                        }\r\n                    });\r\n                });\r\n\r\n            } else {\r\n                self.$refs.stage.children().removeAttr( 'style' );\r\n            }\r\n\r\n            // Start transition that reveals current content\r\n            // or wait when it will be loaded\r\n\r\n            if ( current.isLoaded ) {\r\n                self.revealContent( current );\r\n\r\n            } else {\r\n                self.loadSlide( current );\r\n            }\r\n\r\n            self.preload( 'image' );\r\n\r\n            if ( previous.pos === current.pos ) {\r\n                return;\r\n            }\r\n\r\n            // Handle previous slide\r\n            // =====================\r\n\r\n            transitionProps = 'fancybox-slide--' + ( previous.pos > current.pos ? 'next' : 'previous' );\r\n\r\n            previous.$slide.removeClass( 'fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous' );\r\n\r\n            previous.isComplete = false;\r\n\r\n            if ( !duration || ( !current.isMoved && !current.opts.transitionEffect ) ) {\r\n                return;\r\n            }\r\n\r\n            if ( current.isMoved ) {\r\n                previous.$slide.addClass( transitionProps );\r\n\r\n            } else {\r\n\r\n                transitionProps = 'fancybox-animated ' + transitionProps + ' fancybox-fx-' + current.opts.transitionEffect;\r\n\r\n                $.fancybox.animate( previous.$slide, transitionProps, duration, function() {\r\n                    previous.$slide.removeClass( transitionProps ).removeAttr( 'style' );\r\n                });\r\n\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Create new \"slide\" element\r\n        // These are gallery items  that are actually added to DOM\r\n        // =======================================================\r\n\r\n        createSlide : function( pos ) {\r\n\r\n            var self = this;\r\n            var $slide;\r\n            var index;\r\n\r\n            index = pos % self.group.length;\r\n            index = index < 0 ? self.group.length + index : index;\r\n\r\n            if ( !self.slides[ pos ] && self.group[ index ] ) {\r\n                $slide = $('<div class=\"fancybox-slide\"></div>').appendTo( self.$refs.stage );\r\n\r\n                self.slides[ pos ] = $.extend( true, {}, self.group[ index ], {\r\n                    pos      : pos,\r\n                    $slide   : $slide,\r\n                    isLoaded : false,\r\n                });\r\n\r\n                self.updateSlide( self.slides[ pos ] );\r\n            }\r\n\r\n            return self.slides[ pos ];\r\n        },\r\n\r\n\r\n        // Scale image to the actual size of the image\r\n        // ===========================================\r\n\r\n        scaleToActual : function( x, y, duration ) {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n\r\n            var imgPos, posX, posY, scaleX, scaleY;\r\n\r\n            var canvasWidth  = parseInt( current.$slide.width(), 10 );\r\n            var canvasHeight = parseInt( current.$slide.height(), 10 );\r\n\r\n            var newImgWidth  = current.width;\r\n            var newImgHeight = current.height;\r\n\r\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\r\n                return;\r\n            }\r\n\r\n            $.fancybox.stop( $what );\r\n\r\n            self.isAnimating = true;\r\n\r\n            x = x === undefined ? canvasWidth  * 0.5  : x;\r\n            y = y === undefined ? canvasHeight * 0.5  : y;\r\n\r\n            imgPos = $.fancybox.getTranslate( $what );\r\n\r\n            scaleX  = newImgWidth  / imgPos.width;\r\n            scaleY  = newImgHeight / imgPos.height;\r\n\r\n            // Get center position for original image\r\n            posX = ( canvasWidth * 0.5  - newImgWidth * 0.5 );\r\n            posY = ( canvasHeight * 0.5 - newImgHeight * 0.5 );\r\n\r\n            // Make sure image does not move away from edges\r\n            if ( newImgWidth > canvasWidth ) {\r\n                posX = imgPos.left * scaleX - ( ( x * scaleX ) - x );\r\n\r\n                if ( posX > 0 ) {\r\n                    posX = 0;\r\n                }\r\n\r\n                if ( posX <  canvasWidth - newImgWidth ) {\r\n                    posX = canvasWidth - newImgWidth;\r\n                }\r\n            }\r\n\r\n            if ( newImgHeight > canvasHeight) {\r\n                posY = imgPos.top  * scaleY - ( ( y * scaleY ) - y );\r\n\r\n                if ( posY > 0 ) {\r\n                    posY = 0;\r\n                }\r\n\r\n                if ( posY <  canvasHeight - newImgHeight ) {\r\n                    posY = canvasHeight - newImgHeight;\r\n                }\r\n            }\r\n\r\n            self.updateCursor( newImgWidth, newImgHeight );\r\n\r\n            $.fancybox.animate( $what, {\r\n                top    : posY,\r\n                left   : posX,\r\n                scaleX : scaleX,\r\n                scaleY : scaleY\r\n            }, duration || 330, function() {\r\n                self.isAnimating = false;\r\n            });\r\n\r\n            // Stop slideshow\r\n            if ( self.SlideShow && self.SlideShow.isActive ) {\r\n                self.SlideShow.stop();\r\n            }\r\n        },\r\n\r\n\r\n        // Scale image to fit inside parent element\r\n        // ========================================\r\n\r\n        scaleToFit : function( duration ) {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n            var end;\r\n\r\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\r\n                return;\r\n            }\r\n\r\n            $.fancybox.stop( $what );\r\n\r\n            self.isAnimating = true;\r\n\r\n            end = self.getFitPos( current );\r\n\r\n            self.updateCursor( end.width, end.height );\r\n\r\n            $.fancybox.animate( $what, {\r\n                top    : end.top,\r\n                left   : end.left,\r\n                scaleX : end.width  / $what.width(),\r\n                scaleY : end.height / $what.height()\r\n            }, duration || 330, function() {\r\n                self.isAnimating = false;\r\n            });\r\n\r\n        },\r\n\r\n        // Calculate image size to fit inside viewport\r\n        // ===========================================\r\n\r\n        getFitPos : function( slide ) {\r\n            var self  = this;\r\n            var $what = slide.$content;\r\n\r\n            var imgWidth  = slide.width;\r\n            var imgHeight = slide.height;\r\n\r\n            var margin = slide.opts.margin;\r\n\r\n            var canvasWidth, canvasHeight, minRatio, width, height;\r\n\r\n            if ( !$what || !$what.length || ( !imgWidth && !imgHeight) ) {\r\n                return false;\r\n            }\r\n\r\n            // Convert \"margin to CSS style: [ top, right, bottom, left ]\r\n            if ( $.type( margin ) === \"number\" ) {\r\n                margin = [ margin, margin ];\r\n            }\r\n\r\n            if ( margin.length == 2 ) {\r\n                margin = [ margin[0], margin[1], margin[0], margin[1] ];\r\n            }\r\n\r\n            // We can not use $slide width here, because it can have different diemensions while in transiton\r\n            canvasWidth  = parseInt( self.$refs.stage.width(), 10 )  - ( margin[ 1 ] + margin[ 3 ] );\r\n            canvasHeight = parseInt( self.$refs.stage.height(), 10 ) - ( margin[ 0 ] + margin[ 2 ] );\r\n\r\n            minRatio = Math.min(1, canvasWidth / imgWidth, canvasHeight / imgHeight );\r\n\r\n            width  = Math.floor( minRatio * imgWidth );\r\n            height = Math.floor( minRatio * imgHeight );\r\n\r\n            // Use floor rounding to make sure it really fits\r\n            return {\r\n                top    : Math.floor( ( canvasHeight - height ) * 0.5 ) + margin[ 0 ],\r\n                left   : Math.floor( ( canvasWidth  - width )  * 0.5 ) + margin[ 3 ],\r\n                width  : width,\r\n                height : height\r\n            };\r\n\r\n        },\r\n\r\n\r\n        // Update content size and position for all slides\r\n        // ==============================================\r\n\r\n        update : function() {\r\n            var self = this;\r\n\r\n            $.each( self.slides, function( key, slide ) {\r\n                self.updateSlide( slide );\r\n            });\r\n        },\r\n\r\n\r\n        // Update slide content position and size\r\n        // ======================================\r\n\r\n        updateSlide : function( slide, duration ) {\r\n            var self  = this,\r\n                $what = slide && slide.$content;\r\n\r\n            if ( $what && ( slide.width || slide.height ) ) {\r\n                self.isAnimating = false;\r\n\r\n                $.fancybox.stop( $what );\r\n\r\n                $.fancybox.setTranslate( $what, self.getFitPos( slide ) );\r\n\r\n                if ( slide.pos === self.currPos ) {\r\n                    self.updateCursor();\r\n                }\r\n            }\r\n\r\n            slide.$slide.trigger( 'refresh' );\r\n\r\n            self.trigger( 'onUpdate', slide );\r\n\r\n        },\r\n\r\n\r\n        // Horizontally center slide\r\n        // =========================\r\n\r\n        centerSlide : function( slide, duration ) {\r\n            var self  = this, canvasWidth, pos;\r\n\r\n            if ( self.current ) {\r\n                canvasWidth = Math.round( slide.$slide.width() );\r\n                pos = slide.pos - self.current.pos;\r\n\r\n                $.fancybox.animate( slide.$slide, {\r\n                    top  : 0,\r\n                    left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter ),\r\n                    opacity : 1\r\n                }, duration === undefined ? 0 : duration, null, false);\r\n            }\r\n        },\r\n\r\n\r\n        // Update cursor style depending if content can be zoomed\r\n        // ======================================================\r\n\r\n        updateCursor : function( nextWidth, nextHeight ) {\r\n\r\n            var self = this;\r\n            var isScaledDown;\r\n\r\n            var $container = self.$refs.container.removeClass( 'fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut' );\r\n\r\n            if ( !self.current || self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            if ( self.isZoomable() ) {\r\n\r\n                $container.addClass( 'fancybox-is-zoomable' );\r\n\r\n                if ( nextWidth !== undefined && nextHeight !== undefined ) {\r\n                    isScaledDown = nextWidth < self.current.width && nextHeight < self.current.height;\r\n\r\n                } else {\r\n                    isScaledDown = self.isScaledDown();\r\n                }\r\n\r\n                if ( isScaledDown ) {\r\n\r\n                    // If image is scaled down, then, obviously, it can be zoomed to full size\r\n                    $container.addClass( 'fancybox-can-zoomIn' );\r\n\r\n                } else {\r\n\r\n                    if ( self.current.opts.touch ) {\r\n\r\n                        // If image size ir largen than available available and touch module is not disable,\r\n                        // then user can do panning\r\n                        $container.addClass( 'fancybox-can-drag' );\r\n\r\n                    } else {\r\n                        $container.addClass( 'fancybox-can-zoomOut' );\r\n                    }\r\n\r\n                }\r\n\r\n            } else if ( self.current.opts.touch ) {\r\n                $container.addClass( 'fancybox-can-drag' );\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Check if current slide is zoomable\r\n        // ==================================\r\n\r\n        isZoomable : function() {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var fitPos;\r\n\r\n            if ( !current || self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            // Assume that slide is zoomable if\r\n            //   - image is loaded successfuly\r\n            //   - click action is \"zoom\"\r\n            //   - actual size of the image is smaller than available area\r\n            if ( current.type === 'image' && current.isLoaded && !current.hasError &&\r\n                ( current.opts.clickContent === 'zoom' || ( $.isFunction( current.opts.clickContent ) && current.opts.clickContent( current ) ===  \"zoom\" ) )\r\n            ) {\r\n\r\n                fitPos = self.getFitPos( current );\r\n\r\n                if ( current.width > fitPos.width || current.height > fitPos.height ) {\r\n                    return true;\r\n                }\r\n\r\n            }\r\n\r\n            return false;\r\n\r\n        },\r\n\r\n\r\n        // Check if current image dimensions are smaller than actual\r\n        // =========================================================\r\n\r\n        isScaledDown : function() {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n\r\n            var rez = false;\r\n\r\n            if ( $what ) {\r\n                rez = $.fancybox.getTranslate( $what );\r\n                rez = rez.width < current.width || rez.height < current.height;\r\n            }\r\n\r\n            return rez;\r\n\r\n        },\r\n\r\n\r\n        // Check if image dimensions exceed parent element\r\n        // ===============================================\r\n\r\n        canPan : function() {\r\n\r\n            var self = this;\r\n\r\n            var current = self.current;\r\n            var $what   = current.$content;\r\n\r\n            var rez = false;\r\n\r\n            if ( $what ) {\r\n                rez = self.getFitPos( current );\r\n                rez = Math.abs( $what.width() - rez.width ) > 1  || Math.abs( $what.height() - rez.height ) > 1;\r\n            }\r\n\r\n            return rez;\r\n\r\n        },\r\n\r\n\r\n        // Load content into the slide\r\n        // ===========================\r\n\r\n        loadSlide : function( slide ) {\r\n\r\n            var self = this, type, $slide;\r\n            var ajaxLoad;\r\n\r\n            if ( slide.isLoading ) {\r\n                return;\r\n            }\r\n\r\n            if ( slide.isLoaded ) {\r\n                return;\r\n            }\r\n\r\n            slide.isLoading = true;\r\n\r\n            self.trigger( 'beforeLoad', slide );\r\n\r\n            type   = slide.type;\r\n            $slide = slide.$slide;\r\n\r\n            $slide\r\n                .off( 'refresh' )\r\n                .trigger( 'onReset' )\r\n                .addClass( 'fancybox-slide--' + ( type || 'unknown' ) )\r\n                .addClass( slide.opts.slideClass );\r\n\r\n            // Create content depending on the type\r\n\r\n            switch ( type ) {\r\n\r\n                case 'image':\r\n\r\n                    self.setImage( slide );\r\n\r\n                break;\r\n\r\n                case 'iframe':\r\n\r\n                    self.setIframe( slide );\r\n\r\n                break;\r\n\r\n                case 'html':\r\n\r\n                    self.setContent( slide, slide.src || slide.content );\r\n\r\n                break;\r\n\r\n                case 'inline':\r\n\r\n                    if ( $( slide.src ).length ) {\r\n                        self.setContent( slide, $( slide.src ) );\r\n\r\n                    } else {\r\n                        self.setError( slide );\r\n                    }\r\n\r\n                break;\r\n\r\n                case 'ajax':\r\n\r\n                    self.showLoading( slide );\r\n\r\n                    ajaxLoad = $.ajax( $.extend( {}, slide.opts.ajax.settings, {\r\n                        url : slide.src,\r\n                        success : function ( data, textStatus ) {\r\n\r\n                            if ( textStatus === 'success' ) {\r\n                                self.setContent( slide, data );\r\n                            }\r\n\r\n                        },\r\n                        error : function ( jqXHR, textStatus ) {\r\n\r\n                            if ( jqXHR && textStatus !== 'abort' ) {\r\n                                self.setError( slide );\r\n                            }\r\n\r\n                        }\r\n                    }));\r\n\r\n                    $slide.one( 'onReset', function () {\r\n                        ajaxLoad.abort();\r\n                    });\r\n\r\n                break;\r\n\r\n                case 'video' :\r\n\r\n                    self.setContent( slide,\r\n                        '<video controls>' +\r\n                          '<source src=\"' + slide.src + '\" type=\"' + slide.opts.videoFormat + '\">' +\r\n                            'Your browser doesn\\'t support HTML5 video' +\r\n                        '</video>'\r\n                    );\r\n\r\n                break;\r\n\r\n                default:\r\n\r\n                    self.setError( slide );\r\n\r\n                break;\r\n\r\n            }\r\n\r\n            return true;\r\n\r\n        },\r\n\r\n\r\n        // Use thumbnail image, if possible\r\n        // ================================\r\n\r\n        setImage : function( slide ) {\r\n\r\n            var self   = this;\r\n            var srcset = slide.opts.srcset || slide.opts.image.srcset;\r\n\r\n            var found, temp, pxRatio, windowWidth;\r\n\r\n            // If we have \"srcset\", then we need to find matching \"src\" value.\r\n            // This is necessary, because when you set an src attribute, the browser will preload the image\r\n            // before any javascript or even CSS is applied.\r\n            if ( srcset ) {\r\n                pxRatio     = window.devicePixelRatio || 1;\r\n                windowWidth = window.innerWidth  * pxRatio;\r\n\r\n                temp = srcset.split(',').map(function ( el ) {\r\n            \t\tvar ret = {};\r\n\r\n            \t\tel.trim().split(/\\s+/).forEach(function ( el, i ) {\r\n                        var value = parseInt( el.substring(0, el.length - 1), 10 );\r\n\r\n            \t\t\tif ( i === 0 ) {\r\n            \t\t\t\treturn ( ret.url = el );\r\n            \t\t\t}\r\n\r\n                        if ( value ) {\r\n                            ret.value   = value;\r\n                            ret.postfix = el[ el.length - 1 ];\r\n                        }\r\n\r\n            \t\t});\r\n\r\n            \t\treturn ret;\r\n            \t});\r\n\r\n                // Sort by value\r\n                temp.sort(function (a, b) {\r\n                  return a.value - b.value;\r\n                });\r\n\r\n                // Ok, now we have an array of all srcset values\r\n                for ( var j = 0; j < temp.length; j++ ) {\r\n                    var el = temp[ j ];\r\n\r\n                    if ( ( el.postfix === 'w' && el.value >= windowWidth ) || ( el.postfix === 'x' && el.value >= pxRatio ) ) {\r\n                        found = el;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                // If not found, take the last one\r\n                if ( !found && temp.length ) {\r\n                    found = temp[ temp.length - 1 ];\r\n                }\r\n\r\n                if ( found ) {\r\n                    slide.src = found.url;\r\n\r\n                    // If we have default width/height values, we can calculate height for matching source\r\n                    if ( slide.width && slide.height && found.postfix == 'w' ) {\r\n                        slide.height = ( slide.width / slide.height ) * found.value;\r\n                        slide.width  = found.value;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // This will be wrapper containing both ghost and actual image\r\n            slide.$content = $('<div class=\"fancybox-image-wrap\"></div>')\r\n                .addClass( 'fancybox-is-hidden' )\r\n                .appendTo( slide.$slide );\r\n\r\n\r\n            // If we have a thumbnail, we can display it while actual image is loading\r\n            // Users will not stare at black screen and actual image will appear gradually\r\n            if ( slide.opts.preload !== false && slide.opts.width && slide.opts.height && ( slide.opts.thumb || slide.opts.$thumb ) ) {\r\n\r\n                slide.width  = slide.opts.width;\r\n                slide.height = slide.opts.height;\r\n\r\n                slide.$ghost = $('<img />')\r\n                    .one('error', function() {\r\n\r\n                        $(this).remove();\r\n\r\n                        slide.$ghost = null;\r\n\r\n                        self.setBigImage( slide );\r\n\r\n                    })\r\n                    .one('load', function() {\r\n\r\n                        self.afterLoad( slide );\r\n\r\n                        self.setBigImage( slide );\r\n\r\n                    })\r\n                    .addClass( 'fancybox-image' )\r\n                    .appendTo( slide.$content )\r\n                    .attr( 'src', slide.opts.thumb || slide.opts.$thumb.attr( 'src' ) );\r\n\r\n            } else {\r\n\r\n                self.setBigImage( slide );\r\n\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Create full-size image\r\n        // ======================\r\n\r\n        setBigImage : function ( slide ) {\r\n            var self = this;\r\n            var $img = $('<img />');\r\n\r\n            slide.$image = $img\r\n                .one('error', function() {\r\n\r\n                    self.setError( slide );\r\n\r\n                })\r\n                .one('load', function() {\r\n\r\n                    // Clear timeout that checks if loading icon needs to be displayed\r\n                    clearTimeout( slide.timouts );\r\n\r\n                    slide.timouts = null;\r\n\r\n                    if ( self.isClosing ) {\r\n                        return;\r\n                    }\r\n\r\n                    slide.width  = slide.opts.width  || this.naturalWidth;\r\n                    slide.height = slide.opts.height || this.naturalHeight;\r\n\r\n                    if ( slide.opts.image.srcset ) {\r\n                        $img.attr( 'sizes', '100vw' ).attr( 'srcset', slide.opts.image.srcset );\r\n                    }\r\n\r\n                    self.hideLoading( slide );\r\n\r\n                    if ( slide.$ghost ) {\r\n\r\n                        slide.timouts = setTimeout(function() {\r\n                            slide.timouts = null;\r\n\r\n                            slide.$ghost.hide();\r\n\r\n                        }, Math.min( 300, Math.max( 1000, slide.height / 1600 ) ) );\r\n\r\n                    } else {\r\n                        self.afterLoad( slide );\r\n                    }\r\n\r\n                })\r\n                .addClass( 'fancybox-image' )\r\n                .attr('src', slide.src)\r\n                .appendTo( slide.$content );\r\n\r\n            if ( ( $img[0].complete || $img[0].readyState == \"complete\" ) && $img[0].naturalWidth && $img[0].naturalHeight ) {\r\n                  $img.trigger( 'load' );\r\n\r\n            } else if( $img[0].error ) {\r\n                 $img.trigger( 'error' );\r\n\r\n            } else {\r\n\r\n                slide.timouts = setTimeout(function() {\r\n                    if ( !$img[0].complete && !slide.hasError ) {\r\n                        self.showLoading( slide );\r\n                    }\r\n\r\n                }, 100);\r\n\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Create iframe wrapper, iframe and bindings\r\n        // ==========================================\r\n\r\n        setIframe : function( slide ) {\r\n            var self\t= this,\r\n                opts    = slide.opts.iframe,\r\n                $slide\t= slide.$slide,\r\n                $iframe;\r\n\r\n            slide.$content = $('<div class=\"fancybox-content' + ( opts.preload ? ' fancybox-is-hidden' : '' ) + '\"></div>')\r\n                .css( opts.css )\r\n                .appendTo( $slide );\r\n\r\n            $iframe = $( opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()) )\r\n                .attr( opts.attr )\r\n                .appendTo( slide.$content );\r\n\r\n            if ( opts.preload ) {\r\n\r\n                self.showLoading( slide );\r\n\r\n                // Unfortunately, it is not always possible to determine if iframe is successfully loaded\r\n                // (due to browser security policy)\r\n\r\n                $iframe.on('load.fb error.fb', function(e) {\r\n                    this.isReady = 1;\r\n\r\n                    slide.$slide.trigger( 'refresh' );\r\n\r\n                    self.afterLoad( slide );\r\n                });\r\n\r\n                // Recalculate iframe content size\r\n                // ===============================\r\n\r\n                $slide.on('refresh.fb', function() {\r\n                    var $wrap = slide.$content,\r\n                        frameWidth  = opts.css.width,\r\n                        frameHeight = opts.css.height,\r\n                        scrollWidth,\r\n                        $contents,\r\n                        $body;\r\n\r\n                    if ( $iframe[0].isReady !== 1 ) {\r\n                        return;\r\n                    }\r\n\r\n                    // Check if content is accessible,\r\n                    // it will fail if frame is not with the same origin\r\n\r\n                    try {\r\n                        $contents = $iframe.contents();\r\n                        $body     = $contents.find('body');\r\n\r\n                    } catch (ignore) {}\r\n\r\n                    // Calculate dimensions for the wrapper\r\n                    if ( $body && $body.length ) {\r\n\r\n                        if ( frameWidth === undefined ) {\r\n                            scrollWidth = $iframe[0].contentWindow.document.documentElement.scrollWidth;\r\n\r\n                            frameWidth = Math.ceil( $body.outerWidth(true) + ( $wrap.width() - scrollWidth ) );\r\n                            frameWidth += $wrap.outerWidth() - $wrap.innerWidth();\r\n                        }\r\n\r\n                        if ( frameHeight === undefined ) {\r\n                            frameHeight = Math.ceil( $body.outerHeight(true) );\r\n                            frameHeight += $wrap.outerHeight() - $wrap.innerHeight();\r\n                        }\r\n\r\n                        // Resize wrapper to fit iframe content\r\n                        if ( frameWidth ) {\r\n                            $wrap.width( frameWidth );\r\n                        }\r\n\r\n                        if ( frameHeight ) {\r\n                            $wrap.height( frameHeight );\r\n                        }\r\n                    }\r\n\r\n                    $wrap.removeClass( 'fancybox-is-hidden' );\r\n\r\n                });\r\n\r\n            } else {\r\n\r\n                this.afterLoad( slide );\r\n\r\n            }\r\n\r\n            $iframe.attr( 'src', slide.src );\r\n\r\n            if ( slide.opts.smallBtn === true ) {\r\n                slide.$content.prepend( self.translate( slide, slide.opts.btnTpl.smallBtn ) );\r\n            }\r\n\r\n            // Remove iframe if closing or changing gallery item\r\n            $slide.one( 'onReset', function () {\r\n\r\n                // This helps IE not to throw errors when closing\r\n                try {\r\n\r\n                    $( this ).find( 'iframe' ).hide().attr( 'src', '//about:blank' );\r\n\r\n                } catch ( ignore ) {}\r\n\r\n                $( this ).empty();\r\n\r\n                slide.isLoaded = false;\r\n\r\n            });\r\n\r\n        },\r\n\r\n\r\n        // Wrap and append content to the slide\r\n        // ======================================\r\n\r\n        setContent : function ( slide, content ) {\r\n\r\n            var self = this;\r\n\r\n            if ( self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            self.hideLoading( slide );\r\n\r\n            slide.$slide.empty();\r\n\r\n            if ( isQuery( content ) && content.parent().length ) {\r\n\r\n                // If content is a jQuery object, then it will be moved to the slide.\r\n                // The placeholder is created so we will know where to put it back.\r\n                // If user is navigating gallery fast, then the content might be already inside fancyBox\r\n                // =====================================================================================\r\n\r\n                // Make sure content is not already moved to fancyBox\r\n                content.parent( '.fancybox-slide--inline' ).trigger( 'onReset' );\r\n\r\n                // Create temporary element marking original place of the content\r\n                slide.$placeholder = $( '<div></div>' ).hide().insertAfter( content );\r\n\r\n                // Make sure content is visible\r\n                content.css('display', 'inline-block');\r\n\r\n            } else if ( !slide.hasError ) {\r\n\r\n                // If content is just a plain text, try to convert it to html\r\n                if ( $.type( content ) === 'string' ) {\r\n                    content = $('<div>').append( $.trim( content ) ).contents();\r\n\r\n                    // If we have text node, then add wrapping element to make vertical alignment work\r\n                    if ( content[0].nodeType === 3 ) {\r\n                        content = $('<div>').html( content );\r\n                    }\r\n                }\r\n\r\n                // If \"filter\" option is provided, then filter content\r\n                if ( slide.opts.filter ) {\r\n                    content = $('<div>').html( content ).find( slide.opts.filter );\r\n                }\r\n\r\n            }\r\n\r\n            slide.$slide.one('onReset', function () {\r\n\r\n                // Pause all html5 video/audio\r\n                $( this ).find( 'video,audio' ).trigger( 'pause' );\r\n\r\n                // Put content back\r\n                if ( slide.$placeholder ) {\r\n                    slide.$placeholder.after( content.hide() ).remove();\r\n\r\n                    slide.$placeholder = null;\r\n                }\r\n\r\n                // Remove custom close button\r\n                if ( slide.$smallBtn ) {\r\n                    slide.$smallBtn.remove();\r\n\r\n                    slide.$smallBtn = null;\r\n                }\r\n\r\n                // Remove content and mark slide as not loaded\r\n                if ( !slide.hasError ) {\r\n                    $(this).empty();\r\n\r\n                    slide.isLoaded = false;\r\n                }\r\n\r\n            });\r\n\r\n            slide.$content = $( content ).appendTo( slide.$slide );\r\n\r\n            this.afterLoad( slide );\r\n        },\r\n\r\n        // Display error message\r\n        // =====================\r\n\r\n        setError : function ( slide ) {\r\n\r\n            slide.hasError = true;\r\n\r\n            slide.$slide.removeClass( 'fancybox-slide--' + slide.type );\r\n\r\n            this.setContent( slide, this.translate( slide, slide.opts.errorTpl ) );\r\n\r\n        },\r\n\r\n\r\n        // Show loading icon inside the slide\r\n        // ==================================\r\n\r\n        showLoading : function( slide ) {\r\n\r\n            var self = this;\r\n\r\n            slide = slide || self.current;\r\n\r\n            if ( slide && !slide.$spinner ) {\r\n                slide.$spinner = $( self.opts.spinnerTpl ).appendTo( slide.$slide );\r\n            }\r\n\r\n        },\r\n\r\n        // Remove loading icon from the slide\r\n        // ==================================\r\n\r\n        hideLoading : function( slide ) {\r\n\r\n            var self = this;\r\n\r\n            slide = slide || self.current;\r\n\r\n            if ( slide && slide.$spinner ) {\r\n                slide.$spinner.remove();\r\n\r\n                delete slide.$spinner;\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Adjustments after slide content has been loaded\r\n        // ===============================================\r\n\r\n        afterLoad : function( slide ) {\r\n\r\n            var self = this;\r\n\r\n            if ( self.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            slide.isLoading = false;\r\n            slide.isLoaded  = true;\r\n\r\n            self.trigger( 'afterLoad', slide );\r\n\r\n            self.hideLoading( slide );\r\n\r\n            if ( slide.opts.smallBtn && !slide.$smallBtn ) {\r\n                slide.$smallBtn = $( self.translate( slide, slide.opts.btnTpl.smallBtn ) ).appendTo( slide.$content.filter('div,form').first() );\r\n            }\r\n\r\n            if ( slide.opts.protect && slide.$content && !slide.hasError ) {\r\n\r\n                // Disable right click\r\n                slide.$content.on( 'contextmenu.fb', function( e ) {\r\n                     if ( e.button == 2 ) {\r\n                         e.preventDefault();\r\n                     }\r\n\r\n                    return true;\r\n                });\r\n\r\n                // Add fake element on top of the image\r\n                // This makes a bit harder for user to select image\r\n                if ( slide.type === 'image' ) {\r\n                    $( '<div class=\"fancybox-spaceball\"></div>' ).appendTo( slide.$content );\r\n                }\r\n\r\n            }\r\n\r\n            self.revealContent( slide );\r\n\r\n        },\r\n\r\n\r\n        // Make content visible\r\n        // This method is called right after content has been loaded or\r\n        // user navigates gallery and transition should start\r\n        // ============================================================\r\n\r\n        revealContent : function( slide ) {\r\n\r\n            var self   = this;\r\n            var $slide = slide.$slide;\r\n\r\n            var effect, effectClassName, duration, opacity, end, start = false;\r\n\r\n            effect   = slide.opts[ self.firstRun ? 'animationEffect'   : 'transitionEffect' ];\r\n            duration = slide.opts[ self.firstRun ? 'animationDuration' : 'transitionDuration' ];\r\n\r\n            duration = parseInt( slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10 );\r\n\r\n            if ( slide.isMoved || slide.pos !== self.currPos || !duration ) {\r\n                effect = false;\r\n            }\r\n\r\n            // Check if can zoom\r\n            if ( effect === 'zoom' && !( slide.pos === self.currPos && duration && slide.type === 'image' && !slide.hasError && ( start = self.getThumbPos( slide ) ) ) ) {\r\n                effect = 'fade';\r\n            }\r\n\r\n            // Zoom animation\r\n            // ==============\r\n\r\n            if ( effect === 'zoom' ) {\r\n                end = self.getFitPos( slide );\r\n\r\n                end.scaleX = end.width  / start.width;\r\n                end.scaleY = end.height / start.height;\r\n\r\n                delete end.width;\r\n                delete end.height;\r\n\r\n                // Check if we need to animate opacity\r\n                opacity = slide.opts.zoomOpacity;\r\n\r\n                if ( opacity == 'auto' ) {\r\n                    opacity = Math.abs( slide.width / slide.height - start.width / start.height ) > 0.1;\r\n                }\r\n\r\n                if ( opacity ) {\r\n                    start.opacity = 0.1;\r\n                    end.opacity   = 1;\r\n                }\r\n\r\n                // Draw image at start position\r\n                $.fancybox.setTranslate( slide.$content.removeClass( 'fancybox-is-hidden' ), start );\r\n\r\n                forceRedraw( slide.$content );\r\n\r\n                // Start animation\r\n                $.fancybox.animate( slide.$content, end, duration, function() {\r\n                    self.complete();\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            self.updateSlide( slide );\r\n\r\n\r\n            // Simply show content\r\n            // ===================\r\n\r\n            if ( !effect ) {\r\n                forceRedraw( $slide );\r\n\r\n                slide.$content.removeClass( 'fancybox-is-hidden' );\r\n\r\n                if ( slide.pos === self.currPos ) {\r\n                    self.complete();\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            $.fancybox.stop( $slide );\r\n\r\n            effectClassName = 'fancybox-animated fancybox-slide--' + ( slide.pos >= self.prevPos ? 'next' : 'previous' ) + ' fancybox-fx-' + effect;\r\n\r\n            $slide.removeAttr( 'style' ).removeClass( 'fancybox-slide--current fancybox-slide--next fancybox-slide--previous' ).addClass( effectClassName );\r\n\r\n            slide.$content.removeClass( 'fancybox-is-hidden' );\r\n\r\n            //Force reflow for CSS3 transitions\r\n            forceRedraw( $slide );\r\n\r\n            $.fancybox.animate( $slide, 'fancybox-slide--current', duration, function(e) {\r\n                $slide.removeClass( effectClassName ).removeAttr( 'style' );\r\n\r\n                if ( slide.pos === self.currPos ) {\r\n                    self.complete();\r\n                }\r\n\r\n            }, true);\r\n\r\n        },\r\n\r\n\r\n        // Check if we can and have to zoom from thumbnail\r\n        //================================================\r\n\r\n        getThumbPos : function( slide ) {\r\n\r\n            var self = this;\r\n            var rez  = false;\r\n\r\n            // Check if element is inside the viewport by at least 1 pixel\r\n            var isElementVisible = function( $el ) {\r\n                var element = $el[0];\r\n\r\n                var elementRect = element.getBoundingClientRect();\r\n                var parentRects = [];\r\n\r\n                var visibleInAllParents;\r\n\r\n                while ( element.parentElement !== null ) {\r\n                    if ( $(element.parentElement).css('overflow') === 'hidden'  || $(element.parentElement).css('overflow') === 'auto' ) {\r\n                        parentRects.push(element.parentElement.getBoundingClientRect());\r\n                    }\r\n\r\n                    element = element.parentElement;\r\n                }\r\n\r\n                visibleInAllParents = parentRects.every(function(parentRect){\r\n                    var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\r\n                    var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\r\n\r\n                    return visiblePixelX > 0 && visiblePixelY > 0;\r\n                });\r\n\r\n                return visibleInAllParents &&\r\n                    elementRect.bottom > 0 && elementRect.right > 0 &&\r\n                    elementRect.left < $(window).width() && elementRect.top < $(window).height();\r\n            };\r\n\r\n            var $thumb   = slide.opts.$thumb;\r\n            var thumbPos = $thumb ? $thumb.offset() : 0;\r\n            var slidePos;\r\n\r\n            if ( thumbPos && $thumb[0].ownerDocument === document && isElementVisible( $thumb ) ) {\r\n                slidePos = self.$refs.stage.offset();\r\n\r\n                rez = {\r\n                    top    : thumbPos.top  - slidePos.top  + parseFloat( $thumb.css( \"border-top-width\" ) || 0 ),\r\n                    left   : thumbPos.left - slidePos.left + parseFloat( $thumb.css( \"border-left-width\" ) || 0 ),\r\n                    width  : $thumb.width(),\r\n                    height : $thumb.height(),\r\n                    scaleX : 1,\r\n                    scaleY : 1\r\n                };\r\n            }\r\n\r\n            return rez;\r\n        },\r\n\r\n\r\n        // Final adjustments after current gallery item is moved to position\r\n        // and it`s content is loaded\r\n        // ==================================================================\r\n\r\n        complete : function() {\r\n            var self = this,\r\n                current = self.current,\r\n                slides  = {},\r\n                promise;\r\n\r\n            if ( current.isMoved || !current.isLoaded || current.isComplete ) {\r\n                return;\r\n            }\r\n\r\n            current.isComplete = true;\r\n\r\n            current.$slide.siblings().trigger( 'onReset' );\r\n\r\n            self.preload( 'inline' );\r\n\r\n            // Trigger any CSS3 transiton inside the slide\r\n            forceRedraw( current.$slide );\r\n\r\n            current.$slide.addClass( 'fancybox-slide--complete' );\r\n\r\n            // Remove unnecessary slides\r\n            $.each( self.slides, function( key, slide ) {\r\n                if ( slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1 ) {\r\n                    slides[ slide.pos ] = slide;\r\n\r\n                } else if ( slide ) {\r\n                    $.fancybox.stop( slide.$slide );\r\n\r\n                    slide.$slide.off().remove();\r\n                }\r\n            });\r\n\r\n            self.slides = slides;\r\n\r\n            self.updateCursor();\r\n\r\n            self.trigger( 'afterShow' );\r\n\r\n            // Play first html5 video/audio\r\n            current.$slide.find( 'video,audio' ).first().trigger( 'play' );\r\n\r\n            // Try to focus on the first focusable element\r\n            if ( $( document.activeElement ).is( '[disabled]' ) || ( current.opts.autoFocus && !( current.type == 'image' || current.type === 'iframe' ) ) ) {\r\n                self.focus();\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Preload next and previous slides\r\n        // ================================\r\n\r\n        preload : function( type ) {\r\n            var self = this,\r\n                next = self.slides[ self.currPos + 1 ],\r\n                prev = self.slides[ self.currPos - 1 ];\r\n\r\n            if ( next && next.type === type ) {\r\n                self.loadSlide( next );\r\n            }\r\n\r\n            if ( prev && prev.type === type ) {\r\n                self.loadSlide( prev );\r\n            }\r\n        },\r\n\r\n\r\n        // Try to find and focus on the first focusable element\r\n        // ====================================================\r\n\r\n        focus : function() {\r\n            var current = this.current;\r\n            var $el;\r\n\r\n            if ( this.isClosing ) {\r\n                return;\r\n            }\r\n\r\n            if ( current && current.isComplete ) {\r\n\r\n                // Look for first input with autofocus attribute\r\n                $el = current.$slide.find('input[autofocus]:enabled:visible:first');\r\n\r\n                if ( !$el.length ) {\r\n                    $el = current.$slide.find('button,:input,[tabindex],a').filter(':enabled:visible:first');\r\n                }\r\n            }\r\n\r\n            $el = $el && $el.length ? $el : this.$refs.container;\r\n\r\n            $el.focus();\r\n        },\r\n\r\n\r\n        // Activates current instance - brings container to the front and enables keyboard,\r\n        // notifies other instances about deactivating\r\n        // =================================================================================\r\n\r\n        activate : function () {\r\n            var self = this;\r\n\r\n            // Deactivate all instances\r\n            $( '.fancybox-container' ).each(function () {\r\n                var instance = $(this).data( 'FancyBox' );\r\n\r\n                // Skip self and closing instances\r\n                if (instance && instance.id !== self.id && !instance.isClosing) {\r\n                    instance.trigger( 'onDeactivate' );\r\n\r\n                    instance.removeEvents();\r\n\r\n                    instance.isVisible = false;\r\n                }\r\n\r\n            });\r\n\r\n            self.isVisible = true;\r\n\r\n            if ( self.current || self.isIdle ) {\r\n                self.update();\r\n\r\n                self.updateControls();\r\n            }\r\n\r\n            self.trigger( 'onActivate' );\r\n\r\n            self.addEvents();\r\n        },\r\n\r\n\r\n        // Start closing procedure\r\n        // This will start \"zoom-out\" animation if needed and clean everything up afterwards\r\n        // =================================================================================\r\n\r\n        close : function( e, d ) {\r\n\r\n            var self    = this;\r\n            var current = self.current;\r\n\r\n            var effect, duration;\r\n            var $what, opacity, start, end;\r\n\r\n            var done = function() {\r\n                self.cleanUp( e );\r\n            };\r\n\r\n            if ( self.isClosing ) {\r\n                return false;\r\n            }\r\n\r\n            self.isClosing = true;\r\n\r\n            // If beforeClose callback prevents closing, make sure content is centered\r\n            if ( self.trigger( 'beforeClose', e ) === false ) {\r\n                self.isClosing = false;\r\n\r\n                requestAFrame(function() {\r\n                    self.update();\r\n                });\r\n\r\n                return false;\r\n            }\r\n\r\n            // Remove all events\r\n            // If there are multiple instances, they will be set again by \"activate\" method\r\n            self.removeEvents();\r\n\r\n            if ( current.timouts ) {\r\n                clearTimeout( current.timouts );\r\n            }\r\n\r\n            $what    = current.$content;\r\n            effect   = current.opts.animationEffect;\r\n            duration = $.isNumeric( d ) ? d : ( effect ? current.opts.animationDuration : 0 );\r\n\r\n            // Remove other slides\r\n            current.$slide.off( transitionEnd ).removeClass( 'fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated' );\r\n\r\n            current.$slide.siblings().trigger( 'onReset' ).remove();\r\n\r\n            // Trigger animations\r\n            if ( duration ) {\r\n                self.$refs.container.removeClass( 'fancybox-is-open' ).addClass( 'fancybox-is-closing' );\r\n            }\r\n\r\n            // Clean up\r\n            self.hideLoading( current );\r\n\r\n            self.hideControls();\r\n\r\n            self.updateCursor();\r\n\r\n            // Check if possible to zoom-out\r\n            if ( effect === 'zoom' && !( e !== true && $what && duration && current.type === 'image' && !current.hasError && ( end = self.getThumbPos( current ) ) ) ) {\r\n                effect = 'fade';\r\n            }\r\n\r\n            if ( effect === 'zoom' ) {\r\n                $.fancybox.stop( $what );\r\n\r\n                start = $.fancybox.getTranslate( $what );\r\n\r\n                start.width  = start.width  * start.scaleX;\r\n                start.height = start.height * start.scaleY;\r\n\r\n                // Check if we need to animate opacity\r\n                opacity = current.opts.zoomOpacity;\r\n\r\n                if ( opacity == 'auto' ) {\r\n                    opacity = Math.abs( current.width / current.height - end.width / end.height ) > 0.1;\r\n                }\r\n\r\n                if ( opacity ) {\r\n                    end.opacity = 0;\r\n                }\r\n\r\n                start.scaleX = start.width  / end.width;\r\n                start.scaleY = start.height / end.height;\r\n\r\n                start.width  = end.width;\r\n                start.height = end.height;\r\n\r\n                $.fancybox.setTranslate( current.$content, start );\r\n\r\n                forceRedraw( current.$content );\r\n\r\n                $.fancybox.animate( current.$content, end, duration, done );\r\n\r\n                return true;\r\n            }\r\n\r\n            if ( effect && duration ) {\r\n\r\n                // If skip animation\r\n                if ( e === true ) {\r\n                    setTimeout( done, duration );\r\n\r\n                } else {\r\n                    $.fancybox.animate( current.$slide.removeClass( 'fancybox-slide--current' ), 'fancybox-animated fancybox-slide--previous fancybox-fx-' + effect, duration, done );\r\n                }\r\n\r\n            } else {\r\n                done();\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n\r\n        // Final adjustments after removing the instance\r\n        // =============================================\r\n\r\n        cleanUp : function( e ) {\r\n            var self  = this,\r\n                $body = $( 'body' ),\r\n                instance,\r\n                offset;\r\n\r\n            self.current.$slide.trigger( 'onReset' );\r\n\r\n            self.$refs.container.empty().remove();\r\n\r\n            self.trigger( 'afterClose', e );\r\n\r\n            // Place back focus\r\n            if ( self.$lastFocus && !!self.current.opts.backFocus ) {\r\n                self.$lastFocus.focus();\r\n            }\r\n\r\n            self.current = null;\r\n\r\n            // Check if there are other instances\r\n            instance = $.fancybox.getInstance();\r\n\r\n            if ( instance ) {\r\n                instance.activate();\r\n\r\n            } else {\r\n\r\n                $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\r\n\r\n                $body.removeClass( 'fancybox-active compensate-for-scrollbar' );\r\n\r\n                if ( $body.hasClass( 'fancybox-iosfix' ) ) {\r\n                    offset = parseInt(document.body.style.top, 10);\r\n\r\n                    $body.removeClass( 'fancybox-iosfix' ).css( 'top', '' ).scrollTop( offset * -1 );\r\n                }\r\n\r\n                $( '#fancybox-style-noscroll' ).remove();\r\n\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Call callback and trigger an event\r\n        // ==================================\r\n\r\n        trigger : function( name, slide ) {\r\n            var args  = Array.prototype.slice.call(arguments, 1),\r\n                self  = this,\r\n                obj   = slide && slide.opts ? slide : self.current,\r\n                rez;\r\n\r\n            if ( obj ) {\r\n                args.unshift( obj );\r\n\r\n            } else {\r\n                obj = self;\r\n            }\r\n\r\n            args.unshift( self );\r\n\r\n            if ( $.isFunction( obj.opts[ name ] ) ) {\r\n                rez = obj.opts[ name ].apply( obj, args );\r\n            }\r\n\r\n            if ( rez === false ) {\r\n                return rez;\r\n            }\r\n\r\n            if ( name === 'afterClose' || !self.$refs ) {\r\n                $D.trigger( name + '.fb', args );\r\n\r\n            } else {\r\n                self.$refs.container.trigger( name + '.fb', args );\r\n            }\r\n\r\n        },\r\n\r\n\r\n        // Update infobar values, navigation button states and reveal caption\r\n        // ==================================================================\r\n\r\n        updateControls : function ( force ) {\r\n\r\n            var self = this;\r\n\r\n            var current  = self.current,\r\n                index    = current.index,\r\n                caption  = current.opts.caption,\r\n                $container = self.$refs.container,\r\n                $caption   = self.$refs.caption;\r\n\r\n            // Recalculate content dimensions\r\n            current.$slide.trigger( 'refresh' );\r\n\r\n            self.$caption = caption && caption.length ? $caption.html( caption ) : null;\r\n\r\n            if ( !self.isHiddenControls && !self.isIdle ) {\r\n                self.showControls();\r\n            }\r\n\r\n            // Update info and navigation elements\r\n            $container.find('[data-fancybox-count]').html( self.group.length );\r\n            $container.find('[data-fancybox-index]').html( index + 1 );\r\n\r\n            $container.find('[data-fancybox-prev]').prop( 'disabled', ( !current.opts.loop && index <= 0 ) );\r\n            $container.find('[data-fancybox-next]').prop( 'disabled', ( !current.opts.loop && index >= self.group.length - 1 ) );\r\n\r\n            if ( current.type === 'image' ) {\r\n\r\n                // Update download button source\r\n                $container.find('[data-fancybox-download]').attr( 'href', current.opts.image.src || current.src ).show();\r\n\r\n            } else {\r\n                $container.find('[data-fancybox-download],[data-fancybox-zoom]').hide();\r\n            }\r\n        },\r\n\r\n        // Hide toolbar and caption\r\n        // ========================\r\n\r\n        hideControls : function () {\r\n\r\n            this.isHiddenControls = true;\r\n\r\n            this.$refs.container.removeClass( 'fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav' );\r\n\r\n        },\r\n\r\n        showControls : function() {\r\n            var self = this;\r\n            var opts = self.current ? self.current.opts : self.opts;\r\n            var $container = self.$refs.container;\r\n\r\n            self.isHiddenControls   = false;\r\n            self.idleSecondsCounter = 0;\r\n\r\n            $container\r\n                .toggleClass( 'fancybox-show-toolbar', !!( opts.toolbar && opts.buttons ) )\r\n                .toggleClass( 'fancybox-show-infobar', !!( opts.infobar && self.group.length > 1 ) )\r\n                .toggleClass( 'fancybox-show-nav',     !!( opts.arrows && self.group.length > 1 ) )\r\n                .toggleClass( 'fancybox-is-modal',     !!opts.modal );\r\n\r\n            if ( self.$caption ) {\r\n                $container.addClass( 'fancybox-show-caption ');\r\n\r\n            } else {\r\n               $container.removeClass( 'fancybox-show-caption' );\r\n           }\r\n\r\n       },\r\n\r\n\r\n       // Toggle toolbar and caption\r\n       // ==========================\r\n\r\n       toggleControls : function() {\r\n           if ( this.isHiddenControls ) {\r\n               this.showControls();\r\n\r\n           } else {\r\n               this.hideControls();\r\n           }\r\n\r\n       },\r\n\r\n\r\n    });\r\n\r\n\r\n    $.fancybox = {\r\n\r\n        version  : \"3.2.10\",\r\n        defaults : defaults,\r\n\r\n\r\n        // Get current instance and execute a command.\r\n        //\r\n        // Examples of usage:\r\n        //\r\n        //   $instance = $.fancybox.getInstance();\r\n        //   $.fancybox.getInstance().jumpTo( 1 );\r\n        //   $.fancybox.getInstance( 'jumpTo', 1 );\r\n        //   $.fancybox.getInstance( function() {\r\n        //       console.info( this.currIndex );\r\n        //   });\r\n        // ======================================================\r\n\r\n        getInstance : function ( command ) {\r\n            var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data( 'FancyBox' );\r\n            var args     = Array.prototype.slice.call(arguments, 1);\r\n\r\n            if ( instance instanceof FancyBox ) {\r\n\r\n                if ( $.type( command ) === 'string' ) {\r\n                    instance[ command ].apply( instance, args );\r\n\r\n                } else if ( $.type( command ) === 'function' ) {\r\n                    command.apply( instance, args );\r\n                }\r\n\r\n                return instance;\r\n            }\r\n\r\n            return false;\r\n\r\n        },\r\n\r\n\r\n        // Create new instance\r\n        // ===================\r\n\r\n        open : function ( items, opts, index ) {\r\n            return new FancyBox( items, opts, index );\r\n        },\r\n\r\n\r\n        // Close current or all instances\r\n        // ==============================\r\n\r\n        close : function ( all ) {\r\n            var instance = this.getInstance();\r\n\r\n            if ( instance ) {\r\n                instance.close();\r\n\r\n                // Try to find and close next instance\r\n\r\n                if ( all === true ) {\r\n                    this.close();\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        // Close instances and unbind all events\r\n        // ==============================\r\n\r\n        destroy : function() {\r\n\r\n            this.close( true );\r\n\r\n            $D.off( 'click.fb-start' );\r\n\r\n        },\r\n\r\n\r\n        // Try to detect mobile devices\r\n        // ============================\r\n\r\n        isMobile : document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\r\n\r\n\r\n        // Detect if 'translate3d' support is available\r\n        // ============================================\r\n\r\n        use3d : (function() {\r\n            var div = document.createElement('div');\r\n\r\n            return window.getComputedStyle && window.getComputedStyle( div ).getPropertyValue('transform') && !(document.documentMode && document.documentMode < 11);\r\n        }()),\r\n\r\n        // Helper function to get current visual state of an element\r\n        // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\r\n        // =====================================================================\r\n\r\n        getTranslate : function( $el ) {\r\n            var matrix;\r\n\r\n            if ( !$el || !$el.length ) {\r\n                return false;\r\n            }\r\n\r\n            matrix  = $el.eq( 0 ).css('transform');\r\n\r\n            if ( matrix && matrix.indexOf( 'matrix' ) !== -1 ) {\r\n                matrix = matrix.split('(')[1];\r\n                matrix = matrix.split(')')[0];\r\n                matrix = matrix.split(',');\r\n            } else {\r\n                matrix = [];\r\n            }\r\n\r\n            if ( matrix.length ) {\r\n\r\n                // If IE\r\n                if ( matrix.length > 10 ) {\r\n                    matrix = [ matrix[13], matrix[12], matrix[0], matrix[5] ];\r\n\r\n                } else {\r\n                    matrix = [ matrix[5], matrix[4], matrix[0], matrix[3]];\r\n                }\r\n\r\n                matrix = matrix.map(parseFloat);\r\n\r\n            } else {\r\n                matrix = [ 0, 0, 1, 1 ];\r\n\r\n                var transRegex = /\\.*translate\\((.*)px,(.*)px\\)/i;\r\n                var transRez = transRegex.exec( $el.eq( 0 ).attr('style') );\r\n\r\n                if ( transRez ) {\r\n                    matrix[ 0 ] = parseFloat( transRez[2] );\r\n                    matrix[ 1 ] = parseFloat( transRez[1] );\r\n                }\r\n            }\r\n\r\n            return {\r\n                top     : matrix[ 0 ],\r\n                left    : matrix[ 1 ],\r\n                scaleX  : matrix[ 2 ],\r\n                scaleY  : matrix[ 3 ],\r\n                opacity : parseFloat( $el.css('opacity') ),\r\n                width   : $el.width(),\r\n                height  : $el.height()\r\n            };\r\n\r\n        },\r\n\r\n\r\n        // Shortcut for setting \"translate3d\" properties for element\r\n        // Can set be used to set opacity, too\r\n        // ========================================================\r\n\r\n        setTranslate : function( $el, props ) {\r\n            var str  = '';\r\n            var css  = {};\r\n\r\n            if ( !$el || !props ) {\r\n                return;\r\n            }\r\n\r\n            if ( props.left !== undefined || props.top !== undefined ) {\r\n                str = ( props.left === undefined ? $el.position().left : props.left )  + 'px, ' + ( props.top === undefined ? $el.position().top : props.top ) + 'px';\r\n\r\n                if ( this.use3d ) {\r\n                    str = 'translate3d(' + str + ', 0px)';\r\n\r\n                } else {\r\n                    str = 'translate(' + str + ')';\r\n                }\r\n            }\r\n\r\n            if ( props.scaleX !== undefined && props.scaleY !== undefined ) {\r\n                str = (str.length ? str + ' ' : '') + 'scale(' + props.scaleX + ', ' + props.scaleY + ')';\r\n            }\r\n\r\n            if ( str.length ) {\r\n                css.transform = str;\r\n            }\r\n\r\n            if ( props.opacity !== undefined ) {\r\n                css.opacity = props.opacity;\r\n            }\r\n\r\n            if ( props.width !== undefined ) {\r\n                css.width = props.width;\r\n            }\r\n\r\n            if ( props.height !== undefined ) {\r\n                css.height = props.height;\r\n            }\r\n\r\n            return $el.css( css );\r\n        },\r\n\r\n\r\n        // Simple CSS transition handler\r\n        // =============================\r\n\r\n        animate : function ( $el, to, duration, callback, leaveAnimationName ) {\r\n            if ( $.isFunction( duration ) ) {\r\n                callback = duration;\r\n                duration = null;\r\n            }\r\n\r\n            if ( !$.isPlainObject( to ) ) {\r\n                $el.removeAttr( 'style' );\r\n            }\r\n\r\n            $el.on( transitionEnd, function(e) {\r\n\r\n                // Skip events from child elements and z-index change\r\n                if ( e && e.originalEvent && ( !$el.is( e.originalEvent.target ) || e.originalEvent.propertyName == 'z-index' ) ) {\r\n                    return;\r\n                }\r\n\r\n                $.fancybox.stop( $el );\r\n\r\n                if ( $.isPlainObject( to ) ) {\r\n\r\n                    if ( to.scaleX !== undefined && to.scaleY !== undefined ) {\r\n                        $el.css( 'transition-duration', '' );\r\n\r\n                        to.width  = Math.round( $el.width()  * to.scaleX );\r\n                        to.height = Math.round( $el.height() * to.scaleY );\r\n\r\n                        to.scaleX = 1;\r\n                        to.scaleY = 1;\r\n\r\n                        $.fancybox.setTranslate( $el, to );\r\n                    }\r\n\r\n                    if ( leaveAnimationName === false ) {\r\n                        $el.removeAttr( 'style' );\r\n                    }\r\n\r\n                } else if ( leaveAnimationName !== true ) {\r\n                    $el.removeClass( to );\r\n                }\r\n\r\n                if ( $.isFunction( callback ) ) {\r\n                    callback( e );\r\n                }\r\n\r\n            });\r\n\r\n            if ( $.isNumeric( duration ) ) {\r\n                $el.css( 'transition-duration', duration + 'ms' );\r\n            }\r\n\r\n            if ( $.isPlainObject( to ) ) {\r\n                $.fancybox.setTranslate( $el, to );\r\n\r\n            } else {\r\n                $el.addClass( to );\r\n            }\r\n\r\n            if ( to.scaleX && $el.hasClass( 'fancybox-image-wrap' ) ) {\r\n                $el.parent().addClass( 'fancybox-is-scaling' );\r\n            }\r\n\r\n            // Make sure that `transitionend` callback gets fired\r\n            $el.data(\"timer\", setTimeout(function() {\r\n                $el.trigger( 'transitionend' );\r\n            }, duration + 16));\r\n\r\n        },\r\n\r\n        stop : function( $el ) {\r\n            clearTimeout( $el.data(\"timer\") );\r\n\r\n            $el.off( 'transitionend' ).css( 'transition-duration', '' );\r\n\r\n            if ( $el.hasClass( 'fancybox-image-wrap' ) ) {\r\n                $el.parent().removeClass( 'fancybox-is-scaling' );\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n\r\n    // Default click handler for \"fancyboxed\" links\r\n    // ============================================\r\n\r\n    function _run( e ) {\r\n        var $target\t= $( e.currentTarget ),\r\n            opts\t= e.data ? e.data.options : {},\r\n            value\t= $target.attr( 'data-fancybox' ) || '',\r\n            index\t= 0,\r\n            items   = [];\r\n\r\n        // Avoid opening multiple times\r\n        if ( e.isDefaultPrevented() ) {\r\n            return;\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        // Get all related items and find index for clicked one\r\n        if ( value ) {\r\n            items = opts.selector ? $( opts.selector ) : ( e.data ? e.data.items : [] );\r\n            items = items.length ? items.filter( '[data-fancybox=\"' + value + '\"]' ) : $( '[data-fancybox=\"' + value + '\"]' );\r\n\r\n            index = items.index( $target );\r\n\r\n            // Sometimes current item can not be found\r\n            // (for example, when slider clones items)\r\n            if ( index < 0 ) {\r\n                index = 0;\r\n            }\r\n\r\n        } else {\r\n            items = [ $target ];\r\n        }\r\n\r\n        $.fancybox.open( items, opts, index );\r\n    }\r\n\r\n\r\n    // Create a jQuery plugin\r\n    // ======================\r\n\r\n    $.fn.fancybox = function (options) {\r\n        var selector;\r\n\r\n        options  = options || {};\r\n        selector = options.selector || false;\r\n\r\n        if ( selector ) {\r\n\r\n            $( 'body' ).off( 'click.fb-start', selector ).on( 'click.fb-start', selector, {\r\n                options : options\r\n            }, _run );\r\n\r\n        } else {\r\n\r\n            this.off( 'click.fb-start' ).on( 'click.fb-start', {\r\n                items   : this,\r\n                options : options\r\n            }, _run);\r\n\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n\r\n    // Self initializing plugin\r\n    // ========================\r\n\r\n    $D.on( 'click.fb-start', '[data-fancybox]', _run );\r\n\r\n}( window, document, window.jQuery || jQuery ));\r\n\r\n// ==========================================================================\r\n//\r\n// Media\r\n// Adds additional media type support\r\n//\r\n// ==========================================================================\r\n;(function ($) {\r\n\r\n\t'use strict';\r\n\r\n\t// Formats matching url to final form\r\n\r\n\tvar format = function (url, rez, params) {\r\n\t\tif ( !url ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparams = params || '';\r\n\r\n\t\tif ( $.type(params) === \"object\" ) {\r\n\t\t\tparams = $.param(params, true);\r\n\t\t}\r\n\r\n\t\t$.each(rez, function (key, value) {\r\n\t\t\turl = url.replace('$' + key, value || '');\r\n\t\t});\r\n\r\n\t\tif (params.length) {\r\n\t\t\turl += (url.indexOf('?') > 0 ? '&' : '?') + params;\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\t};\r\n\r\n\t// Object containing properties for each media type\r\n\r\n\tvar defaults = {\r\n\t\tyoutube : {\r\n\t\t\tmatcher : /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\r\n\t\t\tparams  : {\r\n\t\t\t\tautoplay : 1,\r\n\t\t\t\tautohide : 1,\r\n\t\t\t\tfs  : 1,\r\n\t\t\t\trel : 0,\r\n\t\t\t\thd  : 1,\r\n\t\t\t\twmode : 'transparent',\r\n\t\t\t\tenablejsapi : 1,\r\n\t\t\t\thtml5 : 1\r\n\t\t\t},\r\n\t\t\tparamPlace : 8,\r\n\t\t\ttype  : 'iframe',\r\n\t\t\turl   : '//www.youtube.com/embed/$4',\r\n\t\t\tthumb : '//img.youtube.com/vi/$4/hqdefault.jpg'\r\n\t\t},\r\n\r\n\t\tvimeo : {\r\n\t\t\tmatcher : /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\r\n\t\t\tparams  : {\r\n\t\t\t\tautoplay : 1,\r\n\t\t\t\thd : 1,\r\n\t\t\t\tshow_title    : 1,\r\n\t\t\t\tshow_byline   : 1,\r\n\t\t\t\tshow_portrait : 0,\r\n\t\t\t\tfullscreen    : 1,\r\n\t\t\t\tapi : 1\r\n\t\t\t},\r\n\t\t\tparamPlace : 3,\r\n\t\t\ttype : 'iframe',\r\n\t\t\turl : '//player.vimeo.com/video/$2'\r\n\t\t},\r\n\r\n\t\tmetacafe : {\r\n\t\t\tmatcher : /metacafe.com\\/watch\\/(\\d+)\\/(.*)?/,\r\n\t\t\ttype    : 'iframe',\r\n\t\t\turl     : '//www.metacafe.com/embed/$1/?ap=1'\r\n\t\t},\r\n\r\n\t\tdailymotion : {\r\n\t\t\tmatcher : /dailymotion.com\\/video\\/(.*)\\/?(.*)/,\r\n\t\t\tparams : {\r\n\t\t\t\tadditionalInfos : 0,\r\n\t\t\t\tautoStart : 1\r\n\t\t\t},\r\n\t\t\ttype : 'iframe',\r\n\t\t\turl  : '//www.dailymotion.com/embed/video/$1'\r\n\t\t},\r\n\r\n\t\tvine : {\r\n\t\t\tmatcher : /vine.co\\/v\\/([a-zA-Z0-9\\?\\=\\-]+)/,\r\n\t\t\ttype    : 'iframe',\r\n\t\t\turl     : '//vine.co/v/$1/embed/simple'\r\n\t\t},\r\n\r\n\t\tinstagram : {\r\n\t\t\tmatcher : /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\r\n\t\t\ttype    : 'image',\r\n\t\t\turl     : '//$1/p/$2/media/?size=l'\r\n\t\t},\r\n\r\n\t\t// Examples:\r\n\t\t// http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\r\n\t\t// https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\r\n\t\t// https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\r\n\t\tgmap_place : {\r\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\r\n\t\t\ttype    : 'iframe',\r\n\t\t\turl     : function (rez) {\r\n\t\t\t\treturn '//maps.google.' + rez[2] + '/?ll=' + ( rez[9] ? rez[9] + '&z=' + Math.floor(  rez[10]  ) + ( rez[12] ? rez[12].replace(/^\\//, \"&\") : '' )  : rez[12] ) + '&output=' + ( rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed' );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Examples:\r\n\t\t// https://www.google.com/maps/search/Empire+State+Building/\r\n\t\t// https://www.google.com/maps/search/?api=1&query=centurylink+field\r\n\t\t// https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\r\n\t\tgmap_search : {\r\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\r\n\t\t\ttype    : 'iframe',\r\n\t\t\turl     : function (rez) {\r\n\t\t\t\treturn '//maps.google.' + rez[2] + '/maps?q=' + rez[5].replace('query=', 'q=').replace('api=1', '') + '&output=embed';\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$(document).on('objectNeedsType.fb', function (e, instance, item) {\r\n\r\n\t\tvar url\t = item.src || '',\r\n\t\t\ttype = false,\r\n\t\t\tmedia,\r\n\t\t\tthumb,\r\n\t\t\trez,\r\n\t\t\tparams,\r\n\t\t\turlParams,\r\n\t\t\tparamObj,\r\n\t\t\tprovider;\r\n\r\n\t\tmedia = $.extend( true, {}, defaults, item.opts.media );\r\n\r\n\t\t// Look for any matching media type\r\n\t\t$.each(media, function ( providerName, providerOpts ) {\r\n\t\t\trez = url.match( providerOpts.matcher );\r\n\r\n\t\t\tif ( !rez ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttype     = providerOpts.type;\r\n\t\t\tparamObj = {};\r\n\r\n\t\t\tif ( providerOpts.paramPlace && rez[ providerOpts.paramPlace ] ) {\r\n\t\t\t\turlParams = rez[ providerOpts.paramPlace ];\r\n\r\n\t\t\t\tif ( urlParams[ 0 ] == '?' ) {\r\n\t\t\t\t\turlParams = urlParams.substring(1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\turlParams = urlParams.split('&');\r\n\r\n\t\t\t\tfor ( var m = 0; m < urlParams.length; ++m ) {\r\n\t\t\t\t\tvar p = urlParams[ m ].split('=', 2);\r\n\r\n\t\t\t\t\tif ( p.length == 2 ) {\r\n\t\t\t\t\t\tparamObj[ p[0] ] = decodeURIComponent( p[1].replace(/\\+/g, \" \") );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tparams = $.extend( true, {}, providerOpts.params, item.opts[ providerName ], paramObj );\r\n\r\n\t\t\turl   = $.type( providerOpts.url ) === \"function\" ? providerOpts.url.call( this, rez, params, item ) : format( providerOpts.url, rez, params );\r\n\t\t\tthumb = $.type( providerOpts.thumb ) === \"function\" ? providerOpts.thumb.call( this, rez, params, item ) : format( providerOpts.thumb, rez );\r\n\r\n\t\t\tif ( providerName === 'vimeo' ) {\r\n\t\t\t\turl = url.replace('&%23', '#');\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t// If it is found, then change content type and update the url\r\n\r\n\t\tif ( type ) {\r\n\t\t\titem.src  = url;\r\n\t\t\titem.type = type;\r\n\r\n\t\t\tif ( !item.opts.thumb && !( item.opts.$thumb && item.opts.$thumb.length ) ) {\r\n\t\t\t\titem.opts.thumb = thumb;\r\n\t\t\t}\r\n\r\n\t\t\tif ( type === 'iframe' ) {\r\n\t\t\t\t$.extend(true, item.opts, {\r\n\t\t\t\t\tiframe : {\r\n\t\t\t\t\t\tpreload : false,\r\n\t\t\t\t\t\tattr : {\r\n\t\t\t\t\t\t\tscrolling : \"no\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\titem.contentProvider = provider;\r\n\r\n\t\t\t\titem.opts.slideClass += ' fancybox-slide--' + ( provider == 'gmap_place' || provider == 'gmap_search' ? 'map' : 'video' );\r\n\t\t\t}\r\n\r\n\t\t} else if ( url ) {\r\n\t\t\titem.type = item.opts.defaultType;\r\n\t\t}\r\n\r\n\t});\r\n\r\n}( window.jQuery || jQuery ));\r\n\r\n// ==========================================================================\r\n//\r\n// Guestures\r\n// Adds touch guestures, handles click and tap events\r\n//\r\n// ==========================================================================\r\n;(function (window, document, $) {\r\n\t'use strict';\r\n\r\n\tvar requestAFrame = (function () {\r\n\t\treturn window.requestAnimationFrame ||\r\n\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\t// if all else fails, use setTimeout\r\n\t\t\tfunction (callback) {\r\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t})();\r\n\r\n\tvar cancelAFrame = (function () {\r\n\t\treturn window.cancelAnimationFrame ||\r\n\t\t\twindow.webkitCancelAnimationFrame ||\r\n\t\t\twindow.mozCancelAnimationFrame ||\r\n\t\t\twindow.oCancelAnimationFrame ||\r\n\t\t\tfunction (id) {\r\n\t\t\t\twindow.clearTimeout(id);\r\n\t\t\t};\r\n\t})();\r\n\r\n\tvar pointers = function( e ) {\r\n\t\tvar result = [];\r\n\r\n\t\te = e.originalEvent || e || window.e;\r\n\t\te = e.touches && e.touches.length ? e.touches : ( e.changedTouches && e.changedTouches.length ? e.changedTouches : [ e ] );\r\n\r\n\t\tfor ( var key in e ) {\r\n\r\n\t\t\tif ( e[ key ].pageX ) {\r\n\t\t\t\tresult.push( { x : e[ key ].pageX, y : e[ key ].pageY } );\r\n\r\n\t\t\t} else if ( e[ key ].clientX ) {\r\n\t\t\t\tresult.push( { x : e[ key ].clientX, y : e[ key ].clientY } );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\tvar distance = function( point2, point1, what ) {\r\n\t\tif ( !point1 || !point2 ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tif ( what === 'x' ) {\r\n\t\t\treturn point2.x - point1.x;\r\n\r\n\t\t} else if ( what === 'y' ) {\r\n\t\t\treturn point2.y - point1.y;\r\n\t\t}\r\n\r\n\t\treturn Math.sqrt( Math.pow( point2.x - point1.x, 2 ) + Math.pow( point2.y - point1.y, 2 ) );\r\n\t};\r\n\r\n\tvar isClickable = function( $el ) {\r\n\t\tif ( $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea') || $.isFunction( $el.get(0).onclick ) || $el.data('selectable') ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Check for attributes like data-fancybox-next or data-fancybox-close\r\n\t\tfor ( var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++ ) {\r\n\t\t\tif ( atts[i].nodeName.substr(0, 14) === 'data-fancybox-' ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t \treturn false;\r\n\t};\r\n\r\n\tvar hasScrollbars = function( el ) {\r\n\t\tvar overflowY = window.getComputedStyle( el )['overflow-y'];\r\n\t\tvar overflowX = window.getComputedStyle( el )['overflow-x'];\r\n\r\n\t\tvar vertical   = (overflowY === 'scroll' || overflowY === 'auto') && el.scrollHeight > el.clientHeight;\r\n\t\tvar horizontal = (overflowX === 'scroll' || overflowX === 'auto') && el.scrollWidth > el.clientWidth;\r\n\r\n\t\treturn vertical || horizontal;\r\n\t};\r\n\r\n\tvar isScrollable = function ( $el ) {\r\n\t\tvar rez = false;\r\n\r\n\t\twhile ( true ) {\r\n\t\t\trez\t= hasScrollbars( $el.get(0) );\r\n\r\n\t\t\tif ( rez ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t$el = $el.parent();\r\n\r\n\t\t\tif ( !$el.length || $el.hasClass( 'fancybox-stage' ) || $el.is( 'body' ) ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rez;\r\n\t};\r\n\r\n\r\n\tvar Guestures = function ( instance ) {\r\n\t\tvar self = this;\r\n\r\n\t\tself.instance = instance;\r\n\r\n\t\tself.$bg        = instance.$refs.bg;\r\n\t\tself.$stage     = instance.$refs.stage;\r\n\t\tself.$container = instance.$refs.container;\r\n\r\n\t\tself.destroy();\r\n\r\n\t\tself.$container.on( 'touchstart.fb.touch mousedown.fb.touch', $.proxy(self, 'ontouchstart') );\r\n\t};\r\n\r\n\tGuestures.prototype.destroy = function() {\r\n\t\tthis.$container.off( '.fb.touch' );\r\n\t};\r\n\r\n\tGuestures.prototype.ontouchstart = function( e ) {\r\n\t\tvar self = this;\r\n\r\n\t\tvar $target  = $( e.target );\r\n\t\tvar instance = self.instance;\r\n\t\tvar current  = instance.current;\r\n\t\tvar $content = current.$content;\r\n\r\n\t\tvar isTouchDevice = ( e.type == 'touchstart' );\r\n\r\n\t\t// Do not respond to both (touch and mouse) events\r\n\t\tif ( isTouchDevice ) {\r\n\t\t\tself.$container.off( 'mousedown.fb.touch' );\r\n\t\t}\r\n\r\n\t\t// Ignore right click\r\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Ignore taping on links, buttons, input elements\r\n\t\tif ( !$target.length || isClickable( $target ) || isClickable( $target.parent() ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Ignore clicks on the scrollbar\r\n\t\tif ( !$target.is('img') && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Ignore clicks while zooming or closing\r\n\t\tif ( !current || self.instance.isAnimating || self.instance.isClosing ) {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tself.realPoints = self.startPoints = pointers( e );\r\n\r\n\t\tif ( !self.startPoints ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\te.stopPropagation();\r\n\r\n\t\tself.startEvent = e;\r\n\r\n\t\tself.canTap   = true;\r\n\t\tself.$target  = $target;\r\n\t\tself.$content = $content;\r\n\t\tself.opts     = current.opts.touch;\r\n\r\n\t\tself.isPanning   = false;\r\n\t\tself.isSwiping   = false;\r\n\t\tself.isZooming   = false;\r\n\t\tself.isScrolling = false;\r\n\r\n\t\tself.sliderStartPos  = self.sliderLastPos || { top: 0, left: 0 };\r\n\t\tself.contentStartPos = $.fancybox.getTranslate( self.$content );\r\n\t\tself.contentLastPos  = null;\r\n\r\n\t\tself.startTime = new Date().getTime();\r\n\t\tself.distanceX = self.distanceY = self.distance = 0;\r\n\r\n\t\tself.canvasWidth  = Math.round( current.$slide[0].clientWidth );\r\n\t\tself.canvasHeight = Math.round( current.$slide[0].clientHeight );\r\n\r\n\t\t$(document)\r\n\t\t\t.off( '.fb.touch' )\r\n\t\t\t.on( isTouchDevice ? 'touchend.fb.touch touchcancel.fb.touch' : 'mouseup.fb.touch mouseleave.fb.touch', $.proxy(self, \"ontouchend\"))\r\n\t\t\t.on( isTouchDevice ? 'touchmove.fb.touch' : 'mousemove.fb.touch', $.proxy(self, \"ontouchmove\"));\r\n\r\n\t\tif ( $.fancybox.isMobile ) {\r\n\t\t\tdocument.addEventListener('scroll', self.onscroll, true);\r\n\t\t}\r\n\r\n\t\tif ( !(self.opts || instance.canPan() ) || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\r\n\r\n\t\t\t// Prevent image ghosting while dragging\r\n\t\t\tif ( $target.is('img') ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( !( $.fancybox.isMobile && ( isScrollable( $target ) || isScrollable( $target.parent() ) ) ) ) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\tif ( self.startPoints.length === 1 ) {\r\n\t\t\tif ( current.type === 'image' && ( self.contentStartPos.width > self.canvasWidth + 1 || self.contentStartPos.height > self.canvasHeight + 1 ) ) {\r\n\t\t\t\t$.fancybox.stop( self.$content );\r\n\r\n\t\t\t\tself.$content.css( 'transition-duration', '' );\r\n\r\n\t\t\t\tself.isPanning = true;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.isSwiping = true;\r\n\t\t\t}\r\n\r\n\t\t\tself.$container.addClass( 'fancybox-controls--isGrabbing' );\r\n\t\t}\r\n\r\n\t\tif ( self.startPoints.length === 2 && !instance.isAnimating && !current.hasError && current.type === 'image' && ( current.isLoaded || current.$ghost ) ) {\r\n\t\t\tself.canTap    = false;\r\n\t\t\tself.isSwiping = false;\r\n\t\t\tself.isPanning = false;\r\n\r\n\t\t\tself.isZooming = true;\r\n\r\n\t\t\t$.fancybox.stop( self.$content );\r\n\r\n\t\t\tself.$content.css( 'transition-duration', '' );\r\n\r\n\t\t\tself.centerPointStartX = ( ( self.startPoints[0].x + self.startPoints[1].x ) * 0.5 ) - $(window).scrollLeft();\r\n\t\t\tself.centerPointStartY = ( ( self.startPoints[0].y + self.startPoints[1].y ) * 0.5 ) - $(window).scrollTop();\r\n\r\n\t\t\tself.percentageOfImageAtPinchPointX = ( self.centerPointStartX - self.contentStartPos.left ) / self.contentStartPos.width;\r\n\t\t\tself.percentageOfImageAtPinchPointY = ( self.centerPointStartY - self.contentStartPos.top  ) / self.contentStartPos.height;\r\n\r\n\t\t\tself.startDistanceBetweenFingers = distance( self.startPoints[0], self.startPoints[1] );\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGuestures.prototype.onscroll = function(e) {\r\n\t\tself.isScrolling = true;\r\n\t};\r\n\r\n\tGuestures.prototype.ontouchmove = function( e ) {\r\n\t\tvar self = this,\r\n\t\t\t$target = $(e.target);\r\n\r\n\t\tif ( self.isScrolling || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\r\n\t\t\tself.canTap = false;\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tself.newPoints = pointers( e );\r\n\r\n\t\tif ( !( self.opts || self.instance.canPan() ) || !self.newPoints || !self.newPoints.length ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( !(self.isSwiping && self.isSwiping === true) ) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\tself.distanceX = distance( self.newPoints[0], self.startPoints[0], 'x' );\r\n\t\tself.distanceY = distance( self.newPoints[0], self.startPoints[0], 'y' );\r\n\r\n\t\tself.distance = distance( self.newPoints[0], self.startPoints[0] )\r\n\r\n\t\t// Skip false ontouchmove events (Chrome)\r\n\t\tif ( self.distance > 0 ) {\r\n\t\t\tif ( self.isSwiping ) {\r\n\t\t\t\tself.onSwipe(e);\r\n\r\n\t\t\t} else if ( self.isPanning ) {\r\n\t\t\t\tself.onPan();\r\n\r\n\t\t\t} else if ( self.isZooming ) {\r\n\t\t\t\tself.onZoom();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGuestures.prototype.onSwipe = function(e) {\r\n\t\tvar self = this,\r\n\t\t\tswiping = self.isSwiping,\r\n\t\t\tleft    = self.sliderStartPos.left || 0,\r\n\t\t\tangle;\r\n\r\n\t\t// If direction is not yet determined\r\n\t\tif ( swiping === true ) {\r\n\r\n\t\t\t// We need at least 10px distance to correctly calculate an angle\r\n\t\t\tif ( Math.abs( self.distance ) > 10 ) {\r\n\t\t\t\tself.canTap = false;\r\n\r\n\t\t\t\tif ( self.instance.group.length < 2 && self.opts.vertical ) {\r\n\t\t\t\t\tself.isSwiping = 'y';\r\n\r\n\t\t\t\t} else if ( self.instance.isDragging || self.opts.vertical === false || ( self.opts.vertical === 'auto' && $( window ).width() > 800 ) ) {\r\n\t\t\t\t\tself.isSwiping = 'x';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tangle = Math.abs( Math.atan2( self.distanceY, self.distanceX ) * 180 / Math.PI );\r\n\r\n\t\t\t\t\tself.isSwiping = ( angle > 45 && angle < 135 ) ? 'y' : 'x';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.canTap = false;\r\n\r\n\t\t\t\t if ( self.isSwiping === 'y' && $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) {\r\n\t\t\t\t\t self.isScrolling = true;\r\n\r\n\t\t\t\t\t return;\r\n\t\t\t\t }\r\n\r\n\t\t\t\tself.instance.isDragging = self.isSwiping;\r\n\r\n\t\t\t\t// Reset points to avoid jumping, because we dropped first swipes to calculate the angle\r\n\t\t\t\tself.startPoints = self.newPoints;\r\n\r\n\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\r\n\t\t\t\t\t$.fancybox.stop( slide.$slide );\r\n\r\n\t\t\t\t\tslide.$slide.css( 'transition-duration', '' );\r\n\r\n\t\t\t\t\tslide.inTransition = false;\r\n\r\n\t\t\t\t\tif ( slide.pos === self.instance.current.pos ) {\r\n\t\t\t\t\t\tself.sliderStartPos.left = $.fancybox.getTranslate( slide.$slide ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Stop slideshow\r\n\t\t\t\tif ( self.instance.SlideShow && self.instance.SlideShow.isActive ) {\r\n\t\t\t\t\tself.instance.SlideShow.stop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Sticky edges\r\n\t\tif ( swiping == 'x' ) {\r\n\t\t\tif ( self.distanceX > 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === 0 && !self.instance.current.opts.loop ) ) ) {\r\n\t\t\t\tleft = left + Math.pow( self.distanceX, 0.8 );\r\n\r\n\t\t\t} else if ( self.distanceX < 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop ) ) ) {\r\n\t\t\t\tleft = left - Math.pow( -self.distanceX, 0.8 );\r\n\r\n\t\t\t} else {\r\n\t\t\t\tleft = left + self.distanceX;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tself.sliderLastPos = {\r\n\t\t\ttop  : swiping == 'x' ? 0 : self.sliderStartPos.top + self.distanceY,\r\n\t\t\tleft : left\r\n\t\t};\r\n\r\n\t\tif ( self.requestId ) {\r\n\t\t\tcancelAFrame( self.requestId );\r\n\r\n\t\t\tself.requestId = null;\r\n\t\t}\r\n\r\n\t\tself.requestId = requestAFrame(function() {\r\n\r\n\t\t\tif ( self.sliderLastPos ) {\r\n\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\r\n\t\t\t\t\tvar pos = slide.pos - self.instance.currPos;\r\n\r\n\t\t\t\t\t$.fancybox.setTranslate( slide.$slide, {\r\n\t\t\t\t\t\ttop  : self.sliderLastPos.top,\r\n\t\t\t\t\t\tleft : self.sliderLastPos.left + ( pos * self.canvasWidth ) + ( pos * slide.opts.gutter )\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tself.$container.addClass( 'fancybox-is-sliding' );\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tGuestures.prototype.onPan = function() {\r\n\t\tvar self = this;\r\n\r\n\t\t// Sometimes, when tapping causally, image can move a bit and that breaks double tapping\r\n\t\tif ( distance( self.newPoints[0], self.realPoints[0] ) < ($.fancybox.isMobile ? 10 : 5) ) {\r\n\t\t\tself.startPoints = self.newPoints;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tself.canTap = false;\r\n\r\n\t\tself.contentLastPos = self.limitMovement();\r\n\r\n\t\tif ( self.requestId ) {\r\n\t\t\tcancelAFrame( self.requestId );\r\n\r\n\t\t\tself.requestId = null;\r\n\t\t}\r\n\r\n\t\tself.requestId = requestAFrame(function() {\r\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\r\n\t\t});\r\n\t};\r\n\r\n\t// Make panning sticky to the edges\r\n\tGuestures.prototype.limitMovement = function() {\r\n\t\tvar self = this;\r\n\r\n\t\tvar canvasWidth  = self.canvasWidth;\r\n\t\tvar canvasHeight = self.canvasHeight;\r\n\r\n\t\tvar distanceX = self.distanceX;\r\n\t\tvar distanceY = self.distanceY;\r\n\r\n\t\tvar contentStartPos = self.contentStartPos;\r\n\r\n\t\tvar currentOffsetX = contentStartPos.left;\r\n\t\tvar currentOffsetY = contentStartPos.top;\r\n\r\n\t\tvar currentWidth  = contentStartPos.width;\r\n\t\tvar currentHeight = contentStartPos.height;\r\n\r\n\t\tvar minTranslateX, minTranslateY,\r\n\t\t\tmaxTranslateX, maxTranslateY,\r\n\t\t\tnewOffsetX, newOffsetY;\r\n\r\n\t\tif ( currentWidth > canvasWidth ) {\r\n\t\t\tnewOffsetX = currentOffsetX + distanceX;\r\n\r\n\t\t} else {\r\n\t\t\tnewOffsetX = currentOffsetX;\r\n\t\t}\r\n\r\n\t\tnewOffsetY = currentOffsetY + distanceY;\r\n\r\n\t\t// Slow down proportionally to traveled distance\r\n\t\tminTranslateX = Math.max( 0, canvasWidth  * 0.5 - currentWidth  * 0.5 );\r\n\t\tminTranslateY = Math.max( 0, canvasHeight * 0.5 - currentHeight * 0.5 );\r\n\r\n\t\tmaxTranslateX = Math.min( canvasWidth  - currentWidth,  canvasWidth  * 0.5 - currentWidth  * 0.5 );\r\n\t\tmaxTranslateY = Math.min( canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5 );\r\n\r\n\t\tif ( currentWidth > canvasWidth ) {\r\n\r\n\t\t\t//   ->\r\n\t\t\tif ( distanceX > 0 && newOffsetX > minTranslateX ) {\r\n\t\t\t\tnewOffsetX = minTranslateX - 1 + Math.pow( -minTranslateX + currentOffsetX + distanceX, 0.8 ) || 0;\r\n\t\t\t}\r\n\r\n\t\t\t//    <-\r\n\t\t\tif ( distanceX < 0 && newOffsetX < maxTranslateX ) {\r\n\t\t\t\tnewOffsetX = maxTranslateX + 1 - Math.pow( maxTranslateX - currentOffsetX - distanceX, 0.8 ) || 0;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( currentHeight > canvasHeight ) {\r\n\r\n\t\t\t//   \\/\r\n\t\t\tif ( distanceY > 0 && newOffsetY > minTranslateY ) {\r\n\t\t\t\tnewOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8 ) || 0;\r\n\t\t\t}\r\n\r\n\t\t\t//   /\\\r\n\t\t\tif ( distanceY < 0 && newOffsetY < maxTranslateY ) {\r\n\t\t\t\tnewOffsetY = maxTranslateY + 1 - Math.pow ( maxTranslateY - currentOffsetY - distanceY, 0.8 ) || 0;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop    : newOffsetY,\r\n\t\t\tleft   : newOffsetX,\r\n\t\t\tscaleX : contentStartPos.scaleX,\r\n\t\t\tscaleY : contentStartPos.scaleY\r\n\t\t};\r\n\r\n\t};\r\n\r\n\tGuestures.prototype.limitPosition = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\r\n\t\tvar self = this;\r\n\r\n\t\tvar canvasWidth  = self.canvasWidth;\r\n\t\tvar canvasHeight = self.canvasHeight;\r\n\r\n\t\tif ( newWidth > canvasWidth ) {\r\n\t\t\tnewOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\r\n\t\t\tnewOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Center horizontally\r\n\t\t\tnewOffsetX = Math.max( 0, canvasWidth / 2 - newWidth / 2 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( newHeight > canvasHeight ) {\r\n\t\t\tnewOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\r\n\t\t\tnewOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Center vertically\r\n\t\t\tnewOffsetY = Math.max( 0, canvasHeight / 2 - newHeight / 2 );\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop  : newOffsetY,\r\n\t\t\tleft : newOffsetX\r\n\t\t};\r\n\r\n\t};\r\n\r\n\tGuestures.prototype.onZoom = function() {\r\n\t\tvar self = this;\r\n\r\n\t\t// Calculate current distance between points to get pinch ratio and new width and height\r\n\r\n\t\tvar currentWidth  = self.contentStartPos.width;\r\n\t\tvar currentHeight = self.contentStartPos.height;\r\n\r\n\t\tvar currentOffsetX = self.contentStartPos.left;\r\n\t\tvar currentOffsetY = self.contentStartPos.top;\r\n\r\n\t\tvar endDistanceBetweenFingers = distance( self.newPoints[0], self.newPoints[1] );\r\n\r\n\t\tvar pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\r\n\r\n\t\tvar newWidth  = Math.floor( currentWidth  * pinchRatio );\r\n\t\tvar newHeight = Math.floor( currentHeight * pinchRatio );\r\n\r\n\t\t// This is the translation due to pinch-zooming\r\n\t\tvar translateFromZoomingX = (currentWidth  - newWidth)  * self.percentageOfImageAtPinchPointX;\r\n\t\tvar translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\r\n\r\n\t\t//Point between the two touches\r\n\r\n\t\tvar centerPointEndX = ((self.newPoints[0].x + self.newPoints[1].x) / 2) - $(window).scrollLeft();\r\n\t\tvar centerPointEndY = ((self.newPoints[0].y + self.newPoints[1].y) / 2) - $(window).scrollTop();\r\n\r\n\t\t// And this is the translation due to translation of the centerpoint\r\n\t\t// between the two fingers\r\n\r\n\t\tvar translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\r\n\t\tvar translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\r\n\r\n\t\t// The new offset is the old/current one plus the total translation\r\n\r\n\t\tvar newOffsetX = currentOffsetX + ( translateFromZoomingX + translateFromTranslatingX );\r\n\t\tvar newOffsetY = currentOffsetY + ( translateFromZoomingY + translateFromTranslatingY );\r\n\r\n\t\tvar newPos = {\r\n\t\t\ttop    : newOffsetY,\r\n\t\t\tleft   : newOffsetX,\r\n\t\t\tscaleX : self.contentStartPos.scaleX * pinchRatio,\r\n\t\t\tscaleY : self.contentStartPos.scaleY * pinchRatio\r\n\t\t};\r\n\r\n\t\tself.canTap = false;\r\n\r\n\t\tself.newWidth  = newWidth;\r\n\t\tself.newHeight = newHeight;\r\n\r\n\t\tself.contentLastPos = newPos;\r\n\r\n\t\tif ( self.requestId ) {\r\n\t\t\tcancelAFrame( self.requestId );\r\n\r\n\t\t\tself.requestId = null;\r\n\t\t}\r\n\r\n\t\tself.requestId = requestAFrame(function() {\r\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tGuestures.prototype.ontouchend = function( e ) {\r\n\t\tvar self = this;\r\n\t\tvar dMs  = Math.max( (new Date().getTime() ) - self.startTime, 1);\r\n\r\n\t\tvar swiping   = self.isSwiping;\r\n\t\tvar panning   = self.isPanning;\r\n\t\tvar zooming   = self.isZooming;\r\n\t\tvar scrolling = self.isScrolling;\r\n\r\n\t\tself.endPoints = pointers( e );\r\n\r\n\t\tself.$container.removeClass( 'fancybox-controls--isGrabbing' );\r\n\r\n\t\t$(document).off( '.fb.touch' );\r\n\r\n\t\tdocument.removeEventListener('scroll', self.onscroll, true);\r\n\r\n\t\tif ( self.requestId ) {\r\n\t\t\tcancelAFrame( self.requestId );\r\n\r\n\t\t\tself.requestId = null;\r\n\t\t}\r\n\r\n\t\tself.isSwiping   = false;\r\n\t\tself.isPanning   = false;\r\n\t\tself.isZooming   = false;\r\n\t\tself.isScrolling = false;\r\n\r\n\t\tself.instance.isDragging = false;\r\n\r\n\t\tif ( self.canTap ) {\r\n\t\t\treturn self.onTap( e );\r\n\t\t}\r\n\r\n\t\tself.speed = 366;\r\n\r\n\t\t// Speed in px/ms\r\n\t\tself.velocityX = self.distanceX / dMs * 0.5;\r\n\t\tself.velocityY = self.distanceY / dMs * 0.5;\r\n\r\n\t\tself.speedX = Math.max( self.speed * 0.5, Math.min( self.speed * 1.5, ( 1 / Math.abs( self.velocityX ) ) * self.speed ) );\r\n\r\n\t\tif ( panning ) {\r\n\t\t\tself.endPanning();\r\n\r\n\t\t} else if ( zooming ) {\r\n\t\t\tself.endZooming();\r\n\r\n\t\t} else {\r\n\t\t\tself.endSwiping( swiping, scrolling );\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t};\r\n\r\n\tGuestures.prototype.endSwiping = function( swiping, scrolling ) {\r\n\t\tvar self = this,\r\n\t\t\tret  = false,\r\n\t\t\tlen  = self.instance.group.length;\r\n\r\n\t\tself.sliderLastPos = null;\r\n\r\n\t\t// Close if swiped vertically / navigate if horizontally\r\n\t\tif ( swiping == 'y' && !scrolling && Math.abs( self.distanceY ) > 50 ) {\r\n\r\n\t\t\t// Continue vertical movement\r\n\t\t\t$.fancybox.animate( self.instance.current.$slide, {\r\n\t\t\t\ttop     : self.sliderStartPos.top + self.distanceY + ( self.velocityY * 150 ),\r\n\t\t\t\topacity : 0\r\n\t\t\t}, 150 );\r\n\r\n\t\t\tret = self.instance.close( true, 300 );\r\n\r\n\t\t} else if ( swiping == 'x' && self.distanceX > 50 && len > 1 ) {\r\n\t\t\tret = self.instance.previous( self.speedX );\r\n\r\n\t\t} else if ( swiping == 'x' && self.distanceX < -50 && len > 1 ) {\r\n\t\t\tret = self.instance.next( self.speedX );\r\n\t\t}\r\n\r\n\t\tif ( ret === false && ( swiping == 'x' || swiping == 'y' ) ) {\r\n\t\t\tif ( scrolling || len < 2 ) {\r\n\t\t\t\tself.instance.centerSlide( self.instance.current, 150 );\r\n\t\t\t} else {\r\n\t\t\t\tself.instance.jumpTo( self.instance.current.index );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tself.$container.removeClass( 'fancybox-is-sliding' );\r\n\r\n\t};\r\n\r\n\t// Limit panning from edges\r\n\t// ========================\r\n\r\n\tGuestures.prototype.endPanning = function() {\r\n\r\n\t\tvar self = this;\r\n\t\tvar newOffsetX, newOffsetY, newPos;\r\n\r\n\t\tif ( !self.contentLastPos ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( self.opts.momentum === false ) {\r\n\t\t\tnewOffsetX = self.contentLastPos.left;\r\n\t\t\tnewOffsetY = self.contentLastPos.top;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Continue movement\r\n\t\t\tnewOffsetX = self.contentLastPos.left + ( self.velocityX * self.speed );\r\n\t\t\tnewOffsetY = self.contentLastPos.top  + ( self.velocityY * self.speed );\r\n\t\t}\r\n\r\n\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\r\n\r\n\t\t newPos.width  = self.contentStartPos.width;\r\n\t\t newPos.height = self.contentStartPos.height;\r\n\r\n\t\t$.fancybox.animate( self.$content, newPos, 330 );\r\n\t};\r\n\r\n\r\n\tGuestures.prototype.endZooming = function() {\r\n\t\tvar self = this;\r\n\r\n\t\tvar current = self.instance.current;\r\n\r\n\t\tvar newOffsetX, newOffsetY, newPos, reset;\r\n\r\n\t\tvar newWidth  = self.newWidth;\r\n\t\tvar newHeight = self.newHeight;\r\n\r\n\t\tif ( !self.contentLastPos ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnewOffsetX = self.contentLastPos.left;\r\n\t\tnewOffsetY = self.contentLastPos.top;\r\n\r\n\t\treset = {\r\n\t\t\ttop    : newOffsetY,\r\n\t\t\tleft   : newOffsetX,\r\n\t\t\twidth  : newWidth,\r\n\t\t\theight : newHeight,\r\n\t\t\tscaleX : 1,\r\n\t\t\tscaleY : 1\r\n\t\t};\r\n\r\n\t\t// Reset scalex/scaleY values; this helps for perfomance and does not break animation\r\n\t\t$.fancybox.setTranslate( self.$content, reset );\r\n\r\n\t\tif ( newWidth < self.canvasWidth && newHeight < self.canvasHeight ) {\r\n\t\t\tself.instance.scaleToFit( 150 );\r\n\r\n\t\t} else if ( newWidth > current.width || newHeight > current.height ) {\r\n\t\t\tself.instance.scaleToActual( self.centerPointStartX, self.centerPointStartY, 150 );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, newWidth, newHeight );\r\n\r\n\t\t\t// Switch from scale() to width/height or animation will not work correctly\r\n\t\t\t$.fancybox.setTranslate( self.content, $.fancybox.getTranslate( self.$content ) );\r\n\r\n\t\t\t$.fancybox.animate( self.$content, newPos, 150 );\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGuestures.prototype.onTap = function(e) {\r\n\t\tvar self    = this;\r\n\t\tvar $target = $( e.target );\r\n\r\n\t\tvar instance = self.instance;\r\n\t\tvar current  = instance.current;\r\n\r\n\t\tvar endPoints = ( e && pointers( e ) ) || self.startPoints;\r\n\r\n\t\tvar tapX = endPoints[0] ? endPoints[0].x - self.$stage.offset().left : 0;\r\n\t\tvar tapY = endPoints[0] ? endPoints[0].y - self.$stage.offset().top  : 0;\r\n\r\n\t\tvar where;\r\n\r\n\t\tvar process = function ( prefix ) {\r\n\r\n\t\t\tvar action = current.opts[ prefix ];\r\n\r\n\t\t\tif ( $.isFunction( action ) ) {\r\n\t\t\t\taction = action.apply( instance, [ current, e ] );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !action) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( action ) {\r\n\r\n\t\t\t\tcase \"close\" :\r\n\r\n\t\t\t\t\tinstance.close( self.startEvent );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"toggleControls\" :\r\n\r\n\t\t\t\t\tinstance.toggleControls( true );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"next\" :\r\n\r\n\t\t\t\t\tinstance.next();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"nextOrClose\" :\r\n\r\n\t\t\t\t\tif ( instance.group.length > 1 ) {\r\n\t\t\t\t\t\tinstance.next();\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinstance.close( self.startEvent );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"zoom\" :\r\n\r\n\t\t\t\t\tif ( current.type == 'image' && ( current.isLoaded || current.$ghost ) ) {\r\n\r\n\t\t\t\t\t\tif ( instance.canPan() ) {\r\n\t\t\t\t\t\t\tinstance.scaleToFit();\r\n\r\n\t\t\t\t\t\t} else if ( instance.isScaledDown() ) {\r\n\t\t\t\t\t\t\tinstance.scaleToActual( tapX, tapY );\r\n\r\n\t\t\t\t\t\t} else if ( instance.group.length < 2 ) {\r\n\t\t\t\t\t\t\tinstance.close( self.startEvent );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\t// Ignore right click\r\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Skip if clicked on the scrollbar\r\n\t\tif ( !$target.is('img') && tapX > $target[0].clientWidth + $target.offset().left ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check where is clicked\r\n\t\tif ( $target.is( '.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container' ) ) {\r\n\t\t\twhere = 'Outside';\r\n\r\n\t\t} else if ( $target.is( '.fancybox-slide' ) ) {\r\n\t\t\twhere = 'Slide';\r\n\r\n\t\t} else if ( instance.current.$content && instance.current.$content.find( $target ).addBack().filter( $target ).length ) {\r\n\t\t \twhere = 'Content';\r\n\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check if this is a double tap\r\n\t\tif ( self.tapped ) {\r\n\r\n\t\t\t// Stop previously created single tap\r\n\t\t\tclearTimeout( self.tapped );\r\n\t\t\tself.tapped = null;\r\n\r\n\t\t\t// Skip if distance between taps is too big\r\n\t\t\tif ( Math.abs( tapX - self.tapX ) > 50 || Math.abs( tapY - self.tapY ) > 50 ) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\t// OK, now we assume that this is a double-tap\r\n\t\t\tprocess( 'dblclick' + where );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Single tap will be processed if user has not clicked second time within 300ms\r\n\t\t\t// or there is no need to wait for double-tap\r\n\t\t\tself.tapX = tapX;\r\n\t\t\tself.tapY = tapY;\r\n\r\n\t\t\tif ( current.opts[ 'dblclick' + where ] && current.opts[ 'dblclick' + where ] !== current.opts[ 'click' + where ] ) {\r\n\r\n\t\t\t\tself.tapped = setTimeout(function() {\r\n\t\t\t\t\tself.tapped = null;\r\n\r\n\t\t\t\t\tprocess( 'click' + where );\r\n\r\n\t\t\t\t}, 500);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tprocess( 'click' + where );\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\t$(document).on('onActivate.fb', function (e, instance) {\r\n\t\tif ( instance && !instance.Guestures ) {\r\n\t\t\tinstance.Guestures = new Guestures( instance );\r\n\t\t}\r\n\t});\r\n\r\n}( window, document, window.jQuery || jQuery ));\r\n\r\n// ==========================================================================\r\n//\r\n// SlideShow\r\n// Enables slideshow functionality\r\n//\r\n// Example of usage:\r\n// $.fancybox.getInstance().SlideShow.start()\r\n//\r\n// ==========================================================================\r\n;(function (document, $) {\r\n\t'use strict';\r\n\r\n\t$.extend(true, $.fancybox.defaults, {\r\n\t\tbtnTpl : {\r\n\t\t\tslideShow :\r\n\t\t\t\t'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\r\n\t\t\t\t\t\t'<path d=\"M13,12 L27,20 L13,27 Z\" />' +\r\n\t\t\t\t\t\t'<path d=\"M15,10 v19 M23,10 v19\" />' +\r\n\t\t\t\t\t'</svg>' +\r\n\t\t\t\t'</button>'\r\n\t\t},\r\n\t\tslideShow : {\r\n\t\t\tautoStart : false,\r\n            speed     : 3000\r\n\t\t}\r\n\t});\r\n\r\n\tvar SlideShow = function( instance ) {\r\n\t\tthis.instance = instance;\r\n\t\tthis.init();\r\n\t};\r\n\r\n\t$.extend( SlideShow.prototype, {\r\n\t\ttimer    : null,\r\n\t\tisActive : false,\r\n\t\t$button  : null,\r\n\r\n\t\tinit : function() {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tself.$button = self.instance.$refs.toolbar.find('[data-fancybox-play]').on('click', function() {\r\n\t\t\t\tself.toggle();\r\n\t\t\t});\r\n\r\n\t\t\tif ( self.instance.group.length < 2 || !self.instance.group[ self.instance.currIndex ].opts.slideShow ) {\r\n\t\t\t\tself.$button.hide();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tset : function( force ) {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\t// Check if reached last element\r\n\t\t\tif ( self.instance && self.instance.current && (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1 )) {\r\n\t\t\t\tself.timer = setTimeout(function() {\r\n\t\t\t\t\tif ( self.isActive ) {\r\n\t\t\t\t\t\tself.instance.jumpTo( (self.instance.currIndex + 1) % self.instance.group.length );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, self.instance.current.opts.slideShow.speed);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.stop();\r\n\t\t\t\tself.instance.idleSecondsCounter = 0;\r\n\t\t\t\tself.instance.showControls();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclear : function() {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tclearTimeout( self.timer );\r\n\r\n\t\t\tself.timer = null;\r\n\t\t},\r\n\r\n\t\tstart : function() {\r\n\t\t\tvar self = this;\r\n\t\t\tvar current = self.instance.current;\r\n\r\n\t\t\tif ( current ) {\r\n\t\t\t\tself.isActive = true;\r\n\r\n\t\t\t\tself.$button\r\n\t\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_STOP )\r\n\t\t\t\t\t.removeClass( 'fancybox-button--play' )\r\n\t\t\t\t\t.addClass( 'fancybox-button--pause' );\r\n\r\n\t\t\t\t\tself.set( true );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop : function() {\r\n\t\t\tvar self = this;\r\n\t\t\tvar current = self.instance.current;\r\n\r\n\t\t\tself.clear();\r\n\r\n\t\t\tself.$button\r\n\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_START )\r\n\t\t\t\t.removeClass( 'fancybox-button--pause' )\r\n\t\t\t\t.addClass( 'fancybox-button--play' );\r\n\r\n\t\t\tself.isActive = false;\r\n\t\t},\r\n\r\n\t\ttoggle : function() {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif ( self.isActive ) {\r\n\t\t\t\tself.stop();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.start();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$(document).on({\r\n\t\t'onInit.fb' : function(e, instance) {\r\n\t\t\tif ( instance && !instance.SlideShow ) {\r\n\t\t\t\tinstance.SlideShow = new SlideShow( instance );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t'beforeShow.fb' : function(e, instance, current, firstRun) {\r\n\t\t\tvar SlideShow = instance && instance.SlideShow;\r\n\r\n\t\t\tif ( firstRun ) {\r\n\r\n\t\t\t\tif ( SlideShow && current.opts.slideShow.autoStart ) {\r\n\t\t\t\t\tSlideShow.start();\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( SlideShow && SlideShow.isActive )  {\r\n\t\t\t\tSlideShow.clear();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t'afterShow.fb' : function(e, instance, current) {\r\n\t\t\tvar SlideShow = instance && instance.SlideShow;\r\n\r\n\t\t\tif ( SlideShow && SlideShow.isActive ) {\r\n\t\t\t\tSlideShow.set();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\r\n\t\t\tvar SlideShow = instance && instance.SlideShow;\r\n\r\n\t\t\t// \"P\" or Spacebar\r\n\t\t\tif ( SlideShow && current.opts.slideShow && ( keycode === 80 || keycode === 32 ) && !$(document.activeElement).is( 'button,a,input' ) ) {\r\n\t\t\t\tkeypress.preventDefault();\r\n\r\n\t\t\t\tSlideShow.toggle();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t'beforeClose.fb onDeactivate.fb' : function(e, instance) {\r\n\t\t\tvar SlideShow = instance && instance.SlideShow;\r\n\r\n\t\t\tif ( SlideShow ) {\r\n\t\t\t\tSlideShow.stop();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Page Visibility API to pause slideshow when window is not active\r\n\t$(document).on(\"visibilitychange\", function() {\r\n\t\tvar instance  = $.fancybox.getInstance();\r\n\t\tvar SlideShow = instance && instance.SlideShow;\r\n\r\n\t\tif ( SlideShow && SlideShow.isActive ) {\r\n\t\t\tif ( document.hidden ) {\r\n\t\t\t\tSlideShow.clear();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tSlideShow.set();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n}( document, window.jQuery || jQuery ));\r\n\r\n// ==========================================================================\r\n//\r\n// FullScreen\r\n// Adds fullscreen functionality\r\n//\r\n// ==========================================================================\r\n;(function (document, $) {\r\n\t'use strict';\r\n\r\n\t// Collection of methods supported by user browser\r\n\tvar fn = (function () {\r\n\r\n\t\tvar fnMap = [\r\n\t\t\t[\r\n\t\t\t\t'requestFullscreen',\r\n\t\t\t\t'exitFullscreen',\r\n\t\t\t\t'fullscreenElement',\r\n\t\t\t\t'fullscreenEnabled',\r\n\t\t\t\t'fullscreenchange',\r\n\t\t\t\t'fullscreenerror'\r\n\t\t\t],\r\n\t\t\t// new WebKit\r\n\t\t\t[\r\n\t\t\t\t'webkitRequestFullscreen',\r\n\t\t\t\t'webkitExitFullscreen',\r\n\t\t\t\t'webkitFullscreenElement',\r\n\t\t\t\t'webkitFullscreenEnabled',\r\n\t\t\t\t'webkitfullscreenchange',\r\n\t\t\t\t'webkitfullscreenerror'\r\n\r\n\t\t\t],\r\n\t\t\t// old WebKit (Safari 5.1)\r\n\t\t\t[\r\n\t\t\t\t'webkitRequestFullScreen',\r\n\t\t\t\t'webkitCancelFullScreen',\r\n\t\t\t\t'webkitCurrentFullScreenElement',\r\n\t\t\t\t'webkitCancelFullScreen',\r\n\t\t\t\t'webkitfullscreenchange',\r\n\t\t\t\t'webkitfullscreenerror'\r\n\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'mozRequestFullScreen',\r\n\t\t\t\t'mozCancelFullScreen',\r\n\t\t\t\t'mozFullScreenElement',\r\n\t\t\t\t'mozFullScreenEnabled',\r\n\t\t\t\t'mozfullscreenchange',\r\n\t\t\t\t'mozfullscreenerror'\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'msRequestFullscreen',\r\n\t\t\t\t'msExitFullscreen',\r\n\t\t\t\t'msFullscreenElement',\r\n\t\t\t\t'msFullscreenEnabled',\r\n\t\t\t\t'MSFullscreenChange',\r\n\t\t\t\t'MSFullscreenError'\r\n\t\t\t]\r\n\t\t];\r\n\r\n\t\tvar val;\r\n\t\tvar ret = {};\r\n\t\tvar i, j;\r\n\r\n\t\tfor ( i = 0; i < fnMap.length; i++ ) {\r\n\t\t\tval = fnMap[ i ];\r\n\r\n\t\t\tif ( val && val[ 1 ] in document ) {\r\n\t\t\t\tfor ( j = 0; j < val.length; j++ ) {\r\n\t\t\t\t\tret[ fnMap[ 0 ][ j ] ] = val[ j ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t})();\r\n\r\n\t// If browser does not have Full Screen API, then simply unset default button template and stop\r\n\tif ( !fn ) {\r\n\r\n\t\tif ( $ && $.fancybox ) {\r\n\t\t\t$.fancybox.defaults.btnTpl.fullScreen = false;\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar FullScreen = {\r\n\r\n\t\trequest : function ( elem ) {\r\n\r\n\t\t\telem = elem || document.documentElement;\r\n\r\n\t\t\telem[ fn.requestFullscreen ]( elem.ALLOW_KEYBOARD_INPUT );\r\n\r\n\t\t},\r\n\t\texit : function () {\r\n\r\n\t\t\tdocument[ fn.exitFullscreen ]();\r\n\r\n\t\t},\r\n\t\ttoggle : function ( elem ) {\r\n\r\n\t\t\telem = elem || document.documentElement;\r\n\r\n\t\t\tif ( this.isFullscreen() ) {\r\n\t\t\t\tthis.exit();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.request( elem );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tisFullscreen : function()  {\r\n\r\n\t\t\treturn Boolean( document[ fn.fullscreenElement ] );\r\n\r\n\t\t},\r\n\t\tenabled : function()  {\r\n\r\n\t\t\treturn Boolean( document[ fn.fullscreenEnabled ] );\r\n\r\n\t\t}\r\n\t};\r\n\r\n\t$.extend(true, $.fancybox.defaults, {\r\n\t\tbtnTpl : {\r\n\t\t\tfullScreen :\r\n\t\t\t\t'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\">' +\r\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\r\n\t\t\t\t\t\t'<path d=\"M9,12 h22 v16 h-22 v-16 v16 h22 v-16 Z\" />' +\r\n\t\t\t\t\t'</svg>' +\r\n\t\t\t\t'</button>'\r\n\t\t},\r\n\t\tfullScreen : {\r\n\t\t\tautoStart : false\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on({\r\n\t\t'onInit.fb' : function(e, instance) {\r\n\t\t\tvar $container;\r\n\r\n\t\t\tif ( instance && instance.group[ instance.currIndex ].opts.fullScreen ) {\r\n\t\t\t\t$container = instance.$refs.container;\r\n\r\n\t\t\t\t$container.on('click.fb-fullscreen', '[data-fancybox-fullscreen]', function(e) {\r\n\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tFullScreen.toggle( $container[ 0 ] );\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true ) {\r\n\t\t\t\t\tFullScreen.request( $container[ 0 ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Expose API\r\n\t\t\t\tinstance.FullScreen = FullScreen;\r\n\r\n\t\t\t} else if ( instance ) {\r\n\t\t\t\tinstance.$refs.toolbar.find('[data-fancybox-fullscreen]').hide();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\r\n\r\n\t\t\t// \"P\" or Spacebar\r\n\t\t\tif ( instance && instance.FullScreen && keycode === 70 ) {\r\n\t\t\t\tkeypress.preventDefault();\r\n\r\n\t\t\t\tinstance.FullScreen.toggle( instance.$refs.container[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t'beforeClose.fb' : function( instance ) {\r\n\t\t\tif ( instance && instance.FullScreen ) {\r\n\t\t\t\tFullScreen.exit();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on(fn.fullscreenchange, function() {\r\n\t\tvar isFullscreen = FullScreen.isFullscreen(),\r\n\t\t\tinstance = $.fancybox.getInstance();\r\n\r\n\t\tif ( instance ) {\r\n\r\n\t\t\t// If image is zooming, then force to stop and reposition properly\r\n\t\t\tif ( instance.current && instance.current.type === 'image' && instance.isAnimating ) {\r\n\t\t\t\tinstance.current.$content.css( 'transition', 'none' );\r\n\r\n\t\t\t\tinstance.isAnimating = false;\r\n\r\n\t\t\t\tinstance.update( true, true, 0 );\r\n\t\t\t}\r\n\r\n\t\t\tinstance.trigger( 'onFullscreenChange', isFullscreen );\r\n\r\n\t\t\tinstance.$refs.container.toggleClass( 'fancybox-is-fullscreen', isFullscreen );\r\n\t\t}\r\n\r\n\t});\r\n\r\n}( document, window.jQuery || jQuery ));\r\n\r\n// ==========================================================================\r\n//\r\n// Thumbs\r\n// Displays thumbnails in a grid\r\n//\r\n// ==========================================================================\r\n;(function (document, $) {\r\n\t'use strict';\r\n\r\n\t// Make sure there are default values\r\n\t$.fancybox.defaults = $.extend(true, {\r\n\t\tbtnTpl : {\r\n\t\t\tthumbs :\r\n\t\t\t'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n\t\t\t\t'<svg viewBox=\"0 0 120 120\">' +\r\n\t\t\t\t\t'<path d=\"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z\" />' +\r\n\t\t\t\t'</svg>' +\r\n\t\t\t'</button>'\r\n\t\t},\r\n\t\tthumbs : {\r\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\r\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\r\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\r\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x) scrolling\r\n\t\t}\r\n\t}, $.fancybox.defaults);\r\n\r\n\tvar FancyThumbs = function( instance ) {\r\n\t\tthis.init( instance );\r\n\t};\r\n\r\n\t$.extend( FancyThumbs.prototype, {\r\n\r\n\t\t$button\t\t: null,\r\n\t\t$grid\t\t: null,\r\n\t\t$list\t\t: null,\r\n\t\tisVisible\t: false,\r\n\t\tisActive\t: false,\r\n\r\n\t\tinit : function( instance ) {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tself.instance = instance;\r\n\r\n\t\t\tinstance.Thumbs = self;\r\n\r\n\t\t\t// Enable thumbs if at least two group items have thumbnails\r\n\t\t\tvar first  = instance.group[0],\r\n\t\t\t\tsecond = instance.group[1];\r\n\r\n\t\t\tself.opts = instance.group[ instance.currIndex ].opts.thumbs;\r\n\r\n\t\t\tself.$button = instance.$refs.toolbar.find( '[data-fancybox-thumbs]' );\r\n\r\n\t\t\tif ( self.opts && first && second && (\r\n\t\t    \t\t( first.type == 'image'  || first.opts.thumb  || first.opts.$thumb ) &&\r\n\t\t    \t\t( second.type == 'image' || second.opts.thumb || second.opts.$thumb )\r\n\t\t\t)) {\r\n\r\n\t\t\t\tself.$button.show().on('click', function() {\r\n\t\t\t\t\tself.toggle();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tself.isActive = true;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.$button.hide();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreate : function() {\r\n\t\t\tvar self = this,\r\n\t\t\t\tinstance = self.instance,\r\n\t\t\t\tparentEl = self.opts.parentEl,\r\n\t\t\t\tlist,\r\n\t\t\t\tsrc;\r\n\r\n\t\t\tself.$grid = $('<div class=\"fancybox-thumbs fancybox-thumbs-' + self.opts.axis + '\"></div>').appendTo( instance.$refs.container.find( parentEl ).addBack().filter( parentEl ) );\r\n\r\n\t\t\t// Build list HTML\r\n\t\t\tlist = '<ul>';\r\n\r\n\t\t\t$.each(instance.group, function( i, item ) {\r\n\t\t\t\tsrc = item.opts.thumb || ( item.opts.$thumb ? item.opts.$thumb.attr( 'src' ) : null );\r\n\r\n\t\t\t\tif ( !src && item.type === 'image' ) {\r\n\t\t\t\t\tsrc = item.src;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( src && src.length ) {\r\n\t\t\t\t\tlist += '<li data-index=\"' + i + '\"  tabindex=\"0\" class=\"fancybox-thumbs-loading\"><img data-src=\"' + src + '\" /></li>';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlist += '</ul>';\r\n\r\n\t\t\tself.$list = $( list ).appendTo( self.$grid ).on('click', 'li', function() {\r\n\t\t\t\tinstance.jumpTo( $(this).data('index') );\r\n\t\t\t});\r\n\r\n\t\t\tself.$list.find( 'img' ).hide().one('load', function() {\r\n\t\t\t\tvar $parent\t\t= $(this).parent().removeClass( 'fancybox-thumbs-loading' ),\r\n\t\t\t\t\tthumbWidth\t= $parent.outerWidth(),\r\n\t\t\t\t\tthumbHeight\t= $parent.outerHeight(),\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\twidthRatio,\r\n\t\t\t\t\theightRatio;\r\n\r\n\t\t\t\twidth  = this.naturalWidth\t|| this.width;\r\n\t\t\t\theight = this.naturalHeight\t|| this.height;\r\n\r\n\t\t\t\t// Calculate thumbnail dimensions; center vertically and horizontally\r\n\t\t\t\twidthRatio  = width  / thumbWidth;\r\n\t\t\t\theightRatio = height / thumbHeight;\r\n\r\n\t\t\t\tif (widthRatio >= 1 && heightRatio >= 1) {\r\n\t\t\t\t\tif (widthRatio > heightRatio) {\r\n\t\t\t\t\t\twidth  = width / heightRatio;\r\n\t\t\t\t\t\theight = thumbHeight;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twidth  = thumbWidth;\r\n\t\t\t\t\t\theight = height / widthRatio;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(this).css({\r\n\t\t\t\t\twidth         : Math.floor(width),\r\n\t\t\t\t\theight        : Math.floor(height),\r\n\t\t\t\t\t'margin-top'  : height > thumbHeight ? ( Math.floor(thumbHeight * 0.3 - height * 0.3 ) ) : Math.floor(thumbHeight * 0.5 - height * 0.5 ),\r\n\t\t\t\t\t'margin-left' : Math.floor(thumbWidth * 0.5 - width * 0.5 )\r\n\t\t\t\t}).show();\r\n\r\n\t\t\t})\r\n\t\t\t.each(function() {\r\n\t\t\t\tthis.src = $( this ).data( 'src' );\r\n\t\t\t});\r\n\r\n\t\t\tif ( self.opts.axis === 'x' ) {\r\n\t\t\t\tself.$list.width( parseInt( self.$grid.css(\"padding-right\") ) + ( instance.group.length * self.$list.children().eq(0).outerWidth(true) ) + 'px' );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocus : function( duration ) {\r\n\t\t\tvar self = this,\r\n\t\t\t\t$list = self.$list,\r\n\t\t\t\tthumb,\r\n\t\t\t\tthumbPos;\r\n\r\n\t\t\tif ( self.instance.current ) {\r\n\t\t\t\tthumb = $list.children()\r\n\t\t\t\t\t.removeClass( 'fancybox-thumbs-active' )\r\n\t\t\t\t\t.filter('[data-index=\"' + self.instance.current.index  + '\"]')\r\n\t\t\t\t\t.addClass('fancybox-thumbs-active');\r\n\r\n\t\t\t\tthumbPos = thumb.position();\r\n\r\n\t\t\t\t// Check if need to scroll to make current thumb visible\r\n\t\t\t\tif ( self.opts.axis === 'y' && ( thumbPos.top < 0 || thumbPos.top > ( $list.height() - thumb.outerHeight() ) ) ) {\r\n\t\t\t\t\t$list.stop().animate({ 'scrollTop' : $list.scrollTop() + thumbPos.top }, duration);\r\n\r\n\t\t\t\t} else if ( self.opts.axis === 'x' && (\r\n\t\t\t\t\t\tthumbPos.left < $list.parent().scrollLeft() ||\r\n\t\t\t\t\t\tthumbPos.left > ( $list.parent().scrollLeft() + ( $list.parent().width() - thumb.outerWidth() ) )\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\t$list.parent().stop().animate({ 'scrollLeft' : thumbPos.left }, duration);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdate : function() {\r\n\t\t\tthis.instance.$refs.container.toggleClass( 'fancybox-show-thumbs', this.isVisible );\r\n\r\n\t\t\tif ( this.isVisible ) {\r\n\t\t\t\tif ( !this.$grid ) {\r\n\t\t\t\t\tthis.create();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.instance.trigger( 'onThumbsShow' );\r\n\r\n\t\t\t\tthis.focus( 0 );\r\n\r\n\t\t\t} else if ( this.$grid ) {\r\n\t\t\t\tthis.instance.trigger( 'onThumbsHide' );\r\n\t\t\t}\r\n\r\n\t\t\t// Update content position\r\n\t\t\tthis.instance.update();\r\n\t\t},\r\n\r\n\t\thide : function() {\r\n\t\t\tthis.isVisible = false;\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\tshow : function() {\r\n\t\t\tthis.isVisible = true;\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\ttoggle : function() {\r\n\t\t\tthis.isVisible = !this.isVisible;\r\n\t\t\tthis.update();\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on({\r\n\r\n\t\t'onInit.fb' : function(e, instance) {\r\n\t\t\tvar Thumbs;\r\n\r\n\t\t\tif ( instance && !instance.Thumbs ) {\r\n\t\t\t\tThumbs = new FancyThumbs( instance );\r\n\r\n\t\t\t\tif ( Thumbs.isActive && Thumbs.opts.autoStart === true ) {\r\n\t\t\t\t\tThumbs.show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t'beforeShow.fb' : function(e, instance, item, firstRun) {\r\n\t\t\tvar Thumbs = instance && instance.Thumbs;\r\n\r\n\t\t\tif ( Thumbs && Thumbs.isVisible ) {\r\n\t\t\t\tThumbs.focus( firstRun ? 0 : 250 );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\r\n\t\t\tvar Thumbs = instance && instance.Thumbs;\r\n\r\n\t\t\t// \"G\"\r\n\t\t\tif ( Thumbs && Thumbs.isActive && keycode === 71 ) {\r\n\t\t\t\tkeypress.preventDefault();\r\n\r\n\t\t\t\tThumbs.toggle();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t'beforeClose.fb' : function( e, instance ) {\r\n\t\t\tvar Thumbs = instance && instance.Thumbs;\r\n\r\n\t\t\tif ( Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false ) {\r\n\t\t\t\tThumbs.$grid.hide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n}(document, window.jQuery));\r\n\r\n//// ==========================================================================\r\n//\r\n// Share\r\n// Displays simple form for sharing current url\r\n//\r\n// ==========================================================================\r\n;(function (document, $) {\r\n\t'use strict';\r\n\r\n\t$.extend(true, $.fancybox.defaults, {\r\n\t\tbtnTpl : {\r\n\t\t\tshare :\r\n\t\t\t\t'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\r\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\r\n\t\t\t\t\t\t'<path d=\"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z\">' +\r\n\t\t\t\t\t'</svg>' +\r\n\t\t\t\t'</button>'\r\n\t\t},\r\n\t\tshare : {\r\n\t\t\ttpl :\r\n\t\t\t\t'<div class=\"fancybox-share\">' +\r\n\t\t\t\t\t'<h1>{{SHARE}}</h1>' +\r\n\t\t\t\t\t'<p class=\"fancybox-share__links\">' +\r\n\t\t\t\t\t\t'<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\r\n\t\t\t\t\t\t\t'<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\r\n\t\t\t\t\t\t\t'<span>Facebook</span>' +\r\n\t\t\t\t\t\t'</a>' +\r\n\t\t\t\t\t\t'<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\r\n\t\t\t\t\t\t\t'<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\r\n\t\t\t\t\t\t\t'<span>Pinterest</span>' +\r\n\t\t\t\t\t\t'</a>' +\r\n\t\t\t\t\t\t'<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\r\n\t\t\t\t\t\t\t'<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\r\n\t\t\t\t\t\t\t'<span>Twitter</span>' +\r\n\t\t\t\t\t\t'</a>' +\r\n\t\t\t\t\t'</p>' +\r\n\t\t\t\t\t'<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" /></p>' +\r\n\t\t\t\t'</div>'\r\n\t\t}\r\n\t});\r\n\r\n\tfunction escapeHtml(string) {\r\n\t\tvar entityMap = {\r\n\t\t  '&': '&amp;',\r\n\t\t  '<': '&lt;',\r\n\t\t  '>': '&gt;',\r\n\t\t  '\"': '&quot;',\r\n\t\t  \"'\": '&#39;',\r\n\t\t  '/': '&#x2F;',\r\n\t\t  '`': '&#x60;',\r\n\t\t  '=': '&#x3D;'\r\n\t\t};\r\n\r\n\t\treturn String(string).replace(/[&<>\"'`=\\/]/g, function (s) {\r\n\t\t\treturn entityMap[s];\r\n\t\t});\r\n\t}\r\n\r\n\t$(document).on('click', '[data-fancybox-share]', function() {\r\n\t\tvar f = $.fancybox.getInstance(),\r\n\t\t\turl,\r\n\t\t\ttpl;\r\n\r\n\t\tif ( f ) {\r\n\t\t\turl = f.current.opts.hash === false ? f.current.src : window.location;\r\n\t\t\ttpl = f.current.opts.share.tpl\r\n\t\t\t\t\t.replace( /\\{\\{media\\}\\}/g, f.current.type === 'image' ? encodeURIComponent( f.current.src ) : '' )\r\n\t\t\t\t\t.replace( /\\{\\{url\\}\\}/g, encodeURIComponent( url ) )\r\n\t\t\t\t\t.replace( /\\{\\{url_raw\\}\\}/g, escapeHtml( url ) )\r\n\t\t\t\t\t.replace( /\\{\\{descr\\}\\}/g, f.$caption ? encodeURIComponent( f.$caption.text() ) : '' );\r\n\r\n\t\t\t$.fancybox.open({\r\n\t\t\t\tsrc  : f.translate( f, tpl ),\r\n\t\t\t\ttype : 'html',\r\n\t\t\t\topts : {\r\n\t\t\t\t\tanimationEffect   : \"fade\",\r\n\t\t\t\t\tanimationDuration : 250,\r\n\t\t\t\t\tafterLoad : function(instance, current) {\r\n\t\t\t\t\t\t// Opening links in a popup window\r\n\t\t\t\t\t\tcurrent.$content.find('.fancybox-share__links a').click(function() {\r\n\t\t\t\t\t        window.open(this.href, \"Share\", \"width=550, height=450\");\r\n\t\t\t\t\t        return false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t});\r\n\r\n}( document, window.jQuery || jQuery ));\r\n\r\n// ==========================================================================\r\n//\r\n// Hash\r\n// Enables linking to each modal\r\n//\r\n// ==========================================================================\r\n;(function (document, window, $) {\r\n\t'use strict';\r\n\r\n\t// Simple $.escapeSelector polyfill (for jQuery prior v3)\r\n\tif ( !$.escapeSelector ) {\r\n\t\t$.escapeSelector = function( sel ) {\r\n\t\t\tvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\r\n\t\t\tvar fcssescape = function( ch, asCodePoint ) {\r\n\t\t\t\tif ( asCodePoint ) {\r\n\t\t\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\r\n\t\t\t\t\tif ( ch === \"\\0\" ) {\r\n\t\t\t\t\t\treturn \"\\uFFFD\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\r\n\t\t\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Other potentially-special ASCII characters get backslash-escaped\r\n\t\t\t\treturn \"\\\\\" + ch;\r\n\t\t\t};\r\n\r\n\t\t\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\r\n\t\t};\r\n\t}\r\n\r\n\t// Create new history entry only once\r\n\tvar shouldCreateHistory = true;\r\n\r\n\t// Variable containing last hash value set by fancyBox\r\n\t// It will be used to determine if fancyBox needs to close after hash change is detected\r\n    var currentHash = null;\r\n\r\n\t// Throttling the history change\r\n\tvar timerID = null;\r\n\r\n\t// Get info about gallery name and current index from url\r\n    function parseUrl() {\r\n        var hash    = window.location.hash.substr( 1 );\r\n        var rez     = hash.split( '-' );\r\n        var index   = rez.length > 1 && /^\\+?\\d+$/.test( rez[ rez.length - 1 ] ) ? parseInt( rez.pop( -1 ), 10 ) || 1 : 1;\r\n        var gallery = rez.join( '-' );\r\n\r\n\t\t// Index is starting from 1\r\n\t\tif ( index < 1 ) {\r\n\t\t\tindex = 1;\r\n\t\t}\r\n\r\n        return {\r\n            hash    : hash,\r\n            index   : index,\r\n            gallery : gallery\r\n        };\r\n    }\r\n\r\n\t// Trigger click evnt on links to open new fancyBox instance\r\n\tfunction triggerFromUrl( url ) {\r\n\t\tvar $el;\r\n\r\n        if ( url.gallery !== '' ) {\r\n\r\n\t\t\t// If we can find element matching 'data-fancybox' atribute, then trigger click event for that ..\r\n\t\t\t$el = $( \"[data-fancybox='\" + $.escapeSelector( url.gallery ) + \"']\" ).eq( url.index - 1 );\r\n\r\n            if ( !$el.length ) {\r\n\t\t\t\t// .. if not, try finding element by ID\r\n\t\t\t\t$el = $( \"#\" + $.escapeSelector( url.gallery ) + \"\" );\r\n\t\t\t}\r\n\r\n\t\t\tif ( $el.length ) {\r\n\t\t\t\tshouldCreateHistory = false;\r\n\r\n\t\t\t\t$el.trigger( 'click' );\r\n\t\t\t}\r\n\r\n        }\r\n\t}\r\n\r\n\t// Get gallery name from current instance\r\n\tfunction getGalleryID( instance ) {\r\n\t\tvar opts;\r\n\r\n\t\tif ( !instance ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\topts = instance.current ? instance.current.opts : instance.opts;\r\n\r\n\t\treturn opts.hash || ( opts.$orig ? opts.$orig.data( 'fancybox' ) : ''  );\r\n\t}\r\n\r\n\t// Start when DOM becomes ready\r\n    $(function() {\r\n\r\n\t\t// Check if user has disabled this module\r\n\t\tif ( $.fancybox.defaults.hash === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Update hash when opening/closing fancyBox\r\n\t    $(document).on({\r\n\t\t\t'onInit.fb' : function( e, instance ) {\r\n\t\t\t\tvar url, gallery;\r\n\r\n\t\t\t\tif ( instance.group[ instance.currIndex ].opts.hash === false ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\turl     = parseUrl();\r\n\t\t\t\tgallery = getGalleryID( instance );\r\n\r\n\t\t\t\t// Make sure gallery start index matches index from hash\r\n\t\t\t\tif ( gallery && url.gallery && gallery == url.gallery ) {\r\n\t\t\t\t\tinstance.currIndex = url.index - 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t'beforeShow.fb' : function( e, instance, current ) {\r\n\t\t\t\tvar gallery;\r\n\r\n\t\t\t\tif ( !current || current.opts.hash === false ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t            gallery = getGalleryID( instance );\r\n\r\n\t            // Update window hash\r\n\t            if ( gallery && gallery !== '' ) {\r\n\r\n\t\t\t\t\tif ( window.location.hash.indexOf( gallery ) < 0 ) {\r\n\t\t                instance.opts.origHash = window.location.hash;\r\n\t\t            }\r\n\r\n\t\t\t\t\tcurrentHash = gallery + ( instance.group.length > 1 ? '-' + ( current.index + 1 ) : '' );\r\n\r\n\t\t\t\t\tif ( 'replaceState' in window.history ) {\r\n\t\t\t\t\t\tif ( timerID ) {\r\n\t\t\t\t\t\t\tclearTimeout( timerID );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttimerID = setTimeout(function() {\r\n\t\t\t\t\t\t\twindow.history[ shouldCreateHistory ? 'pushState' : 'replaceState' ]( {} , document.title, window.location.pathname + window.location.search + '#' +  currentHash );\r\n\r\n\t\t\t\t\t\t\ttimerID = null;\r\n\r\n\t\t\t\t\t\t\tshouldCreateHistory = false;\r\n\r\n\t\t\t\t\t\t}, 300);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twindow.location.hash = currentHash;\r\n\t\t\t\t\t}\r\n\r\n\t            }\r\n\r\n\t        },\r\n\r\n\t\t\t'beforeClose.fb' : function( e, instance, current ) {\r\n\t\t\t\tvar gallery, origHash;\r\n\r\n\t\t\t\tif ( timerID ) {\r\n\t\t\t\t\tclearTimeout( timerID );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( current.opts.hash === false ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgallery  = getGalleryID( instance );\r\n\t\t\t\torigHash = instance && instance.opts.origHash ? instance.opts.origHash : '';\r\n\r\n\t            // Remove hash from location bar\r\n\t            if ( gallery && gallery !== '' ) {\r\n\r\n\t                if ( 'replaceState' in history ) {\r\n\t\t\t\t\t\twindow.history.replaceState( {} , document.title, window.location.pathname + window.location.search + origHash );\r\n\r\n\t                } else {\r\n\t\t\t\t\t\twindow.location.hash = origHash;\r\n\r\n\t\t\t\t\t\t// Keep original scroll position\r\n\t\t\t\t\t\t$( window ).scrollTop( instance.scrollTop ).scrollLeft( instance.scrollLeft );\r\n\t                }\r\n\t            }\r\n\r\n\t\t\t\tcurrentHash = null;\r\n\t        }\r\n\t    });\r\n\r\n\t\t// Check if need to close after url has changed\r\n\t\t$(window).on('hashchange.fb', function() {\r\n\t\t\tvar url = parseUrl();\r\n\r\n\t\t\tif ( $.fancybox.getInstance() ) {\r\n\t\t\t\tif ( currentHash && currentHash !== url.gallery + '-' + url.index && !( url.index === 1 && currentHash == url.gallery ) ) {\r\n\t\t\t\t\tcurrentHash = null;\r\n\r\n\t\t\t\t\t$.fancybox.close();\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( url.gallery !== '' ) {\r\n\t\t\t\ttriggerFromUrl( url );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Check current hash and trigger click event on matching element to start fancyBox, if needed\r\n\t\tsetTimeout(function() {\r\n\t\t\ttriggerFromUrl( parseUrl() );\r\n\t\t}, 50);\r\n    });\r\n\r\n}( document, window, window.jQuery || jQuery ));\r\n\r\n;(function (document, $) {\r\n\t'use strict';\r\n\r\n\tvar prevTime = new Date().getTime();\r\n\r\n    $(document).on({\r\n        'onInit.fb' : function( e, instance, current ) {\r\n\t\t\tinstance.$refs.stage.on('mousewheel DOMMouseScroll wheel MozMousePixelScroll', function(e) {\r\n\t\t\t\tvar current  = instance.current,\r\n\t\t\t\t\tcurrTime = new Date().getTime();\r\n\r\n\t\t\t\tif ( instance.group.length < 1 || current.opts.wheel === false || ( current.opts.wheel === 'auto' && current.type !== 'image' ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tif ( current.$slide.hasClass( 'fancybox-animated' ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te = e.originalEvent || e;\r\n\r\n\t\t\t\tif ( currTime - prevTime < 250 ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprevTime = currTime;\r\n\r\n\t\t\t\tinstance[ ( -e.deltaY || -e.deltaX || e.wheelDelta || -e.detail ) < 0 ? 'next' : 'previous' ]();\r\n\r\n\t\t\t});\r\n\t\t}\r\n    });\r\n\r\n}( document, window.jQuery || jQuery ));\r\n","/*!\r\n * Flickity PACKAGED v2.0.10\r\n * Touch, responsive, flickable carousels\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Flickity Commercial License for commercial use\r\n *\r\n * http://flickity.metafizzy.co\r\n * Copyright 2017 Metafizzy\r\n */\r\n\r\n/**\r\n * Bridget makes jQuery widgets\r\n * v2.0.1\r\n * MIT license\r\n */\r\n\r\n/* jshint browser: true, strict: true, undef: true, unused: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /* globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\r\n      return factory( window, jQuery );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('jquery')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.jQueryBridget = factory(\r\n      window,\r\n      window.jQuery\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, jQuery ) {\r\n'use strict';\r\n\r\n// ----- utils ----- //\r\n\r\nvar arraySlice = Array.prototype.slice;\r\n\r\n// helper function for logging errors\r\n// $.error breaks jQuery chaining\r\nvar console = window.console;\r\nvar logError = typeof console == 'undefined' ? function() {} :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n// ----- jQueryBridget ----- //\r\n\r\nfunction jQueryBridget( namespace, PluginClass, $ ) {\r\n  $ = $ || jQuery || window.jQuery;\r\n  if ( !$ ) {\r\n    return;\r\n  }\r\n\r\n  // add option method -> $().plugin('option', {...})\r\n  if ( !PluginClass.prototype.option ) {\r\n    // option setter\r\n    PluginClass.prototype.option = function( opts ) {\r\n      // bail out if not an object\r\n      if ( !$.isPlainObject( opts ) ){\r\n        return;\r\n      }\r\n      this.options = $.extend( true, this.options, opts );\r\n    };\r\n  }\r\n\r\n  // make jQuery plugin\r\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\r\n    if ( typeof arg0 == 'string' ) {\r\n      // method call $().plugin( 'methodName', { options } )\r\n      // shift arguments by 1\r\n      var args = arraySlice.call( arguments, 1 );\r\n      return methodCall( this, arg0, args );\r\n    }\r\n    // just $().plugin({ options })\r\n    plainCall( this, arg0 );\r\n    return this;\r\n  };\r\n\r\n  // $().plugin('methodName')\r\n  function methodCall( $elems, methodName, args ) {\r\n    var returnValue;\r\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\r\n\r\n    $elems.each( function( i, elem ) {\r\n      // get instance\r\n      var instance = $.data( elem, namespace );\r\n      if ( !instance ) {\r\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\r\n          pluginMethodStr );\r\n        return;\r\n      }\r\n\r\n      var method = instance[ methodName ];\r\n      if ( !method || methodName.charAt(0) == '_' ) {\r\n        logError( pluginMethodStr + ' is not a valid method' );\r\n        return;\r\n      }\r\n\r\n      // apply method, get return value\r\n      var value = method.apply( instance, args );\r\n      // set return value if value is returned, use only first value\r\n      returnValue = returnValue === undefined ? value : returnValue;\r\n    });\r\n\r\n    return returnValue !== undefined ? returnValue : $elems;\r\n  }\r\n\r\n  function plainCall( $elems, options ) {\r\n    $elems.each( function( i, elem ) {\r\n      var instance = $.data( elem, namespace );\r\n      if ( instance ) {\r\n        // set options & init\r\n        instance.option( options );\r\n        instance._init();\r\n      } else {\r\n        // initialize new instance\r\n        instance = new PluginClass( elem, options );\r\n        $.data( elem, namespace, instance );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateJQuery( $ );\r\n\r\n}\r\n\r\n// ----- updateJQuery ----- //\r\n\r\n// set $.bridget for v1 backwards compatibility\r\nfunction updateJQuery( $ ) {\r\n  if ( !$ || ( $ && $.bridget ) ) {\r\n    return;\r\n  }\r\n  $.bridget = jQueryBridget;\r\n}\r\n\r\nupdateJQuery( jQuery || window.jQuery );\r\n\r\n// -----  ----- //\r\n\r\nreturn jQueryBridget;\r\n\r\n}));\r\n\r\n/**\r\n * EvEmitter v1.1.0\r\n * Lil' event emitter\r\n * MIT License\r\n */\r\n\r\n/* jshint unused: true, undef: true, strict: true */\r\n\r\n( function( global, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /* globals define, module, window */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD - RequireJS\r\n    define( 'ev-emitter/ev-emitter',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS - Browserify, Webpack\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.EvEmitter = factory();\r\n  }\r\n\r\n}( typeof window != 'undefined' ? window : this, function() {\r\n\r\n\r\n\r\nfunction EvEmitter() {}\r\n\r\nvar proto = EvEmitter.prototype;\r\n\r\nproto.on = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // set events hash\r\n  var events = this._events = this._events || {};\r\n  // set listeners array\r\n  var listeners = events[ eventName ] = events[ eventName ] || [];\r\n  // only add once\r\n  if ( listeners.indexOf( listener ) == -1 ) {\r\n    listeners.push( listener );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.once = function( eventName, listener ) {\r\n  if ( !eventName || !listener ) {\r\n    return;\r\n  }\r\n  // add event\r\n  this.on( eventName, listener );\r\n  // set once flag\r\n  // set onceEvents hash\r\n  var onceEvents = this._onceEvents = this._onceEvents || {};\r\n  // set onceListeners object\r\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\r\n  // set flag\r\n  onceListeners[ listener ] = true;\r\n\r\n  return this;\r\n};\r\n\r\nproto.off = function( eventName, listener ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  var index = listeners.indexOf( listener );\r\n  if ( index != -1 ) {\r\n    listeners.splice( index, 1 );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.emitEvent = function( eventName, args ) {\r\n  var listeners = this._events && this._events[ eventName ];\r\n  if ( !listeners || !listeners.length ) {\r\n    return;\r\n  }\r\n  // copy over to avoid interference if .off() in listener\r\n  listeners = listeners.slice(0);\r\n  args = args || [];\r\n  // once stuff\r\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\r\n\r\n  for ( var i=0; i < listeners.length; i++ ) {\r\n    var listener = listeners[i]\r\n    var isOnce = onceListeners && onceListeners[ listener ];\r\n    if ( isOnce ) {\r\n      // remove listener\r\n      // remove before trigger to prevent recursion\r\n      this.off( eventName, listener );\r\n      // unset once flag\r\n      delete onceListeners[ listener ];\r\n    }\r\n    // trigger listener\r\n    listener.apply( this, args );\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nproto.allOff = function() {\r\n  delete this._events;\r\n  delete this._onceEvents;\r\n};\r\n\r\nreturn EvEmitter;\r\n\r\n}));\r\n\r\n/*!\r\n * getSize v2.0.2\r\n * measure size of elements\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n/*global define: false, module: false, console: false */\r\n\r\n( function( window, factory ) {\r\n  'use strict';\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'get-size/get-size',[],function() {\r\n      return factory();\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.getSize = factory();\r\n  }\r\n\r\n})( window, function factory() {\r\n'use strict';\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\n// get a number from a string, not a percentage\r\nfunction getStyleSize( value ) {\r\n  var num = parseFloat( value );\r\n  // not a percent like '100%', and a number\r\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\r\n  return isValid && num;\r\n}\r\n\r\nfunction noop() {}\r\n\r\nvar logError = typeof console == 'undefined' ? noop :\r\n  function( message ) {\r\n    console.error( message );\r\n  };\r\n\r\n// -------------------------- measurements -------------------------- //\r\n\r\nvar measurements = [\r\n  'paddingLeft',\r\n  'paddingRight',\r\n  'paddingTop',\r\n  'paddingBottom',\r\n  'marginLeft',\r\n  'marginRight',\r\n  'marginTop',\r\n  'marginBottom',\r\n  'borderLeftWidth',\r\n  'borderRightWidth',\r\n  'borderTopWidth',\r\n  'borderBottomWidth'\r\n];\r\n\r\nvar measurementsLength = measurements.length;\r\n\r\nfunction getZeroSize() {\r\n  var size = {\r\n    width: 0,\r\n    height: 0,\r\n    innerWidth: 0,\r\n    innerHeight: 0,\r\n    outerWidth: 0,\r\n    outerHeight: 0\r\n  };\r\n  for ( var i=0; i < measurementsLength; i++ ) {\r\n    var measurement = measurements[i];\r\n    size[ measurement ] = 0;\r\n  }\r\n  return size;\r\n}\r\n\r\n// -------------------------- getStyle -------------------------- //\r\n\r\n/**\r\n * getStyle, get style of element, check for Firefox bug\r\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\r\n */\r\nfunction getStyle( elem ) {\r\n  var style = getComputedStyle( elem );\r\n  if ( !style ) {\r\n    logError( 'Style returned ' + style +\r\n      '. Are you running this code in a hidden iframe on Firefox? ' +\r\n      'See http://bit.ly/getsizebug1' );\r\n  }\r\n  return style;\r\n}\r\n\r\n// -------------------------- setup -------------------------- //\r\n\r\nvar isSetup = false;\r\n\r\nvar isBoxSizeOuter;\r\n\r\n/**\r\n * setup\r\n * check isBoxSizerOuter\r\n * do on first getSize() rather than on page load for Firefox bug\r\n */\r\nfunction setup() {\r\n  // setup once\r\n  if ( isSetup ) {\r\n    return;\r\n  }\r\n  isSetup = true;\r\n\r\n  // -------------------------- box sizing -------------------------- //\r\n\r\n  /**\r\n   * WebKit measures the outer-width on style.width on border-box elems\r\n   * IE & Firefox<29 measures the inner-width\r\n   */\r\n  var div = document.createElement('div');\r\n  div.style.width = '200px';\r\n  div.style.padding = '1px 2px 3px 4px';\r\n  div.style.borderStyle = 'solid';\r\n  div.style.borderWidth = '1px 2px 3px 4px';\r\n  div.style.boxSizing = 'border-box';\r\n\r\n  var body = document.body || document.documentElement;\r\n  body.appendChild( div );\r\n  var style = getStyle( div );\r\n\r\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\r\n  body.removeChild( div );\r\n\r\n}\r\n\r\n// -------------------------- getSize -------------------------- //\r\n\r\nfunction getSize( elem ) {\r\n  setup();\r\n\r\n  // use querySeletor if elem is string\r\n  if ( typeof elem == 'string' ) {\r\n    elem = document.querySelector( elem );\r\n  }\r\n\r\n  // do not proceed on non-objects\r\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\r\n    return;\r\n  }\r\n\r\n  var style = getStyle( elem );\r\n\r\n  // if hidden, everything is 0\r\n  if ( style.display == 'none' ) {\r\n    return getZeroSize();\r\n  }\r\n\r\n  var size = {};\r\n  size.width = elem.offsetWidth;\r\n  size.height = elem.offsetHeight;\r\n\r\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\r\n\r\n  // get all measurements\r\n  for ( var i=0; i < measurementsLength; i++ ) {\r\n    var measurement = measurements[i];\r\n    var value = style[ measurement ];\r\n    var num = parseFloat( value );\r\n    // any 'auto', 'medium' value will be 0\r\n    size[ measurement ] = !isNaN( num ) ? num : 0;\r\n  }\r\n\r\n  var paddingWidth = size.paddingLeft + size.paddingRight;\r\n  var paddingHeight = size.paddingTop + size.paddingBottom;\r\n  var marginWidth = size.marginLeft + size.marginRight;\r\n  var marginHeight = size.marginTop + size.marginBottom;\r\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\r\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\r\n\r\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\r\n\r\n  // overwrite width and height if we can get it from style\r\n  var styleWidth = getStyleSize( style.width );\r\n  if ( styleWidth !== false ) {\r\n    size.width = styleWidth +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\r\n  }\r\n\r\n  var styleHeight = getStyleSize( style.height );\r\n  if ( styleHeight !== false ) {\r\n    size.height = styleHeight +\r\n      // add padding and border unless it's already including it\r\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\r\n  }\r\n\r\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\r\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\r\n\r\n  size.outerWidth = size.width + marginWidth;\r\n  size.outerHeight = size.height + marginHeight;\r\n\r\n  return size;\r\n}\r\n\r\nreturn getSize;\r\n\r\n});\r\n\r\n/**\r\n * matchesSelector v2.0.2\r\n * matchesSelector( element, '.selector' )\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n\r\n( function( window, factory ) {\r\n  /*global define: false, module: false */\r\n  'use strict';\r\n  // universal module definition\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'desandro-matches-selector/matches-selector',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.matchesSelector = factory();\r\n  }\r\n\r\n}( window, function factory() {\r\n  'use strict';\r\n\r\n  var matchesMethod = ( function() {\r\n    var ElemProto = window.Element.prototype;\r\n    // check for the standard method name first\r\n    if ( ElemProto.matches ) {\r\n      return 'matches';\r\n    }\r\n    // check un-prefixed\r\n    if ( ElemProto.matchesSelector ) {\r\n      return 'matchesSelector';\r\n    }\r\n    // check vendor prefixes\r\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\r\n\r\n    for ( var i=0; i < prefixes.length; i++ ) {\r\n      var prefix = prefixes[i];\r\n      var method = prefix + 'MatchesSelector';\r\n      if ( ElemProto[ method ] ) {\r\n        return method;\r\n      }\r\n    }\r\n  })();\r\n\r\n  return function matchesSelector( elem, selector ) {\r\n    return elem[ matchesMethod ]( selector );\r\n  };\r\n\r\n}));\r\n\r\n/**\r\n * Fizzy UI utils v2.0.5\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, undef: true, unused: true, strict: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /*globals define, module, require */\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'fizzy-ui-utils/utils',[\r\n      'desandro-matches-selector/matches-selector'\r\n    ], function( matchesSelector ) {\r\n      return factory( window, matchesSelector );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('desandro-matches-selector')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.fizzyUIUtils = factory(\r\n      window,\r\n      window.matchesSelector\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, matchesSelector ) {\r\n\r\n\r\n\r\nvar utils = {};\r\n\r\n// ----- extend ----- //\r\n\r\n// extends objects\r\nutils.extend = function( a, b ) {\r\n  for ( var prop in b ) {\r\n    a[ prop ] = b[ prop ];\r\n  }\r\n  return a;\r\n};\r\n\r\n// ----- modulo ----- //\r\n\r\nutils.modulo = function( num, div ) {\r\n  return ( ( num % div ) + div ) % div;\r\n};\r\n\r\n// ----- makeArray ----- //\r\n\r\n// turn element or nodeList into an array\r\nutils.makeArray = function( obj ) {\r\n  var ary = [];\r\n  if ( Array.isArray( obj ) ) {\r\n    // use object if already an array\r\n    ary = obj;\r\n  } else if ( obj && typeof obj == 'object' &&\r\n    typeof obj.length == 'number' ) {\r\n    // convert nodeList to array\r\n    for ( var i=0; i < obj.length; i++ ) {\r\n      ary.push( obj[i] );\r\n    }\r\n  } else {\r\n    // array of single index\r\n    ary.push( obj );\r\n  }\r\n  return ary;\r\n};\r\n\r\n// ----- removeFrom ----- //\r\n\r\nutils.removeFrom = function( ary, obj ) {\r\n  var index = ary.indexOf( obj );\r\n  if ( index != -1 ) {\r\n    ary.splice( index, 1 );\r\n  }\r\n};\r\n\r\n// ----- getParent ----- //\r\n\r\nutils.getParent = function( elem, selector ) {\r\n  while ( elem.parentNode && elem != document.body ) {\r\n    elem = elem.parentNode;\r\n    if ( matchesSelector( elem, selector ) ) {\r\n      return elem;\r\n    }\r\n  }\r\n};\r\n\r\n// ----- getQueryElement ----- //\r\n\r\n// use element as selector string\r\nutils.getQueryElement = function( elem ) {\r\n  if ( typeof elem == 'string' ) {\r\n    return document.querySelector( elem );\r\n  }\r\n  return elem;\r\n};\r\n\r\n// ----- handleEvent ----- //\r\n\r\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\r\nutils.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\n// ----- filterFindElements ----- //\r\n\r\nutils.filterFindElements = function( elems, selector ) {\r\n  // make array of elems\r\n  elems = utils.makeArray( elems );\r\n  var ffElems = [];\r\n\r\n  elems.forEach( function( elem ) {\r\n    // check that elem is an actual element\r\n    if ( !( elem instanceof HTMLElement ) ) {\r\n      return;\r\n    }\r\n    // add elem if no selector\r\n    if ( !selector ) {\r\n      ffElems.push( elem );\r\n      return;\r\n    }\r\n    // filter & find items if we have a selector\r\n    // filter\r\n    if ( matchesSelector( elem, selector ) ) {\r\n      ffElems.push( elem );\r\n    }\r\n    // find children\r\n    var childElems = elem.querySelectorAll( selector );\r\n    // concat childElems to filterFound array\r\n    for ( var i=0; i < childElems.length; i++ ) {\r\n      ffElems.push( childElems[i] );\r\n    }\r\n  });\r\n\r\n  return ffElems;\r\n};\r\n\r\n// ----- debounceMethod ----- //\r\n\r\nutils.debounceMethod = function( _class, methodName, threshold ) {\r\n  // original method\r\n  var method = _class.prototype[ methodName ];\r\n  var timeoutName = methodName + 'Timeout';\r\n\r\n  _class.prototype[ methodName ] = function() {\r\n    var timeout = this[ timeoutName ];\r\n    if ( timeout ) {\r\n      clearTimeout( timeout );\r\n    }\r\n    var args = arguments;\r\n\r\n    var _this = this;\r\n    this[ timeoutName ] = setTimeout( function() {\r\n      method.apply( _this, args );\r\n      delete _this[ timeoutName ];\r\n    }, threshold || 100 );\r\n  };\r\n};\r\n\r\n// ----- docReady ----- //\r\n\r\nutils.docReady = function( callback ) {\r\n  var readyState = document.readyState;\r\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\r\n    // do async to allow for other scripts to run. metafizzy/flickity#441\r\n    setTimeout( callback );\r\n  } else {\r\n    document.addEventListener( 'DOMContentLoaded', callback );\r\n  }\r\n};\r\n\r\n// ----- htmlInit ----- //\r\n\r\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\r\nutils.toDashed = function( str ) {\r\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\r\n    return $1 + '-' + $2;\r\n  }).toLowerCase();\r\n};\r\n\r\nvar console = window.console;\r\n/**\r\n * allow user to initialize classes via [data-namespace] or .js-namespace class\r\n * htmlInit( Widget, 'widgetName' )\r\n * options are parsed from data-namespace-options\r\n */\r\nutils.htmlInit = function( WidgetClass, namespace ) {\r\n  utils.docReady( function() {\r\n    var dashedNamespace = utils.toDashed( namespace );\r\n    var dataAttr = 'data-' + dashedNamespace;\r\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\r\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\r\n    var elems = utils.makeArray( dataAttrElems )\r\n      .concat( utils.makeArray( jsDashElems ) );\r\n    var dataOptionsAttr = dataAttr + '-options';\r\n    var jQuery = window.jQuery;\r\n\r\n    elems.forEach( function( elem ) {\r\n      var attr = elem.getAttribute( dataAttr ) ||\r\n        elem.getAttribute( dataOptionsAttr );\r\n      var options;\r\n      try {\r\n        options = attr && JSON.parse( attr );\r\n      } catch ( error ) {\r\n        // log error, do not initialize\r\n        if ( console ) {\r\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\r\n          ': ' + error );\r\n        }\r\n        return;\r\n      }\r\n      // initialize\r\n      var instance = new WidgetClass( elem, options );\r\n      // make available via $().data('namespace')\r\n      if ( jQuery ) {\r\n        jQuery.data( elem, namespace, instance );\r\n      }\r\n    });\r\n\r\n  });\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn utils;\r\n\r\n}));\r\n\r\n// Flickity.Cell\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/cell',[\r\n      'get-size/get-size'\r\n    ], function( getSize ) {\r\n      return factory( window, getSize );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('get-size')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Flickity = window.Flickity || {};\r\n    window.Flickity.Cell = factory(\r\n      window,\r\n      window.getSize\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, getSize ) {\r\n\r\n\r\n\r\nfunction Cell( elem, parent ) {\r\n  this.element = elem;\r\n  this.parent = parent;\r\n\r\n  this.create();\r\n}\r\n\r\nvar proto = Cell.prototype;\r\n\r\nproto.create = function() {\r\n  this.element.style.position = 'absolute';\r\n  this.x = 0;\r\n  this.shift = 0;\r\n};\r\n\r\nproto.destroy = function() {\r\n  // reset style\r\n  this.element.style.position = '';\r\n  var side = this.parent.originSide;\r\n  this.element.style[ side ] = '';\r\n};\r\n\r\nproto.getSize = function() {\r\n  this.size = getSize( this.element );\r\n};\r\n\r\nproto.setPosition = function( x ) {\r\n  this.x = x;\r\n  this.updateTarget();\r\n  this.renderPosition( x );\r\n};\r\n\r\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\r\nproto.updateTarget = proto.setDefaultTarget = function() {\r\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\r\n  this.target = this.x + this.size[ marginProperty ] +\r\n    this.size.width * this.parent.cellAlign;\r\n};\r\n\r\nproto.renderPosition = function( x ) {\r\n  // render position of cell with in slider\r\n  var side = this.parent.originSide;\r\n  this.element.style[ side ] = this.parent.getPositionValue( x );\r\n};\r\n\r\n/**\r\n * @param {Integer} factor - 0, 1, or -1\r\n**/\r\nproto.wrapShift = function( shift ) {\r\n  this.shift = shift;\r\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\r\n};\r\n\r\nproto.remove = function() {\r\n  this.element.parentNode.removeChild( this.element );\r\n};\r\n\r\nreturn Cell;\r\n\r\n}));\r\n\r\n// slide\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/slide',factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory();\r\n  } else {\r\n    // browser global\r\n    window.Flickity = window.Flickity || {};\r\n    window.Flickity.Slide = factory();\r\n  }\r\n\r\n}( window, function factory() {\r\n'use strict';\r\n\r\nfunction Slide( parent ) {\r\n  this.parent = parent;\r\n  this.isOriginLeft = parent.originSide == 'left';\r\n  this.cells = [];\r\n  this.outerWidth = 0;\r\n  this.height = 0;\r\n}\r\n\r\nvar proto = Slide.prototype;\r\n\r\nproto.addCell = function( cell ) {\r\n  this.cells.push( cell );\r\n  this.outerWidth += cell.size.outerWidth;\r\n  this.height = Math.max( cell.size.outerHeight, this.height );\r\n  // first cell stuff\r\n  if ( this.cells.length == 1 ) {\r\n    this.x = cell.x; // x comes from first cell\r\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\r\n    this.firstMargin = cell.size[ beginMargin ];\r\n  }\r\n};\r\n\r\nproto.updateTarget = function() {\r\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\r\n  var lastCell = this.getLastCell();\r\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\r\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\r\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\r\n};\r\n\r\nproto.getLastCell = function() {\r\n  return this.cells[ this.cells.length - 1 ];\r\n};\r\n\r\nproto.select = function() {\r\n  this.changeSelectedClass('add');\r\n};\r\n\r\nproto.unselect = function() {\r\n  this.changeSelectedClass('remove');\r\n};\r\n\r\nproto.changeSelectedClass = function( method ) {\r\n  this.cells.forEach( function( cell ) {\r\n    cell.element.classList[ method ]('is-selected');\r\n  });\r\n};\r\n\r\nproto.getCellElements = function() {\r\n  return this.cells.map( function( cell ) {\r\n    return cell.element;\r\n  });\r\n};\r\n\r\nreturn Slide;\r\n\r\n}));\r\n\r\n// animate\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/animate',[\r\n      'fizzy-ui-utils/utils'\r\n    ], function( utils ) {\r\n      return factory( window, utils );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Flickity = window.Flickity || {};\r\n    window.Flickity.animatePrototype = factory(\r\n      window,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, utils ) {\r\n\r\n\r\n\r\n// -------------------------- requestAnimationFrame -------------------------- //\r\n\r\n// get rAF, prefixed, if present\r\nvar requestAnimationFrame = window.requestAnimationFrame ||\r\n  window.webkitRequestAnimationFrame;\r\n\r\n// fallback to setTimeout\r\nvar lastTime = 0;\r\nif ( !requestAnimationFrame )  {\r\n  requestAnimationFrame = function( callback ) {\r\n    var currTime = new Date().getTime();\r\n    var timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );\r\n    var id = setTimeout( callback, timeToCall );\r\n    lastTime = currTime + timeToCall;\r\n    return id;\r\n  };\r\n}\r\n\r\n// -------------------------- animate -------------------------- //\r\n\r\nvar proto = {};\r\n\r\nproto.startAnimation = function() {\r\n  if ( this.isAnimating ) {\r\n    return;\r\n  }\r\n\r\n  this.isAnimating = true;\r\n  this.restingFrames = 0;\r\n  this.animate();\r\n};\r\n\r\nproto.animate = function() {\r\n  this.applyDragForce();\r\n  this.applySelectedAttraction();\r\n\r\n  var previousX = this.x;\r\n\r\n  this.integratePhysics();\r\n  this.positionSlider();\r\n  this.settle( previousX );\r\n  // animate next frame\r\n  if ( this.isAnimating ) {\r\n    var _this = this;\r\n    requestAnimationFrame( function animateFrame() {\r\n      _this.animate();\r\n    });\r\n  }\r\n};\r\n\r\n\r\nvar transformProperty = ( function () {\r\n  var style = document.documentElement.style;\r\n  if ( typeof style.transform == 'string' ) {\r\n    return 'transform';\r\n  }\r\n  return 'WebkitTransform';\r\n})();\r\n\r\nproto.positionSlider = function() {\r\n  var x = this.x;\r\n  // wrap position around\r\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\r\n    x = utils.modulo( x, this.slideableWidth );\r\n    x = x - this.slideableWidth;\r\n    this.shiftWrapCells( x );\r\n  }\r\n\r\n  x = x + this.cursorPosition;\r\n  // reverse if right-to-left and using transform\r\n  x = this.options.rightToLeft && transformProperty ? -x : x;\r\n  var value = this.getPositionValue( x );\r\n  // use 3D tranforms for hardware acceleration on iOS\r\n  // but use 2D when settled, for better font-rendering\r\n  this.slider.style[ transformProperty ] = this.isAnimating ?\r\n    'translate3d(' + value + ',0,0)' : 'translateX(' + value + ')';\r\n\r\n  // scroll event\r\n  var firstSlide = this.slides[0];\r\n  if ( firstSlide ) {\r\n    var positionX = -this.x - firstSlide.target;\r\n    var progress = positionX / this.slidesWidth;\r\n    this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\r\n  }\r\n};\r\n\r\nproto.positionSliderAtSelected = function() {\r\n  if ( !this.cells.length ) {\r\n    return;\r\n  }\r\n  this.x = -this.selectedSlide.target;\r\n  this.positionSlider();\r\n};\r\n\r\nproto.getPositionValue = function( position ) {\r\n  if ( this.options.percentPosition ) {\r\n    // percent position, round to 2 digits, like 12.34%\r\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\r\n  } else {\r\n    // pixel positioning\r\n    return Math.round( position ) + 'px';\r\n  }\r\n};\r\n\r\nproto.settle = function( previousX ) {\r\n  // keep track of frames where x hasn't moved\r\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\r\n    this.restingFrames++;\r\n  }\r\n  // stop animating if resting for 3 or more frames\r\n  if ( this.restingFrames > 2 ) {\r\n    this.isAnimating = false;\r\n    delete this.isFreeScrolling;\r\n    // render position with translateX when settled\r\n    this.positionSlider();\r\n    this.dispatchEvent('settle');\r\n  }\r\n};\r\n\r\nproto.shiftWrapCells = function( x ) {\r\n  // shift before cells\r\n  var beforeGap = this.cursorPosition + x;\r\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\r\n  // shift after cells\r\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\r\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\r\n};\r\n\r\nproto._shiftCells = function( cells, gap, shift ) {\r\n  for ( var i=0; i < cells.length; i++ ) {\r\n    var cell = cells[i];\r\n    var cellShift = gap > 0 ? shift : 0;\r\n    cell.wrapShift( cellShift );\r\n    gap -= cell.size.outerWidth;\r\n  }\r\n};\r\n\r\nproto._unshiftCells = function( cells ) {\r\n  if ( !cells || !cells.length ) {\r\n    return;\r\n  }\r\n  for ( var i=0; i < cells.length; i++ ) {\r\n    cells[i].wrapShift( 0 );\r\n  }\r\n};\r\n\r\n// -------------------------- physics -------------------------- //\r\n\r\nproto.integratePhysics = function() {\r\n  this.x += this.velocity;\r\n  this.velocity *= this.getFrictionFactor();\r\n};\r\n\r\nproto.applyForce = function( force ) {\r\n  this.velocity += force;\r\n};\r\n\r\nproto.getFrictionFactor = function() {\r\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\r\n};\r\n\r\nproto.getRestingPosition = function() {\r\n  // my thanks to Steven Wittens, who simplified this math greatly\r\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\r\n};\r\n\r\nproto.applyDragForce = function() {\r\n  if ( !this.isPointerDown ) {\r\n    return;\r\n  }\r\n  // change the position to drag position by applying force\r\n  var dragVelocity = this.dragX - this.x;\r\n  var dragForce = dragVelocity - this.velocity;\r\n  this.applyForce( dragForce );\r\n};\r\n\r\nproto.applySelectedAttraction = function() {\r\n  // do not attract if pointer down or no cells\r\n  if ( this.isPointerDown || this.isFreeScrolling || !this.cells.length ) {\r\n    return;\r\n  }\r\n  var distance = this.selectedSlide.target * -1 - this.x;\r\n  var force = distance * this.options.selectedAttraction;\r\n  this.applyForce( force );\r\n};\r\n\r\nreturn proto;\r\n\r\n}));\r\n\r\n// Flickity main\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/flickity',[\r\n      'ev-emitter/ev-emitter',\r\n      'get-size/get-size',\r\n      'fizzy-ui-utils/utils',\r\n      './cell',\r\n      './slide',\r\n      './animate'\r\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\r\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('ev-emitter'),\r\n      require('get-size'),\r\n      require('fizzy-ui-utils'),\r\n      require('./cell'),\r\n      require('./slide'),\r\n      require('./animate')\r\n    );\r\n  } else {\r\n    // browser global\r\n    var _Flickity = window.Flickity;\r\n\r\n    window.Flickity = factory(\r\n      window,\r\n      window.EvEmitter,\r\n      window.getSize,\r\n      window.fizzyUIUtils,\r\n      _Flickity.Cell,\r\n      _Flickity.Slide,\r\n      _Flickity.animatePrototype\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, EvEmitter, getSize,\r\n  utils, Cell, Slide, animatePrototype ) {\r\n\r\n\r\n\r\n// vars\r\nvar jQuery = window.jQuery;\r\nvar getComputedStyle = window.getComputedStyle;\r\nvar console = window.console;\r\n\r\nfunction moveElements( elems, toElem ) {\r\n  elems = utils.makeArray( elems );\r\n  while ( elems.length ) {\r\n    toElem.appendChild( elems.shift() );\r\n  }\r\n}\r\n\r\n// -------------------------- Flickity -------------------------- //\r\n\r\n// globally unique identifiers\r\nvar GUID = 0;\r\n// internal store of all Flickity intances\r\nvar instances = {};\r\n\r\nfunction Flickity( element, options ) {\r\n  var queryElement = utils.getQueryElement( element );\r\n  if ( !queryElement ) {\r\n    if ( console ) {\r\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\r\n    }\r\n    return;\r\n  }\r\n  this.element = queryElement;\r\n  // do not initialize twice on same element\r\n  if ( this.element.flickityGUID ) {\r\n    var instance = instances[ this.element.flickityGUID ];\r\n    instance.option( options );\r\n    return instance;\r\n  }\r\n\r\n  // add jQuery\r\n  if ( jQuery ) {\r\n    this.$element = jQuery( this.element );\r\n  }\r\n  // options\r\n  this.options = utils.extend( {}, this.constructor.defaults );\r\n  this.option( options );\r\n\r\n  // kick things off\r\n  this._create();\r\n}\r\n\r\nFlickity.defaults = {\r\n  accessibility: true,\r\n  // adaptiveHeight: false,\r\n  cellAlign: 'center',\r\n  // cellSelector: undefined,\r\n  // contain: false,\r\n  freeScrollFriction: 0.075, // friction when free-scrolling\r\n  friction: 0.28, // friction when selecting\r\n  namespaceJQueryEvents: true,\r\n  // initialIndex: 0,\r\n  percentPosition: true,\r\n  resize: true,\r\n  selectedAttraction: 0.025,\r\n  setGallerySize: true\r\n  // watchCSS: false,\r\n  // wrapAround: false\r\n};\r\n\r\n// hash of methods triggered on _create()\r\nFlickity.createMethods = [];\r\n\r\nvar proto = Flickity.prototype;\r\n// inherit EventEmitter\r\nutils.extend( proto, EvEmitter.prototype );\r\n\r\nproto._create = function() {\r\n  // add id for Flickity.data\r\n  var id = this.guid = ++GUID;\r\n  this.element.flickityGUID = id; // expando\r\n  instances[ id ] = this; // associate via id\r\n  // initial properties\r\n  this.selectedIndex = 0;\r\n  // how many frames slider has been in same position\r\n  this.restingFrames = 0;\r\n  // initial physics properties\r\n  this.x = 0;\r\n  this.velocity = 0;\r\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\r\n  // create viewport & slider\r\n  this.viewport = document.createElement('div');\r\n  this.viewport.className = 'flickity-viewport';\r\n  this._createSlider();\r\n\r\n  if ( this.options.resize || this.options.watchCSS ) {\r\n    window.addEventListener( 'resize', this );\r\n  }\r\n\r\n  Flickity.createMethods.forEach( function( method ) {\r\n    this[ method ]();\r\n  }, this );\r\n\r\n  if ( this.options.watchCSS ) {\r\n    this.watchCSS();\r\n  } else {\r\n    this.activate();\r\n  }\r\n\r\n};\r\n\r\n/**\r\n * set options\r\n * @param {Object} opts\r\n */\r\nproto.option = function( opts ) {\r\n  utils.extend( this.options, opts );\r\n};\r\n\r\nproto.activate = function() {\r\n  if ( this.isActive ) {\r\n    return;\r\n  }\r\n  this.isActive = true;\r\n  this.element.classList.add('flickity-enabled');\r\n  if ( this.options.rightToLeft ) {\r\n    this.element.classList.add('flickity-rtl');\r\n  }\r\n\r\n  this.getSize();\r\n  // move initial cell elements so they can be loaded as cells\r\n  var cellElems = this._filterFindCellElements( this.element.children );\r\n  moveElements( cellElems, this.slider );\r\n  this.viewport.appendChild( this.slider );\r\n  this.element.appendChild( this.viewport );\r\n  // get cells from children\r\n  this.reloadCells();\r\n\r\n  if ( this.options.accessibility ) {\r\n    // allow element to focusable\r\n    this.element.tabIndex = 0;\r\n    // listen for key presses\r\n    this.element.addEventListener( 'keydown', this );\r\n  }\r\n\r\n  this.emitEvent('activate');\r\n\r\n  var index;\r\n  var initialIndex = this.options.initialIndex;\r\n  if ( this.isInitActivated ) {\r\n    index = this.selectedIndex;\r\n  } else if ( initialIndex !== undefined ) {\r\n    index = this.cells[ initialIndex ] ? initialIndex : 0;\r\n  } else {\r\n    index = 0;\r\n  }\r\n  // select instantly\r\n  this.select( index, false, true );\r\n  // flag for initial activation, for using initialIndex\r\n  this.isInitActivated = true;\r\n};\r\n\r\n// slider positions the cells\r\nproto._createSlider = function() {\r\n  // slider element does all the positioning\r\n  var slider = document.createElement('div');\r\n  slider.className = 'flickity-slider';\r\n  slider.style[ this.originSide ] = 0;\r\n  this.slider = slider;\r\n};\r\n\r\nproto._filterFindCellElements = function( elems ) {\r\n  return utils.filterFindElements( elems, this.options.cellSelector );\r\n};\r\n\r\n// goes through all children\r\nproto.reloadCells = function() {\r\n  // collection of item elements\r\n  this.cells = this._makeCells( this.slider.children );\r\n  this.positionCells();\r\n  this._getWrapShiftCells();\r\n  this.setGallerySize();\r\n};\r\n\r\n/**\r\n * turn elements into Flickity.Cells\r\n * @param {Array or NodeList or HTMLElement} elems\r\n * @returns {Array} items - collection of new Flickity Cells\r\n */\r\nproto._makeCells = function( elems ) {\r\n  var cellElems = this._filterFindCellElements( elems );\r\n\r\n  // create new Flickity for collection\r\n  var cells = cellElems.map( function( cellElem ) {\r\n    return new Cell( cellElem, this );\r\n  }, this );\r\n\r\n  return cells;\r\n};\r\n\r\nproto.getLastCell = function() {\r\n  return this.cells[ this.cells.length - 1 ];\r\n};\r\n\r\nproto.getLastSlide = function() {\r\n  return this.slides[ this.slides.length - 1 ];\r\n};\r\n\r\n// positions all cells\r\nproto.positionCells = function() {\r\n  // size all cells\r\n  this._sizeCells( this.cells );\r\n  // position all cells\r\n  this._positionCells( 0 );\r\n};\r\n\r\n/**\r\n * position certain cells\r\n * @param {Integer} index - which cell to start with\r\n */\r\nproto._positionCells = function( index ) {\r\n  index = index || 0;\r\n  // also measure maxCellHeight\r\n  // start 0 if positioning all cells\r\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\r\n  var cellX = 0;\r\n  // get cellX\r\n  if ( index > 0 ) {\r\n    var startCell = this.cells[ index - 1 ];\r\n    cellX = startCell.x + startCell.size.outerWidth;\r\n  }\r\n  var len = this.cells.length;\r\n  for ( var i=index; i < len; i++ ) {\r\n    var cell = this.cells[i];\r\n    cell.setPosition( cellX );\r\n    cellX += cell.size.outerWidth;\r\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\r\n  }\r\n  // keep track of cellX for wrap-around\r\n  this.slideableWidth = cellX;\r\n  // slides\r\n  this.updateSlides();\r\n  // contain slides target\r\n  this._containSlides();\r\n  // update slidesWidth\r\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\r\n};\r\n\r\n/**\r\n * cell.getSize() on multiple cells\r\n * @param {Array} cells\r\n */\r\nproto._sizeCells = function( cells ) {\r\n  cells.forEach( function( cell ) {\r\n    cell.getSize();\r\n  });\r\n};\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nproto.updateSlides = function() {\r\n  this.slides = [];\r\n  if ( !this.cells.length ) {\r\n    return;\r\n  }\r\n\r\n  var slide = new Slide( this );\r\n  this.slides.push( slide );\r\n  var isOriginLeft = this.originSide == 'left';\r\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\r\n\r\n  var canCellFit = this._getCanCellFit();\r\n\r\n  this.cells.forEach( function( cell, i ) {\r\n    // just add cell if first cell in slide\r\n    if ( !slide.cells.length ) {\r\n      slide.addCell( cell );\r\n      return;\r\n    }\r\n\r\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\r\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\r\n\r\n    if ( canCellFit.call( this, i, slideWidth ) ) {\r\n      slide.addCell( cell );\r\n    } else {\r\n      // doesn't fit, new slide\r\n      slide.updateTarget();\r\n\r\n      slide = new Slide( this );\r\n      this.slides.push( slide );\r\n      slide.addCell( cell );\r\n    }\r\n  }, this );\r\n  // last slide\r\n  slide.updateTarget();\r\n  // update .selectedSlide\r\n  this.updateSelectedSlide();\r\n};\r\n\r\nproto._getCanCellFit = function() {\r\n  var groupCells = this.options.groupCells;\r\n  if ( !groupCells ) {\r\n    return function() {\r\n      return false;\r\n    };\r\n  } else if ( typeof groupCells == 'number' ) {\r\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\r\n    var number = parseInt( groupCells, 10 );\r\n    return function( i ) {\r\n      return ( i % number ) !== 0;\r\n    };\r\n  }\r\n  // default, group by width of slide\r\n  // parse '75%\r\n  var percentMatch = typeof groupCells == 'string' &&\r\n    groupCells.match(/^(\\d+)%$/);\r\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\r\n  return function( i, slideWidth ) {\r\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\r\n  };\r\n};\r\n\r\n// alias _init for jQuery plugin .flickity()\r\nproto._init =\r\nproto.reposition = function() {\r\n  this.positionCells();\r\n  this.positionSliderAtSelected();\r\n};\r\n\r\nproto.getSize = function() {\r\n  this.size = getSize( this.element );\r\n  this.setCellAlign();\r\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\r\n};\r\n\r\nvar cellAlignShorthands = {\r\n  // cell align, then based on origin side\r\n  center: {\r\n    left: 0.5,\r\n    right: 0.5\r\n  },\r\n  left: {\r\n    left: 0,\r\n    right: 1\r\n  },\r\n  right: {\r\n    right: 0,\r\n    left: 1\r\n  }\r\n};\r\n\r\nproto.setCellAlign = function() {\r\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\r\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\r\n};\r\n\r\nproto.setGallerySize = function() {\r\n  if ( this.options.setGallerySize ) {\r\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\r\n      this.selectedSlide.height : this.maxCellHeight;\r\n    this.viewport.style.height = height + 'px';\r\n  }\r\n};\r\n\r\nproto._getWrapShiftCells = function() {\r\n  // only for wrap-around\r\n  if ( !this.options.wrapAround ) {\r\n    return;\r\n  }\r\n  // unshift previous cells\r\n  this._unshiftCells( this.beforeShiftCells );\r\n  this._unshiftCells( this.afterShiftCells );\r\n  // get before cells\r\n  // initial gap\r\n  var gapX = this.cursorPosition;\r\n  var cellIndex = this.cells.length - 1;\r\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\r\n  // get after cells\r\n  // ending gap between last cell and end of gallery viewport\r\n  gapX = this.size.innerWidth - this.cursorPosition;\r\n  // start cloning at first cell, working forwards\r\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\r\n};\r\n\r\nproto._getGapCells = function( gapX, cellIndex, increment ) {\r\n  // keep adding cells until the cover the initial gap\r\n  var cells = [];\r\n  while ( gapX > 0 ) {\r\n    var cell = this.cells[ cellIndex ];\r\n    if ( !cell ) {\r\n      break;\r\n    }\r\n    cells.push( cell );\r\n    cellIndex += increment;\r\n    gapX -= cell.size.outerWidth;\r\n  }\r\n  return cells;\r\n};\r\n\r\n// ----- contain ----- //\r\n\r\n// contain cell targets so no excess sliding\r\nproto._containSlides = function() {\r\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\r\n    return;\r\n  }\r\n  var isRightToLeft = this.options.rightToLeft;\r\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\r\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\r\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\r\n  // content is less than gallery size\r\n  var isContentSmaller = contentWidth < this.size.innerWidth;\r\n  // bounds\r\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\r\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\r\n  // contain each cell target\r\n  this.slides.forEach( function( slide ) {\r\n    if ( isContentSmaller ) {\r\n      // all cells fit inside gallery\r\n      slide.target = contentWidth * this.cellAlign;\r\n    } else {\r\n      // contain to bounds\r\n      slide.target = Math.max( slide.target, beginBound );\r\n      slide.target = Math.min( slide.target, endBound );\r\n    }\r\n  }, this );\r\n};\r\n\r\n// -----  ----- //\r\n\r\n/**\r\n * emits events via eventEmitter and jQuery events\r\n * @param {String} type - name of event\r\n * @param {Event} event - original event\r\n * @param {Array} args - extra arguments\r\n */\r\nproto.dispatchEvent = function( type, event, args ) {\r\n  var emitArgs = event ? [ event ].concat( args ) : args;\r\n  this.emitEvent( type, emitArgs );\r\n\r\n  if ( jQuery && this.$element ) {\r\n    // default trigger with type if no event\r\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\r\n    var $event = type;\r\n    if ( event ) {\r\n      // create jQuery event\r\n      var jQEvent = jQuery.Event( event );\r\n      jQEvent.type = type;\r\n      $event = jQEvent;\r\n    }\r\n    this.$element.trigger( $event, args );\r\n  }\r\n};\r\n\r\n// -------------------------- select -------------------------- //\r\n\r\n/**\r\n * @param {Integer} index - index of the slide\r\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\r\n * @param {Boolean} isInstant - will immediately set position at selected cell\r\n */\r\nproto.select = function( index, isWrap, isInstant ) {\r\n  if ( !this.isActive ) {\r\n    return;\r\n  }\r\n  index = parseInt( index, 10 );\r\n  this._wrapSelect( index );\r\n\r\n  if ( this.options.wrapAround || isWrap ) {\r\n    index = utils.modulo( index, this.slides.length );\r\n  }\r\n  // bail if invalid index\r\n  if ( !this.slides[ index ] ) {\r\n    return;\r\n  }\r\n  this.selectedIndex = index;\r\n  this.updateSelectedSlide();\r\n  if ( isInstant ) {\r\n    this.positionSliderAtSelected();\r\n  } else {\r\n    this.startAnimation();\r\n  }\r\n  if ( this.options.adaptiveHeight ) {\r\n    this.setGallerySize();\r\n  }\r\n\r\n  this.dispatchEvent('select');\r\n  // old v1 event name, remove in v3\r\n  this.dispatchEvent('cellSelect');\r\n};\r\n\r\n// wraps position for wrapAround, to move to closest slide. #113\r\nproto._wrapSelect = function( index ) {\r\n  var len = this.slides.length;\r\n  var isWrapping = this.options.wrapAround && len > 1;\r\n  if ( !isWrapping ) {\r\n    return index;\r\n  }\r\n  var wrapIndex = utils.modulo( index, len );\r\n  // go to shortest\r\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\r\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\r\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\r\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\r\n    index += len;\r\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\r\n    index -= len;\r\n  }\r\n  // wrap position so slider is within normal area\r\n  if ( index < 0 ) {\r\n    this.x -= this.slideableWidth;\r\n  } else if ( index >= len ) {\r\n    this.x += this.slideableWidth;\r\n  }\r\n};\r\n\r\nproto.previous = function( isWrap, isInstant ) {\r\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\r\n};\r\n\r\nproto.next = function( isWrap, isInstant ) {\r\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\r\n};\r\n\r\nproto.updateSelectedSlide = function() {\r\n  var slide = this.slides[ this.selectedIndex ];\r\n  // selectedIndex could be outside of slides, if triggered before resize()\r\n  if ( !slide ) {\r\n    return;\r\n  }\r\n  // unselect previous selected slide\r\n  this.unselectSelectedSlide();\r\n  // update new selected slide\r\n  this.selectedSlide = slide;\r\n  slide.select();\r\n  this.selectedCells = slide.cells;\r\n  this.selectedElements = slide.getCellElements();\r\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\r\n  // Remove in v3?\r\n  this.selectedCell = slide.cells[0];\r\n  this.selectedElement = this.selectedElements[0];\r\n};\r\n\r\nproto.unselectSelectedSlide = function() {\r\n  if ( this.selectedSlide ) {\r\n    this.selectedSlide.unselect();\r\n  }\r\n};\r\n\r\n/**\r\n * select slide from number or cell element\r\n * @param {Element or Number} elem\r\n */\r\nproto.selectCell = function( value, isWrap, isInstant ) {\r\n  // get cell\r\n  var cell;\r\n  if ( typeof value == 'number' ) {\r\n    cell = this.cells[ value ];\r\n  } else {\r\n    // use string as selector\r\n    if ( typeof value == 'string' ) {\r\n      value = this.element.querySelector( value );\r\n    }\r\n    // get cell from element\r\n    cell = this.getCell( value );\r\n  }\r\n  // select slide that has cell\r\n  for ( var i=0; cell && i < this.slides.length; i++ ) {\r\n    var slide = this.slides[i];\r\n    var index = slide.cells.indexOf( cell );\r\n    if ( index != -1 ) {\r\n      this.select( i, isWrap, isInstant );\r\n      return;\r\n    }\r\n  }\r\n};\r\n\r\n// -------------------------- get cells -------------------------- //\r\n\r\n/**\r\n * get Flickity.Cell, given an Element\r\n * @param {Element} elem\r\n * @returns {Flickity.Cell} item\r\n */\r\nproto.getCell = function( elem ) {\r\n  // loop through cells to get the one that matches\r\n  for ( var i=0; i < this.cells.length; i++ ) {\r\n    var cell = this.cells[i];\r\n    if ( cell.element == elem ) {\r\n      return cell;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * get collection of Flickity.Cells, given Elements\r\n * @param {Element, Array, NodeList} elems\r\n * @returns {Array} cells - Flickity.Cells\r\n */\r\nproto.getCells = function( elems ) {\r\n  elems = utils.makeArray( elems );\r\n  var cells = [];\r\n  elems.forEach( function( elem ) {\r\n    var cell = this.getCell( elem );\r\n    if ( cell ) {\r\n      cells.push( cell );\r\n    }\r\n  }, this );\r\n  return cells;\r\n};\r\n\r\n/**\r\n * get cell elements\r\n * @returns {Array} cellElems\r\n */\r\nproto.getCellElements = function() {\r\n  return this.cells.map( function( cell ) {\r\n    return cell.element;\r\n  });\r\n};\r\n\r\n/**\r\n * get parent cell from an element\r\n * @param {Element} elem\r\n * @returns {Flickit.Cell} cell\r\n */\r\nproto.getParentCell = function( elem ) {\r\n  // first check if elem is cell\r\n  var cell = this.getCell( elem );\r\n  if ( cell ) {\r\n    return cell;\r\n  }\r\n  // try to get parent cell elem\r\n  elem = utils.getParent( elem, '.flickity-slider > *' );\r\n  return this.getCell( elem );\r\n};\r\n\r\n/**\r\n * get cells adjacent to a slide\r\n * @param {Integer} adjCount - number of adjacent slides\r\n * @param {Integer} index - index of slide to start\r\n * @returns {Array} cells - array of Flickity.Cells\r\n */\r\nproto.getAdjacentCellElements = function( adjCount, index ) {\r\n  if ( !adjCount ) {\r\n    return this.selectedSlide.getCellElements();\r\n  }\r\n  index = index === undefined ? this.selectedIndex : index;\r\n\r\n  var len = this.slides.length;\r\n  if ( 1 + ( adjCount * 2 ) >= len ) {\r\n    return this.getCellElements();\r\n  }\r\n\r\n  var cellElems = [];\r\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\r\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\r\n    var slide = this.slides[ slideIndex ];\r\n    if ( slide ) {\r\n      cellElems = cellElems.concat( slide.getCellElements() );\r\n    }\r\n  }\r\n  return cellElems;\r\n};\r\n\r\n// -------------------------- events -------------------------- //\r\n\r\nproto.uiChange = function() {\r\n  this.emitEvent('uiChange');\r\n};\r\n\r\nproto.childUIPointerDown = function( event ) {\r\n  this.emitEvent( 'childUIPointerDown', [ event ] );\r\n};\r\n\r\n// ----- resize ----- //\r\n\r\nproto.onresize = function() {\r\n  this.watchCSS();\r\n  this.resize();\r\n};\r\n\r\nutils.debounceMethod( Flickity, 'onresize', 150 );\r\n\r\nproto.resize = function() {\r\n  if ( !this.isActive ) {\r\n    return;\r\n  }\r\n  this.getSize();\r\n  // wrap values\r\n  if ( this.options.wrapAround ) {\r\n    this.x = utils.modulo( this.x, this.slideableWidth );\r\n  }\r\n  this.positionCells();\r\n  this._getWrapShiftCells();\r\n  this.setGallerySize();\r\n  this.emitEvent('resize');\r\n  // update selected index for group slides, instant\r\n  // TODO: position can be lost between groups of various numbers\r\n  var selectedElement = this.selectedElements && this.selectedElements[0];\r\n  this.selectCell( selectedElement, false, true );\r\n};\r\n\r\n// watches the :after property, activates/deactivates\r\nproto.watchCSS = function() {\r\n  var watchOption = this.options.watchCSS;\r\n  if ( !watchOption ) {\r\n    return;\r\n  }\r\n\r\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\r\n  // activate if :after { content: 'flickity' }\r\n  if ( afterContent.indexOf('flickity') != -1 ) {\r\n    this.activate();\r\n  } else {\r\n    this.deactivate();\r\n  }\r\n};\r\n\r\n// ----- keydown ----- //\r\n\r\n// go previous/next if left/right keys pressed\r\nproto.onkeydown = function( event ) {\r\n  // only work if element is in focus\r\n  if ( !this.options.accessibility ||\r\n    ( document.activeElement && document.activeElement != this.element ) ) {\r\n    return;\r\n  }\r\n\r\n  if ( event.keyCode == 37 ) {\r\n    // go left\r\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\r\n    this.uiChange();\r\n    this[ leftMethod ]();\r\n  } else if ( event.keyCode == 39 ) {\r\n    // go right\r\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\r\n    this.uiChange();\r\n    this[ rightMethod ]();\r\n  }\r\n};\r\n\r\n// -------------------------- destroy -------------------------- //\r\n\r\n// deactivate all Flickity functionality, but keep stuff available\r\nproto.deactivate = function() {\r\n  if ( !this.isActive ) {\r\n    return;\r\n  }\r\n  this.element.classList.remove('flickity-enabled');\r\n  this.element.classList.remove('flickity-rtl');\r\n  // destroy cells\r\n  this.cells.forEach( function( cell ) {\r\n    cell.destroy();\r\n  });\r\n  this.unselectSelectedSlide();\r\n  this.element.removeChild( this.viewport );\r\n  // move child elements back into element\r\n  moveElements( this.slider.children, this.element );\r\n  if ( this.options.accessibility ) {\r\n    this.element.removeAttribute('tabIndex');\r\n    this.element.removeEventListener( 'keydown', this );\r\n  }\r\n  // set flags\r\n  this.isActive = false;\r\n  this.emitEvent('deactivate');\r\n};\r\n\r\nproto.destroy = function() {\r\n  this.deactivate();\r\n  window.removeEventListener( 'resize', this );\r\n  this.emitEvent('destroy');\r\n  if ( jQuery && this.$element ) {\r\n    jQuery.removeData( this.element, 'flickity' );\r\n  }\r\n  delete this.element.flickityGUID;\r\n  delete instances[ this.guid ];\r\n};\r\n\r\n// -------------------------- prototype -------------------------- //\r\n\r\nutils.extend( proto, animatePrototype );\r\n\r\n// -------------------------- extras -------------------------- //\r\n\r\n/**\r\n * get Flickity instance from element\r\n * @param {Element} elem\r\n * @returns {Flickity}\r\n */\r\nFlickity.data = function( elem ) {\r\n  elem = utils.getQueryElement( elem );\r\n  var id = elem && elem.flickityGUID;\r\n  return id && instances[ id ];\r\n};\r\n\r\nutils.htmlInit( Flickity, 'flickity' );\r\n\r\nif ( jQuery && jQuery.bridget ) {\r\n  jQuery.bridget( 'flickity', Flickity );\r\n}\r\n\r\n// set internal jQuery, for Webpack + jQuery v3, #478\r\nFlickity.setJQuery = function( jq ) {\r\n  jQuery = jq;\r\n};\r\n\r\nFlickity.Cell = Cell;\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n/*!\r\n * Unipointer v2.2.0\r\n * base class for doing one thing with pointer event\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, undef: true, unused: true, strict: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */ /*global define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'unipointer/unipointer',[\r\n      'ev-emitter/ev-emitter'\r\n    ], function( EvEmitter ) {\r\n      return factory( window, EvEmitter );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('ev-emitter')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Unipointer = factory(\r\n      window,\r\n      window.EvEmitter\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, EvEmitter ) {\r\n\r\n\r\n\r\nfunction noop() {}\r\n\r\nfunction Unipointer() {}\r\n\r\n// inherit EvEmitter\r\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\r\n\r\nproto.bindStartEvent = function( elem ) {\r\n  this._bindStartEvent( elem, true );\r\n};\r\n\r\nproto.unbindStartEvent = function( elem ) {\r\n  this._bindStartEvent( elem, false );\r\n};\r\n\r\n/**\r\n * works as unbinder, as you can ._bindStart( false ) to unbind\r\n * @param {Boolean} isBind - will unbind if falsey\r\n */\r\nproto._bindStartEvent = function( elem, isBind ) {\r\n  // munge isBind, default to true\r\n  isBind = isBind === undefined ? true : !!isBind;\r\n  var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\r\n\r\n  if ( window.PointerEvent ) {\r\n    // Pointer Events. Chrome 55, IE11, Edge 14\r\n    elem[ bindMethod ]( 'pointerdown', this );\r\n  } else {\r\n    // listen for both, for devices like Chrome Pixel\r\n    elem[ bindMethod ]( 'mousedown', this );\r\n    elem[ bindMethod ]( 'touchstart', this );\r\n  }\r\n};\r\n\r\n// trigger handler methods for events\r\nproto.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\n// returns the touch that we're keeping track of\r\nproto.getTouch = function( touches ) {\r\n  for ( var i=0; i < touches.length; i++ ) {\r\n    var touch = touches[i];\r\n    if ( touch.identifier == this.pointerIdentifier ) {\r\n      return touch;\r\n    }\r\n  }\r\n};\r\n\r\n// ----- start event ----- //\r\n\r\nproto.onmousedown = function( event ) {\r\n  // dismiss clicks from right or middle buttons\r\n  var button = event.button;\r\n  if ( button && ( button !== 0 && button !== 1 ) ) {\r\n    return;\r\n  }\r\n  this._pointerDown( event, event );\r\n};\r\n\r\nproto.ontouchstart = function( event ) {\r\n  this._pointerDown( event, event.changedTouches[0] );\r\n};\r\n\r\nproto.onpointerdown = function( event ) {\r\n  this._pointerDown( event, event );\r\n};\r\n\r\n/**\r\n * pointer start\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n */\r\nproto._pointerDown = function( event, pointer ) {\r\n  // dismiss other pointers\r\n  if ( this.isPointerDown ) {\r\n    return;\r\n  }\r\n\r\n  this.isPointerDown = true;\r\n  // save pointer identifier to match up touch events\r\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\r\n    // pointerId for pointer events, touch.indentifier for touch events\r\n    pointer.pointerId : pointer.identifier;\r\n\r\n  this.pointerDown( event, pointer );\r\n};\r\n\r\nproto.pointerDown = function( event, pointer ) {\r\n  this._bindPostStartEvents( event );\r\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\r\n};\r\n\r\n// hash of events to be bound after start event\r\nvar postStartEvents = {\r\n  mousedown: [ 'mousemove', 'mouseup' ],\r\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\r\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\r\n};\r\n\r\nproto._bindPostStartEvents = function( event ) {\r\n  if ( !event ) {\r\n    return;\r\n  }\r\n  // get proper events to match start event\r\n  var events = postStartEvents[ event.type ];\r\n  // bind events to node\r\n  events.forEach( function( eventName ) {\r\n    window.addEventListener( eventName, this );\r\n  }, this );\r\n  // save these arguments\r\n  this._boundPointerEvents = events;\r\n};\r\n\r\nproto._unbindPostStartEvents = function() {\r\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\r\n  if ( !this._boundPointerEvents ) {\r\n    return;\r\n  }\r\n  this._boundPointerEvents.forEach( function( eventName ) {\r\n    window.removeEventListener( eventName, this );\r\n  }, this );\r\n\r\n  delete this._boundPointerEvents;\r\n};\r\n\r\n// ----- move event ----- //\r\n\r\nproto.onmousemove = function( event ) {\r\n  this._pointerMove( event, event );\r\n};\r\n\r\nproto.onpointermove = function( event ) {\r\n  if ( event.pointerId == this.pointerIdentifier ) {\r\n    this._pointerMove( event, event );\r\n  }\r\n};\r\n\r\nproto.ontouchmove = function( event ) {\r\n  var touch = this.getTouch( event.changedTouches );\r\n  if ( touch ) {\r\n    this._pointerMove( event, touch );\r\n  }\r\n};\r\n\r\n/**\r\n * pointer move\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n * @private\r\n */\r\nproto._pointerMove = function( event, pointer ) {\r\n  this.pointerMove( event, pointer );\r\n};\r\n\r\n// public\r\nproto.pointerMove = function( event, pointer ) {\r\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\r\n};\r\n\r\n// ----- end event ----- //\r\n\r\n\r\nproto.onmouseup = function( event ) {\r\n  this._pointerUp( event, event );\r\n};\r\n\r\nproto.onpointerup = function( event ) {\r\n  if ( event.pointerId == this.pointerIdentifier ) {\r\n    this._pointerUp( event, event );\r\n  }\r\n};\r\n\r\nproto.ontouchend = function( event ) {\r\n  var touch = this.getTouch( event.changedTouches );\r\n  if ( touch ) {\r\n    this._pointerUp( event, touch );\r\n  }\r\n};\r\n\r\n/**\r\n * pointer up\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n * @private\r\n */\r\nproto._pointerUp = function( event, pointer ) {\r\n  this._pointerDone();\r\n  this.pointerUp( event, pointer );\r\n};\r\n\r\n// public\r\nproto.pointerUp = function( event, pointer ) {\r\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\r\n};\r\n\r\n// ----- pointer done ----- //\r\n\r\n// triggered on pointer up & pointer cancel\r\nproto._pointerDone = function() {\r\n  // reset properties\r\n  this.isPointerDown = false;\r\n  delete this.pointerIdentifier;\r\n  // remove events\r\n  this._unbindPostStartEvents();\r\n  this.pointerDone();\r\n};\r\n\r\nproto.pointerDone = noop;\r\n\r\n// ----- pointer cancel ----- //\r\n\r\nproto.onpointercancel = function( event ) {\r\n  if ( event.pointerId == this.pointerIdentifier ) {\r\n    this._pointerCancel( event, event );\r\n  }\r\n};\r\n\r\nproto.ontouchcancel = function( event ) {\r\n  var touch = this.getTouch( event.changedTouches );\r\n  if ( touch ) {\r\n    this._pointerCancel( event, touch );\r\n  }\r\n};\r\n\r\n/**\r\n * pointer cancel\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n * @private\r\n */\r\nproto._pointerCancel = function( event, pointer ) {\r\n  this._pointerDone();\r\n  this.pointerCancel( event, pointer );\r\n};\r\n\r\n// public\r\nproto.pointerCancel = function( event, pointer ) {\r\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\r\n};\r\n\r\n// -----  ----- //\r\n\r\n// utility function for getting x/y coords from event\r\nUnipointer.getPointerPoint = function( pointer ) {\r\n  return {\r\n    x: pointer.pageX,\r\n    y: pointer.pageY\r\n  };\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn Unipointer;\r\n\r\n}));\r\n\r\n/*!\r\n * Unidragger v2.2.3\r\n * Draggable base class\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, unused: true, undef: true, strict: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /*globals define, module, require */\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'unidragger/unidragger',[\r\n      'unipointer/unipointer'\r\n    ], function( Unipointer ) {\r\n      return factory( window, Unipointer );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('unipointer')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Unidragger = factory(\r\n      window,\r\n      window.Unipointer\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Unipointer ) {\r\n\r\n\r\n\r\n// -------------------------- Unidragger -------------------------- //\r\n\r\nfunction Unidragger() {}\r\n\r\n// inherit Unipointer & EvEmitter\r\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\r\n\r\n// ----- bind start ----- //\r\n\r\nproto.bindHandles = function() {\r\n  this._bindHandles( true );\r\n};\r\n\r\nproto.unbindHandles = function() {\r\n  this._bindHandles( false );\r\n};\r\n\r\n/**\r\n * works as unbinder, as you can .bindHandles( false ) to unbind\r\n * @param {Boolean} isBind - will unbind if falsey\r\n */\r\nproto._bindHandles = function( isBind ) {\r\n  // munge isBind, default to true\r\n  isBind = isBind === undefined ? true : !!isBind;\r\n  // bind each handle\r\n  var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';\r\n  for ( var i=0; i < this.handles.length; i++ ) {\r\n    var handle = this.handles[i];\r\n    this._bindStartEvent( handle, isBind );\r\n    handle[ bindMethod ]( 'click', this );\r\n    // touch-action: none to override browser touch gestures\r\n    // metafizzy/flickity#540\r\n    if ( window.PointerEvent ) {\r\n      handle.style.touchAction = isBind ? this._touchActionValue : '';\r\n    }\r\n  }\r\n};\r\n\r\n// prototype so it can be overwriteable by Flickity\r\nproto._touchActionValue = 'none';\r\n\r\n// ----- start event ----- //\r\n\r\n/**\r\n * pointer start\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n */\r\nproto.pointerDown = function( event, pointer ) {\r\n  // dismiss range sliders\r\n  if ( event.target.nodeName == 'INPUT' && event.target.type == 'range' ) {\r\n    // reset pointerDown logic\r\n    this.isPointerDown = false;\r\n    delete this.pointerIdentifier;\r\n    return;\r\n  }\r\n\r\n  this._dragPointerDown( event, pointer );\r\n  // kludge to blur focused inputs in dragger\r\n  var focused = document.activeElement;\r\n  if ( focused && focused.blur ) {\r\n    focused.blur();\r\n  }\r\n  // bind move and end events\r\n  this._bindPostStartEvents( event );\r\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\r\n};\r\n\r\n// base pointer down logic\r\nproto._dragPointerDown = function( event, pointer ) {\r\n  // track to see when dragging starts\r\n  this.pointerDownPoint = Unipointer.getPointerPoint( pointer );\r\n\r\n  var canPreventDefault = this.canPreventDefaultOnPointerDown( event, pointer );\r\n  if ( canPreventDefault ) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\n// overwriteable method so Flickity can prevent for scrolling\r\nproto.canPreventDefaultOnPointerDown = function( event ) {\r\n  // prevent default, unless touchstart or <select>\r\n  return event.target.nodeName != 'SELECT';\r\n};\r\n\r\n// ----- move event ----- //\r\n\r\n/**\r\n * drag move\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n */\r\nproto.pointerMove = function( event, pointer ) {\r\n  var moveVector = this._dragPointerMove( event, pointer );\r\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\r\n  this._dragMove( event, pointer, moveVector );\r\n};\r\n\r\n// base pointer move logic\r\nproto._dragPointerMove = function( event, pointer ) {\r\n  var movePoint = Unipointer.getPointerPoint( pointer );\r\n  var moveVector = {\r\n    x: movePoint.x - this.pointerDownPoint.x,\r\n    y: movePoint.y - this.pointerDownPoint.y\r\n  };\r\n  // start drag if pointer has moved far enough to start drag\r\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\r\n    this._dragStart( event, pointer );\r\n  }\r\n  return moveVector;\r\n};\r\n\r\n// condition if pointer has moved far enough to start drag\r\nproto.hasDragStarted = function( moveVector ) {\r\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\r\n};\r\n\r\n\r\n// ----- end event ----- //\r\n\r\n/**\r\n * pointer up\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n */\r\nproto.pointerUp = function( event, pointer ) {\r\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\r\n  this._dragPointerUp( event, pointer );\r\n};\r\n\r\nproto._dragPointerUp = function( event, pointer ) {\r\n  if ( this.isDragging ) {\r\n    this._dragEnd( event, pointer );\r\n  } else {\r\n    // pointer didn't move enough for drag to start\r\n    this._staticClick( event, pointer );\r\n  }\r\n};\r\n\r\n// -------------------------- drag -------------------------- //\r\n\r\n// dragStart\r\nproto._dragStart = function( event, pointer ) {\r\n  this.isDragging = true;\r\n  this.dragStartPoint = Unipointer.getPointerPoint( pointer );\r\n  // prevent clicks\r\n  this.isPreventingClicks = true;\r\n\r\n  this.dragStart( event, pointer );\r\n};\r\n\r\nproto.dragStart = function( event, pointer ) {\r\n  this.emitEvent( 'dragStart', [ event, pointer ] );\r\n};\r\n\r\n// dragMove\r\nproto._dragMove = function( event, pointer, moveVector ) {\r\n  // do not drag if not dragging yet\r\n  if ( !this.isDragging ) {\r\n    return;\r\n  }\r\n\r\n  this.dragMove( event, pointer, moveVector );\r\n};\r\n\r\nproto.dragMove = function( event, pointer, moveVector ) {\r\n  event.preventDefault();\r\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\r\n};\r\n\r\n// dragEnd\r\nproto._dragEnd = function( event, pointer ) {\r\n  // set flags\r\n  this.isDragging = false;\r\n  // re-enable clicking async\r\n  setTimeout( function() {\r\n    delete this.isPreventingClicks;\r\n  }.bind( this ) );\r\n\r\n  this.dragEnd( event, pointer );\r\n};\r\n\r\nproto.dragEnd = function( event, pointer ) {\r\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\r\n};\r\n\r\n// ----- onclick ----- //\r\n\r\n// handle all clicks and prevent clicks when dragging\r\nproto.onclick = function( event ) {\r\n  if ( this.isPreventingClicks ) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\n// ----- staticClick ----- //\r\n\r\n// triggered after pointer down & up with no/tiny movement\r\nproto._staticClick = function( event, pointer ) {\r\n  // ignore emulated mouse up clicks\r\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\r\n    return;\r\n  }\r\n\r\n  // allow click in <input>s and <textarea>s\r\n  var nodeName = event.target.nodeName;\r\n  if ( nodeName == 'INPUT' || nodeName == 'TEXTAREA' ) {\r\n    event.target.focus();\r\n  }\r\n  this.staticClick( event, pointer );\r\n\r\n  // set flag for emulated clicks 300ms after touchend\r\n  if ( event.type != 'mouseup' ) {\r\n    this.isIgnoringMouseUp = true;\r\n    // reset flag after 300ms\r\n    setTimeout( function() {\r\n      delete this.isIgnoringMouseUp;\r\n    }.bind( this ), 400 );\r\n  }\r\n};\r\n\r\nproto.staticClick = function( event, pointer ) {\r\n  this.emitEvent( 'staticClick', [ event, pointer ] );\r\n};\r\n\r\n// ----- utils ----- //\r\n\r\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\r\n\r\n// -----  ----- //\r\n\r\nreturn Unidragger;\r\n\r\n}));\r\n\r\n// drag\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/drag',[\r\n      './flickity',\r\n      'unidragger/unidragger',\r\n      'fizzy-ui-utils/utils'\r\n    ], function( Flickity, Unidragger, utils ) {\r\n      return factory( window, Flickity, Unidragger, utils );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('./flickity'),\r\n      require('unidragger'),\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Flickity = factory(\r\n      window,\r\n      window.Flickity,\r\n      window.Unidragger,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Flickity, Unidragger, utils ) {\r\n\r\n\r\n\r\n// ----- defaults ----- //\r\n\r\nutils.extend( Flickity.defaults, {\r\n  draggable: true,\r\n  dragThreshold: 3,\r\n});\r\n\r\n// ----- create ----- //\r\n\r\nFlickity.createMethods.push('_createDrag');\r\n\r\n// -------------------------- drag prototype -------------------------- //\r\n\r\nvar proto = Flickity.prototype;\r\nutils.extend( proto, Unidragger.prototype );\r\nproto._touchActionValue = 'pan-y';\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nvar isTouch = 'createTouch' in document;\r\nvar isTouchmoveScrollCanceled = false;\r\n\r\nproto._createDrag = function() {\r\n  this.on( 'activate', this.bindDrag );\r\n  this.on( 'uiChange', this._uiChangeDrag );\r\n  this.on( 'childUIPointerDown', this._childUIPointerDownDrag );\r\n  this.on( 'deactivate', this.unbindDrag );\r\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\r\n  // #457, RubaXa/Sortable#973\r\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\r\n    window.addEventListener( 'touchmove', function() {});\r\n    isTouchmoveScrollCanceled = true;\r\n  }\r\n};\r\n\r\nproto.bindDrag = function() {\r\n  if ( !this.options.draggable || this.isDragBound ) {\r\n    return;\r\n  }\r\n  this.element.classList.add('is-draggable');\r\n  this.handles = [ this.viewport ];\r\n  this.bindHandles();\r\n  this.isDragBound = true;\r\n};\r\n\r\nproto.unbindDrag = function() {\r\n  if ( !this.isDragBound ) {\r\n    return;\r\n  }\r\n  this.element.classList.remove('is-draggable');\r\n  this.unbindHandles();\r\n  delete this.isDragBound;\r\n};\r\n\r\nproto._uiChangeDrag = function() {\r\n  delete this.isFreeScrolling;\r\n};\r\n\r\nproto._childUIPointerDownDrag = function( event ) {\r\n  event.preventDefault();\r\n  this.pointerDownFocus( event );\r\n};\r\n\r\n// -------------------------- pointer events -------------------------- //\r\n\r\n// nodes that have text fields\r\nvar cursorNodes = {\r\n  TEXTAREA: true,\r\n  INPUT: true,\r\n  OPTION: true,\r\n};\r\n\r\n// input types that do not have text fields\r\nvar clickTypes = {\r\n  radio: true,\r\n  checkbox: true,\r\n  button: true,\r\n  submit: true,\r\n  image: true,\r\n  file: true,\r\n};\r\n\r\nproto.pointerDown = function( event, pointer ) {\r\n  // dismiss inputs with text fields. #403, #404\r\n  var isCursorInput = cursorNodes[ event.target.nodeName ] &&\r\n    !clickTypes[ event.target.type ];\r\n  if ( isCursorInput ) {\r\n    // reset pointerDown logic\r\n    this.isPointerDown = false;\r\n    delete this.pointerIdentifier;\r\n    return;\r\n  }\r\n\r\n  this._dragPointerDown( event, pointer );\r\n\r\n  // kludge to blur focused inputs in dragger\r\n  var focused = document.activeElement;\r\n  if ( focused && focused.blur && focused != this.element &&\r\n    // do not blur body for IE9 & 10, #117\r\n    focused != document.body ) {\r\n    focused.blur();\r\n  }\r\n  this.pointerDownFocus( event );\r\n  // stop if it was moving\r\n  this.dragX = this.x;\r\n  this.viewport.classList.add('is-pointer-down');\r\n  // bind move and end events\r\n  this._bindPostStartEvents( event );\r\n  // track scrolling\r\n  this.pointerDownScroll = getScrollPosition();\r\n  window.addEventListener( 'scroll', this );\r\n\r\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\r\n};\r\n\r\nproto.pointerDownFocus = function( event ) {\r\n  // focus element, if not touch, and its not an input or select\r\n  var canPointerDown = getCanPointerDown( event );\r\n  if ( !this.options.accessibility || canPointerDown ) {\r\n    return;\r\n  }\r\n  var prevScrollY = window.pageYOffset;\r\n  this.element.focus();\r\n  // hack to fix scroll jump after focus, #76\r\n  if ( window.pageYOffset != prevScrollY ) {\r\n    window.scrollTo( window.pageXOffset, prevScrollY );\r\n  }\r\n};\r\n\r\nvar focusNodes = {\r\n  INPUT: true,\r\n  SELECT: true,\r\n};\r\n\r\nfunction getCanPointerDown( event ) {\r\n  var isTouchStart = event.type == 'touchstart';\r\n  var isTouchPointer = event.pointerType == 'touch';\r\n  var isFocusNode = focusNodes[ event.target.nodeName ];\r\n  return isTouchStart || isTouchPointer || isFocusNode;\r\n}\r\n\r\nproto.canPreventDefaultOnPointerDown = function( event ) {\r\n  // prevent default, unless touchstart or input\r\n  var canPointerDown = getCanPointerDown( event );\r\n  return !canPointerDown;\r\n};\r\n\r\n// ----- move ----- //\r\n\r\nproto.hasDragStarted = function( moveVector ) {\r\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\r\n};\r\n\r\n// ----- up ----- //\r\n\r\nproto.pointerUp = function( event, pointer ) {\r\n  delete this.isTouchScrolling;\r\n  this.viewport.classList.remove('is-pointer-down');\r\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\r\n  this._dragPointerUp( event, pointer );\r\n};\r\n\r\nproto.pointerDone = function() {\r\n  window.removeEventListener( 'scroll', this );\r\n  delete this.pointerDownScroll;\r\n};\r\n\r\n// -------------------------- dragging -------------------------- //\r\n\r\nproto.dragStart = function( event, pointer ) {\r\n  this.dragStartPosition = this.x;\r\n  this.startAnimation();\r\n  window.removeEventListener( 'scroll', this );\r\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\r\n};\r\n\r\nproto.pointerMove = function( event, pointer ) {\r\n  var moveVector = this._dragPointerMove( event, pointer );\r\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\r\n  this._dragMove( event, pointer, moveVector );\r\n};\r\n\r\nproto.dragMove = function( event, pointer, moveVector ) {\r\n  event.preventDefault();\r\n\r\n  this.previousDragX = this.dragX;\r\n  // reverse if right-to-left\r\n  var direction = this.options.rightToLeft ? -1 : 1;\r\n  var dragX = this.dragStartPosition + moveVector.x * direction;\r\n\r\n  if ( !this.options.wrapAround && this.slides.length ) {\r\n    // slow drag\r\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\r\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\r\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\r\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\r\n  }\r\n\r\n  this.dragX = dragX;\r\n\r\n  this.dragMoveTime = new Date();\r\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\r\n};\r\n\r\nproto.dragEnd = function( event, pointer ) {\r\n  if ( this.options.freeScroll ) {\r\n    this.isFreeScrolling = true;\r\n  }\r\n  // set selectedIndex based on where flick will end up\r\n  var index = this.dragEndRestingSelect();\r\n\r\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\r\n    // if free-scroll & not wrap around\r\n    // do not free-scroll if going outside of bounding slides\r\n    // so bounding slides can attract slider, and keep it in bounds\r\n    var restingX = this.getRestingPosition();\r\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\r\n      -restingX < this.getLastSlide().target;\r\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\r\n    // boost selection if selected index has not changed\r\n    index += this.dragEndBoostSelect();\r\n  }\r\n  delete this.previousDragX;\r\n  // apply selection\r\n  // TODO refactor this, selecting here feels weird\r\n  // HACK, set flag so dragging stays in correct direction\r\n  this.isDragSelect = this.options.wrapAround;\r\n  this.select( index );\r\n  delete this.isDragSelect;\r\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\r\n};\r\n\r\nproto.dragEndRestingSelect = function() {\r\n  var restingX = this.getRestingPosition();\r\n  // how far away from selected slide\r\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\r\n  // get closet resting going up and going down\r\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\r\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\r\n  // use closer resting for wrap-around\r\n  var index = positiveResting.distance < negativeResting.distance ?\r\n    positiveResting.index : negativeResting.index;\r\n  return index;\r\n};\r\n\r\n/**\r\n * given resting X and distance to selected cell\r\n * get the distance and index of the closest cell\r\n * @param {Number} restingX - estimated post-flick resting position\r\n * @param {Number} distance - distance to selected cell\r\n * @param {Integer} increment - +1 or -1, going up or down\r\n * @returns {Object} - { distance: {Number}, index: {Integer} }\r\n */\r\nproto._getClosestResting = function( restingX, distance, increment ) {\r\n  var index = this.selectedIndex;\r\n  var minDistance = Infinity;\r\n  var condition = this.options.contain && !this.options.wrapAround ?\r\n    // if contain, keep going if distance is equal to minDistance\r\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\r\n  while ( condition( distance, minDistance ) ) {\r\n    // measure distance to next cell\r\n    index += increment;\r\n    minDistance = distance;\r\n    distance = this.getSlideDistance( -restingX, index );\r\n    if ( distance === null ) {\r\n      break;\r\n    }\r\n    distance = Math.abs( distance );\r\n  }\r\n  return {\r\n    distance: minDistance,\r\n    // selected was previous index\r\n    index: index - increment\r\n  };\r\n};\r\n\r\n/**\r\n * measure distance between x and a slide target\r\n * @param {Number} x\r\n * @param {Integer} index - slide index\r\n */\r\nproto.getSlideDistance = function( x, index ) {\r\n  var len = this.slides.length;\r\n  // wrap around if at least 2 slides\r\n  var isWrapAround = this.options.wrapAround && len > 1;\r\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\r\n  var slide = this.slides[ slideIndex ];\r\n  if ( !slide ) {\r\n    return null;\r\n  }\r\n  // add distance for wrap-around slides\r\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\r\n  return x - ( slide.target + wrap );\r\n};\r\n\r\nproto.dragEndBoostSelect = function() {\r\n  // do not boost if no previousDragX or dragMoveTime\r\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\r\n    // or if drag was held for 100 ms\r\n    new Date() - this.dragMoveTime > 100 ) {\r\n    return 0;\r\n  }\r\n\r\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\r\n  var delta = this.previousDragX - this.dragX;\r\n  if ( distance > 0 && delta > 0 ) {\r\n    // boost to next if moving towards the right, and positive velocity\r\n    return 1;\r\n  } else if ( distance < 0 && delta < 0 ) {\r\n    // boost to previous if moving towards the left, and negative velocity\r\n    return -1;\r\n  }\r\n  return 0;\r\n};\r\n\r\n// ----- staticClick ----- //\r\n\r\nproto.staticClick = function( event, pointer ) {\r\n  // get clickedCell, if cell was clicked\r\n  var clickedCell = this.getParentCell( event.target );\r\n  var cellElem = clickedCell && clickedCell.element;\r\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\r\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\r\n};\r\n\r\n// ----- scroll ----- //\r\n\r\nproto.onscroll = function() {\r\n  var scroll = getScrollPosition();\r\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\r\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\r\n  // cancel click/tap if scroll is too much\r\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\r\n    this._pointerDone();\r\n  }\r\n};\r\n\r\n// ----- utils ----- //\r\n\r\nfunction getScrollPosition() {\r\n  return {\r\n    x: window.pageXOffset,\r\n    y: window.pageYOffset\r\n  };\r\n}\r\n\r\n// -----  ----- //\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n/*!\r\n * Tap listener v2.0.0\r\n * listens to taps\r\n * MIT license\r\n */\r\n\r\n/*jshint browser: true, unused: true, undef: true, strict: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false*/ /*globals define, module, require */\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'tap-listener/tap-listener',[\r\n      'unipointer/unipointer'\r\n    ], function( Unipointer ) {\r\n      return factory( window, Unipointer );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('unipointer')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.TapListener = factory(\r\n      window,\r\n      window.Unipointer\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Unipointer ) {\r\n\r\n\r\n\r\n// --------------------------  TapListener -------------------------- //\r\n\r\nfunction TapListener( elem ) {\r\n  this.bindTap( elem );\r\n}\r\n\r\n// inherit Unipointer & EventEmitter\r\nvar proto = TapListener.prototype = Object.create( Unipointer.prototype );\r\n\r\n/**\r\n * bind tap event to element\r\n * @param {Element} elem\r\n */\r\nproto.bindTap = function( elem ) {\r\n  if ( !elem ) {\r\n    return;\r\n  }\r\n  this.unbindTap();\r\n  this.tapElement = elem;\r\n  this._bindStartEvent( elem, true );\r\n};\r\n\r\nproto.unbindTap = function() {\r\n  if ( !this.tapElement ) {\r\n    return;\r\n  }\r\n  this._bindStartEvent( this.tapElement, true );\r\n  delete this.tapElement;\r\n};\r\n\r\n/**\r\n * pointer up\r\n * @param {Event} event\r\n * @param {Event or Touch} pointer\r\n */\r\nproto.pointerUp = function( event, pointer ) {\r\n  // ignore emulated mouse up clicks\r\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\r\n    return;\r\n  }\r\n\r\n  var pointerPoint = Unipointer.getPointerPoint( pointer );\r\n  var boundingRect = this.tapElement.getBoundingClientRect();\r\n  var scrollX = window.pageXOffset;\r\n  var scrollY = window.pageYOffset;\r\n  // calculate if pointer is inside tapElement\r\n  var isInside = pointerPoint.x >= boundingRect.left + scrollX &&\r\n    pointerPoint.x <= boundingRect.right + scrollX &&\r\n    pointerPoint.y >= boundingRect.top + scrollY &&\r\n    pointerPoint.y <= boundingRect.bottom + scrollY;\r\n  // trigger callback if pointer is inside element\r\n  if ( isInside ) {\r\n    this.emitEvent( 'tap', [ event, pointer ] );\r\n  }\r\n\r\n  // set flag for emulated clicks 300ms after touchend\r\n  if ( event.type != 'mouseup' ) {\r\n    this.isIgnoringMouseUp = true;\r\n    // reset flag after 300ms\r\n    var _this = this;\r\n    setTimeout( function() {\r\n      delete _this.isIgnoringMouseUp;\r\n    }, 400 );\r\n  }\r\n};\r\n\r\nproto.destroy = function() {\r\n  this.pointerDone();\r\n  this.unbindTap();\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn TapListener;\r\n\r\n}));\r\n\r\n// prev/next buttons\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/prev-next-button',[\r\n      './flickity',\r\n      'tap-listener/tap-listener',\r\n      'fizzy-ui-utils/utils'\r\n    ], function( Flickity, TapListener, utils ) {\r\n      return factory( window, Flickity, TapListener, utils );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('./flickity'),\r\n      require('tap-listener'),\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window,\r\n      window.Flickity,\r\n      window.TapListener,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Flickity, TapListener, utils ) {\r\n'use strict';\r\n\r\nvar svgURI = 'http://www.w3.org/2000/svg';\r\n\r\n// -------------------------- PrevNextButton -------------------------- //\r\n\r\nfunction PrevNextButton( direction, parent ) {\r\n  this.direction = direction;\r\n  this.parent = parent;\r\n  this._create();\r\n}\r\n\r\nPrevNextButton.prototype = new TapListener();\r\n\r\nPrevNextButton.prototype._create = function() {\r\n  // properties\r\n  this.isEnabled = true;\r\n  this.isPrevious = this.direction == -1;\r\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\r\n  this.isLeft = this.direction == leftDirection;\r\n\r\n  var element = this.element = document.createElement('button');\r\n  element.className = 'flickity-prev-next-button';\r\n  element.className += this.isPrevious ? ' previous' : ' next';\r\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\r\n  element.setAttribute( 'type', 'button' );\r\n  // init as disabled\r\n  this.disable();\r\n\r\n  element.setAttribute( 'aria-label', this.isPrevious ? 'previous' : 'next' );\r\n\r\n  // create arrow\r\n  var svg = this.createSVG();\r\n  element.appendChild( svg );\r\n  // events\r\n  this.on( 'tap', this.onTap );\r\n  this.parent.on( 'select', this.update.bind( this ) );\r\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\r\n};\r\n\r\nPrevNextButton.prototype.activate = function() {\r\n  this.bindTap( this.element );\r\n  // click events from keyboard\r\n  this.element.addEventListener( 'click', this );\r\n  // add to DOM\r\n  this.parent.element.appendChild( this.element );\r\n};\r\n\r\nPrevNextButton.prototype.deactivate = function() {\r\n  // remove from DOM\r\n  this.parent.element.removeChild( this.element );\r\n  // do regular TapListener destroy\r\n  TapListener.prototype.destroy.call( this );\r\n  // click events from keyboard\r\n  this.element.removeEventListener( 'click', this );\r\n};\r\n\r\nPrevNextButton.prototype.createSVG = function() {\r\n  var svg = document.createElementNS( svgURI, 'svg');\r\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\r\n  var path = document.createElementNS( svgURI, 'path');\r\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\r\n  path.setAttribute( 'd', pathMovements );\r\n  path.setAttribute( 'class', 'arrow' );\r\n  // rotate arrow\r\n  if ( !this.isLeft ) {\r\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\r\n  }\r\n  svg.appendChild( path );\r\n  return svg;\r\n};\r\n\r\n// get SVG path movmement\r\nfunction getArrowMovements( shape ) {\r\n  // use shape as movement if string\r\n  if ( typeof shape == 'string' ) {\r\n    return shape;\r\n  }\r\n  // create movement string\r\n  return 'M ' + shape.x0 + ',50' +\r\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\r\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\r\n    ' L ' + shape.x3 + ',50 ' +\r\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\r\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\r\n    ' Z';\r\n}\r\n\r\nPrevNextButton.prototype.onTap = function() {\r\n  if ( !this.isEnabled ) {\r\n    return;\r\n  }\r\n  this.parent.uiChange();\r\n  var method = this.isPrevious ? 'previous' : 'next';\r\n  this.parent[ method ]();\r\n};\r\n\r\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\r\n\r\nPrevNextButton.prototype.onclick = function() {\r\n  // only allow clicks from keyboard\r\n  var focused = document.activeElement;\r\n  if ( focused && focused == this.element ) {\r\n    this.onTap();\r\n  }\r\n};\r\n\r\n// -----  ----- //\r\n\r\nPrevNextButton.prototype.enable = function() {\r\n  if ( this.isEnabled ) {\r\n    return;\r\n  }\r\n  this.element.disabled = false;\r\n  this.isEnabled = true;\r\n};\r\n\r\nPrevNextButton.prototype.disable = function() {\r\n  if ( !this.isEnabled ) {\r\n    return;\r\n  }\r\n  this.element.disabled = true;\r\n  this.isEnabled = false;\r\n};\r\n\r\nPrevNextButton.prototype.update = function() {\r\n  // index of first or last slide, if previous or next\r\n  var slides = this.parent.slides;\r\n  // enable is wrapAround and at least 2 slides\r\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\r\n    this.enable();\r\n    return;\r\n  }\r\n  var lastIndex = slides.length ? slides.length - 1 : 0;\r\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\r\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\r\n  this[ method ]();\r\n};\r\n\r\nPrevNextButton.prototype.destroy = function() {\r\n  this.deactivate();\r\n};\r\n\r\n// -------------------------- Flickity prototype -------------------------- //\r\n\r\nutils.extend( Flickity.defaults, {\r\n  prevNextButtons: true,\r\n  arrowShape: {\r\n    x0: 10,\r\n    x1: 60, y1: 50,\r\n    x2: 70, y2: 40,\r\n    x3: 30\r\n  }\r\n});\r\n\r\nFlickity.createMethods.push('_createPrevNextButtons');\r\nvar proto = Flickity.prototype;\r\n\r\nproto._createPrevNextButtons = function() {\r\n  if ( !this.options.prevNextButtons ) {\r\n    return;\r\n  }\r\n\r\n  this.prevButton = new PrevNextButton( -1, this );\r\n  this.nextButton = new PrevNextButton( 1, this );\r\n\r\n  this.on( 'activate', this.activatePrevNextButtons );\r\n};\r\n\r\nproto.activatePrevNextButtons = function() {\r\n  this.prevButton.activate();\r\n  this.nextButton.activate();\r\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\r\n};\r\n\r\nproto.deactivatePrevNextButtons = function() {\r\n  this.prevButton.deactivate();\r\n  this.nextButton.deactivate();\r\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\r\n};\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nFlickity.PrevNextButton = PrevNextButton;\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n// page dots\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/page-dots',[\r\n      './flickity',\r\n      'tap-listener/tap-listener',\r\n      'fizzy-ui-utils/utils'\r\n    ], function( Flickity, TapListener, utils ) {\r\n      return factory( window, Flickity, TapListener, utils );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('./flickity'),\r\n      require('tap-listener'),\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window,\r\n      window.Flickity,\r\n      window.TapListener,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Flickity, TapListener, utils ) {\r\n\r\n// -------------------------- PageDots -------------------------- //\r\n\r\n\r\n\r\nfunction PageDots( parent ) {\r\n  this.parent = parent;\r\n  this._create();\r\n}\r\n\r\nPageDots.prototype = new TapListener();\r\n\r\nPageDots.prototype._create = function() {\r\n  // create holder element\r\n  this.holder = document.createElement('ol');\r\n  this.holder.className = 'flickity-page-dots';\r\n  // create dots, array of elements\r\n  this.dots = [];\r\n  // events\r\n  this.on( 'tap', this.onTap );\r\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\r\n};\r\n\r\nPageDots.prototype.activate = function() {\r\n  this.setDots();\r\n  this.bindTap( this.holder );\r\n  // add to DOM\r\n  this.parent.element.appendChild( this.holder );\r\n};\r\n\r\nPageDots.prototype.deactivate = function() {\r\n  // remove from DOM\r\n  this.parent.element.removeChild( this.holder );\r\n  TapListener.prototype.destroy.call( this );\r\n};\r\n\r\nPageDots.prototype.setDots = function() {\r\n  // get difference between number of slides and number of dots\r\n  var delta = this.parent.slides.length - this.dots.length;\r\n  if ( delta > 0 ) {\r\n    this.addDots( delta );\r\n  } else if ( delta < 0 ) {\r\n    this.removeDots( -delta );\r\n  }\r\n};\r\n\r\nPageDots.prototype.addDots = function( count ) {\r\n  var fragment = document.createDocumentFragment();\r\n  var newDots = [];\r\n  while ( count ) {\r\n    var dot = document.createElement('li');\r\n    dot.className = 'dot';\r\n    fragment.appendChild( dot );\r\n    newDots.push( dot );\r\n    count--;\r\n  }\r\n  this.holder.appendChild( fragment );\r\n  this.dots = this.dots.concat( newDots );\r\n};\r\n\r\nPageDots.prototype.removeDots = function( count ) {\r\n  // remove from this.dots collection\r\n  var removeDots = this.dots.splice( this.dots.length - count, count );\r\n  // remove from DOM\r\n  removeDots.forEach( function( dot ) {\r\n    this.holder.removeChild( dot );\r\n  }, this );\r\n};\r\n\r\nPageDots.prototype.updateSelected = function() {\r\n  // remove selected class on previous\r\n  if ( this.selectedDot ) {\r\n    this.selectedDot.className = 'dot';\r\n  }\r\n  // don't proceed if no dots\r\n  if ( !this.dots.length ) {\r\n    return;\r\n  }\r\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\r\n  this.selectedDot.className = 'dot is-selected';\r\n};\r\n\r\nPageDots.prototype.onTap = function( event ) {\r\n  var target = event.target;\r\n  // only care about dot clicks\r\n  if ( target.nodeName != 'LI' ) {\r\n    return;\r\n  }\r\n\r\n  this.parent.uiChange();\r\n  var index = this.dots.indexOf( target );\r\n  this.parent.select( index );\r\n};\r\n\r\nPageDots.prototype.destroy = function() {\r\n  this.deactivate();\r\n};\r\n\r\nFlickity.PageDots = PageDots;\r\n\r\n// -------------------------- Flickity -------------------------- //\r\n\r\nutils.extend( Flickity.defaults, {\r\n  pageDots: true\r\n});\r\n\r\nFlickity.createMethods.push('_createPageDots');\r\n\r\nvar proto = Flickity.prototype;\r\n\r\nproto._createPageDots = function() {\r\n  if ( !this.options.pageDots ) {\r\n    return;\r\n  }\r\n  this.pageDots = new PageDots( this );\r\n  // events\r\n  this.on( 'activate', this.activatePageDots );\r\n  this.on( 'select', this.updateSelectedPageDots );\r\n  this.on( 'cellChange', this.updatePageDots );\r\n  this.on( 'resize', this.updatePageDots );\r\n  this.on( 'deactivate', this.deactivatePageDots );\r\n};\r\n\r\nproto.activatePageDots = function() {\r\n  this.pageDots.activate();\r\n};\r\n\r\nproto.updateSelectedPageDots = function() {\r\n  this.pageDots.updateSelected();\r\n};\r\n\r\nproto.updatePageDots = function() {\r\n  this.pageDots.setDots();\r\n};\r\n\r\nproto.deactivatePageDots = function() {\r\n  this.pageDots.deactivate();\r\n};\r\n\r\n// -----  ----- //\r\n\r\nFlickity.PageDots = PageDots;\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n// player & autoPlay\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/player',[\r\n      'ev-emitter/ev-emitter',\r\n      'fizzy-ui-utils/utils',\r\n      './flickity'\r\n    ], function( EvEmitter, utils, Flickity ) {\r\n      return factory( EvEmitter, utils, Flickity );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('ev-emitter'),\r\n      require('fizzy-ui-utils'),\r\n      require('./flickity')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window.EvEmitter,\r\n      window.fizzyUIUtils,\r\n      window.Flickity\r\n    );\r\n  }\r\n\r\n}( window, function factory( EvEmitter, utils, Flickity ) {\r\n\r\n\r\n\r\n// -------------------------- Page Visibility -------------------------- //\r\n// https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API\r\n\r\nvar hiddenProperty, visibilityEvent;\r\nif ( 'hidden' in document ) {\r\n  hiddenProperty = 'hidden';\r\n  visibilityEvent = 'visibilitychange';\r\n} else if ( 'webkitHidden' in document ) {\r\n  hiddenProperty = 'webkitHidden';\r\n  visibilityEvent = 'webkitvisibilitychange';\r\n}\r\n\r\n// -------------------------- Player -------------------------- //\r\n\r\nfunction Player( parent ) {\r\n  this.parent = parent;\r\n  this.state = 'stopped';\r\n  // visibility change event handler\r\n  if ( visibilityEvent ) {\r\n    this.onVisibilityChange = function() {\r\n      this.visibilityChange();\r\n    }.bind( this );\r\n    this.onVisibilityPlay = function() {\r\n      this.visibilityPlay();\r\n    }.bind( this );\r\n  }\r\n}\r\n\r\nPlayer.prototype = Object.create( EvEmitter.prototype );\r\n\r\n// start play\r\nPlayer.prototype.play = function() {\r\n  if ( this.state == 'playing' ) {\r\n    return;\r\n  }\r\n  // do not play if page is hidden, start playing when page is visible\r\n  var isPageHidden = document[ hiddenProperty ];\r\n  if ( visibilityEvent && isPageHidden ) {\r\n    document.addEventListener( visibilityEvent, this.onVisibilityPlay );\r\n    return;\r\n  }\r\n\r\n  this.state = 'playing';\r\n  // listen to visibility change\r\n  if ( visibilityEvent ) {\r\n    document.addEventListener( visibilityEvent, this.onVisibilityChange );\r\n  }\r\n  // start ticking\r\n  this.tick();\r\n};\r\n\r\nPlayer.prototype.tick = function() {\r\n  // do not tick if not playing\r\n  if ( this.state != 'playing' ) {\r\n    return;\r\n  }\r\n\r\n  var time = this.parent.options.autoPlay;\r\n  // default to 3 seconds\r\n  time = typeof time == 'number' ? time : 3000;\r\n  var _this = this;\r\n  // HACK: reset ticks if stopped and started within interval\r\n  this.clear();\r\n  this.timeout = setTimeout( function() {\r\n    _this.parent.next( true );\r\n    _this.tick();\r\n  }, time );\r\n};\r\n\r\nPlayer.prototype.stop = function() {\r\n  this.state = 'stopped';\r\n  this.clear();\r\n  // remove visibility change event\r\n  if ( visibilityEvent ) {\r\n    document.removeEventListener( visibilityEvent, this.onVisibilityChange );\r\n  }\r\n};\r\n\r\nPlayer.prototype.clear = function() {\r\n  clearTimeout( this.timeout );\r\n};\r\n\r\nPlayer.prototype.pause = function() {\r\n  if ( this.state == 'playing' ) {\r\n    this.state = 'paused';\r\n    this.clear();\r\n  }\r\n};\r\n\r\nPlayer.prototype.unpause = function() {\r\n  // re-start play if paused\r\n  if ( this.state == 'paused' ) {\r\n    this.play();\r\n  }\r\n};\r\n\r\n// pause if page visibility is hidden, unpause if visible\r\nPlayer.prototype.visibilityChange = function() {\r\n  var isPageHidden = document[ hiddenProperty ];\r\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\r\n};\r\n\r\nPlayer.prototype.visibilityPlay = function() {\r\n  this.play();\r\n  document.removeEventListener( visibilityEvent, this.onVisibilityPlay );\r\n};\r\n\r\n// -------------------------- Flickity -------------------------- //\r\n\r\nutils.extend( Flickity.defaults, {\r\n  pauseAutoPlayOnHover: true\r\n});\r\n\r\nFlickity.createMethods.push('_createPlayer');\r\nvar proto = Flickity.prototype;\r\n\r\nproto._createPlayer = function() {\r\n  this.player = new Player( this );\r\n\r\n  this.on( 'activate', this.activatePlayer );\r\n  this.on( 'uiChange', this.stopPlayer );\r\n  this.on( 'pointerDown', this.stopPlayer );\r\n  this.on( 'deactivate', this.deactivatePlayer );\r\n};\r\n\r\nproto.activatePlayer = function() {\r\n  if ( !this.options.autoPlay ) {\r\n    return;\r\n  }\r\n  this.player.play();\r\n  this.element.addEventListener( 'mouseenter', this );\r\n};\r\n\r\n// Player API, don't hate the ... thanks I know where the door is\r\n\r\nproto.playPlayer = function() {\r\n  this.player.play();\r\n};\r\n\r\nproto.stopPlayer = function() {\r\n  this.player.stop();\r\n};\r\n\r\nproto.pausePlayer = function() {\r\n  this.player.pause();\r\n};\r\n\r\nproto.unpausePlayer = function() {\r\n  this.player.unpause();\r\n};\r\n\r\nproto.deactivatePlayer = function() {\r\n  this.player.stop();\r\n  this.element.removeEventListener( 'mouseenter', this );\r\n};\r\n\r\n// ----- mouseenter/leave ----- //\r\n\r\n// pause auto-play on hover\r\nproto.onmouseenter = function() {\r\n  if ( !this.options.pauseAutoPlayOnHover ) {\r\n    return;\r\n  }\r\n  this.player.pause();\r\n  this.element.addEventListener( 'mouseleave', this );\r\n};\r\n\r\n// resume auto-play on hover off\r\nproto.onmouseleave = function() {\r\n  this.player.unpause();\r\n  this.element.removeEventListener( 'mouseleave', this );\r\n};\r\n\r\n// -----  ----- //\r\n\r\nFlickity.Player = Player;\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n// add, remove cell\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/add-remove-cell',[\r\n      './flickity',\r\n      'fizzy-ui-utils/utils'\r\n    ], function( Flickity, utils ) {\r\n      return factory( window, Flickity, utils );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('./flickity'),\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window,\r\n      window.Flickity,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Flickity, utils ) {\r\n\r\n\r\n\r\n// append cells to a document fragment\r\nfunction getCellsFragment( cells ) {\r\n  var fragment = document.createDocumentFragment();\r\n  cells.forEach( function( cell ) {\r\n    fragment.appendChild( cell.element );\r\n  });\r\n  return fragment;\r\n}\r\n\r\n// -------------------------- add/remove cell prototype -------------------------- //\r\n\r\nvar proto = Flickity.prototype;\r\n\r\n/**\r\n * Insert, prepend, or append cells\r\n * @param {Element, Array, NodeList} elems\r\n * @param {Integer} index\r\n */\r\nproto.insert = function( elems, index ) {\r\n  var cells = this._makeCells( elems );\r\n  if ( !cells || !cells.length ) {\r\n    return;\r\n  }\r\n  var len = this.cells.length;\r\n  // default to append\r\n  index = index === undefined ? len : index;\r\n  // add cells with document fragment\r\n  var fragment = getCellsFragment( cells );\r\n  // append to slider\r\n  var isAppend = index == len;\r\n  if ( isAppend ) {\r\n    this.slider.appendChild( fragment );\r\n  } else {\r\n    var insertCellElement = this.cells[ index ].element;\r\n    this.slider.insertBefore( fragment, insertCellElement );\r\n  }\r\n  // add to this.cells\r\n  if ( index === 0 ) {\r\n    // prepend, add to start\r\n    this.cells = cells.concat( this.cells );\r\n  } else if ( isAppend ) {\r\n    // append, add to end\r\n    this.cells = this.cells.concat( cells );\r\n  } else {\r\n    // insert in this.cells\r\n    var endCells = this.cells.splice( index, len - index );\r\n    this.cells = this.cells.concat( cells ).concat( endCells );\r\n  }\r\n\r\n  this._sizeCells( cells );\r\n\r\n  var selectedIndexDelta = index > this.selectedIndex ? 0 : cells.length;\r\n  this._cellAddedRemoved( index, selectedIndexDelta );\r\n};\r\n\r\nproto.append = function( elems ) {\r\n  this.insert( elems, this.cells.length );\r\n};\r\n\r\nproto.prepend = function( elems ) {\r\n  this.insert( elems, 0 );\r\n};\r\n\r\n/**\r\n * Remove cells\r\n * @param {Element, Array, NodeList} elems\r\n */\r\nproto.remove = function( elems ) {\r\n  var cells = this.getCells( elems );\r\n  var selectedIndexDelta = 0;\r\n  var len = cells.length;\r\n  var i, cell;\r\n  // calculate selectedIndexDelta, easier if done in seperate loop\r\n  for ( i=0; i < len; i++ ) {\r\n    cell = cells[i];\r\n    var wasBefore = this.cells.indexOf( cell ) < this.selectedIndex;\r\n    selectedIndexDelta -= wasBefore ? 1 : 0;\r\n  }\r\n\r\n  for ( i=0; i < len; i++ ) {\r\n    cell = cells[i];\r\n    cell.remove();\r\n    // remove item from collection\r\n    utils.removeFrom( this.cells, cell );\r\n  }\r\n\r\n  if ( cells.length ) {\r\n    // update stuff\r\n    this._cellAddedRemoved( 0, selectedIndexDelta );\r\n  }\r\n};\r\n\r\n// updates when cells are added or removed\r\nproto._cellAddedRemoved = function( changedCellIndex, selectedIndexDelta ) {\r\n  // TODO this math isn't perfect with grouped slides\r\n  selectedIndexDelta = selectedIndexDelta || 0;\r\n  this.selectedIndex += selectedIndexDelta;\r\n  this.selectedIndex = Math.max( 0, Math.min( this.slides.length - 1, this.selectedIndex ) );\r\n\r\n  this.cellChange( changedCellIndex, true );\r\n  // backwards compatibility\r\n  this.emitEvent( 'cellAddedRemoved', [ changedCellIndex, selectedIndexDelta ] );\r\n};\r\n\r\n/**\r\n * logic to be run after a cell's size changes\r\n * @param {Element} elem - cell's element\r\n */\r\nproto.cellSizeChange = function( elem ) {\r\n  var cell = this.getCell( elem );\r\n  if ( !cell ) {\r\n    return;\r\n  }\r\n  cell.getSize();\r\n\r\n  var index = this.cells.indexOf( cell );\r\n  this.cellChange( index );\r\n};\r\n\r\n/**\r\n * logic any time a cell is changed: added, removed, or size changed\r\n * @param {Integer} changedCellIndex - index of the changed cell, optional\r\n */\r\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\r\n  var prevSlideableWidth = this.slideableWidth;\r\n  this._positionCells( changedCellIndex );\r\n  this._getWrapShiftCells();\r\n  this.setGallerySize();\r\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\r\n  // position slider\r\n  if ( this.options.freeScroll ) {\r\n    // shift x by change in slideableWidth\r\n    // TODO fix position shifts when prepending w/ freeScroll\r\n    var deltaX = prevSlideableWidth - this.slideableWidth;\r\n    this.x += deltaX * this.cellAlign;\r\n    this.positionSlider();\r\n  } else {\r\n    // do not position slider after lazy load\r\n    if ( isPositioningSlider ) {\r\n      this.positionSliderAtSelected();\r\n    }\r\n    this.select( this.selectedIndex );\r\n  }\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n// lazyload\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/lazyload',[\r\n      './flickity',\r\n      'fizzy-ui-utils/utils'\r\n    ], function( Flickity, utils ) {\r\n      return factory( window, Flickity, utils );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('./flickity'),\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    factory(\r\n      window,\r\n      window.Flickity,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Flickity, utils ) {\r\n'use strict';\r\n\r\nFlickity.createMethods.push('_createLazyload');\r\nvar proto = Flickity.prototype;\r\n\r\nproto._createLazyload = function() {\r\n  this.on( 'select', this.lazyLoad );\r\n};\r\n\r\nproto.lazyLoad = function() {\r\n  var lazyLoad = this.options.lazyLoad;\r\n  if ( !lazyLoad ) {\r\n    return;\r\n  }\r\n  // get adjacent cells, use lazyLoad option for adjacent count\r\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\r\n  var cellElems = this.getAdjacentCellElements( adjCount );\r\n  // get lazy images in those cells\r\n  var lazyImages = [];\r\n  cellElems.forEach( function( cellElem ) {\r\n    var lazyCellImages = getCellLazyImages( cellElem );\r\n    lazyImages = lazyImages.concat( lazyCellImages );\r\n  });\r\n  // load lazy images\r\n  lazyImages.forEach( function( img ) {\r\n    new LazyLoader( img, this );\r\n  }, this );\r\n};\r\n\r\nfunction getCellLazyImages( cellElem ) {\r\n  // check if cell element is lazy image\r\n  if ( cellElem.nodeName == 'IMG' &&\r\n    cellElem.getAttribute('data-flickity-lazyload') ) {\r\n    return [ cellElem ];\r\n  }\r\n  // select lazy images in cell\r\n  var imgs = cellElem.querySelectorAll('img[data-flickity-lazyload]');\r\n  return utils.makeArray( imgs );\r\n}\r\n\r\n// -------------------------- LazyLoader -------------------------- //\r\n\r\n/**\r\n * class to handle loading images\r\n */\r\nfunction LazyLoader( img, flickity ) {\r\n  this.img = img;\r\n  this.flickity = flickity;\r\n  this.load();\r\n}\r\n\r\nLazyLoader.prototype.handleEvent = utils.handleEvent;\r\n\r\nLazyLoader.prototype.load = function() {\r\n  this.img.addEventListener( 'load', this );\r\n  this.img.addEventListener( 'error', this );\r\n  // load image\r\n  this.img.src = this.img.getAttribute('data-flickity-lazyload');\r\n  // remove attr\r\n  this.img.removeAttribute('data-flickity-lazyload');\r\n};\r\n\r\nLazyLoader.prototype.onload = function( event ) {\r\n  this.complete( event, 'flickity-lazyloaded' );\r\n};\r\n\r\nLazyLoader.prototype.onerror = function( event ) {\r\n  this.complete( event, 'flickity-lazyerror' );\r\n};\r\n\r\nLazyLoader.prototype.complete = function( event, className ) {\r\n  // unbind events\r\n  this.img.removeEventListener( 'load', this );\r\n  this.img.removeEventListener( 'error', this );\r\n\r\n  var cell = this.flickity.getParentCell( this.img );\r\n  var cellElem = cell && cell.element;\r\n  this.flickity.cellSizeChange( cellElem );\r\n\r\n  this.img.classList.add( className );\r\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\r\n};\r\n\r\n// -----  ----- //\r\n\r\nFlickity.LazyLoader = LazyLoader;\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n/*!\r\n * Flickity v2.0.10\r\n * Touch, responsive, flickable carousels\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Flickity Commercial License for commercial use\r\n *\r\n * http://flickity.metafizzy.co\r\n * Copyright 2017 Metafizzy\r\n */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /* jshint strict: false */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity/js/index',[\r\n      './flickity',\r\n      './drag',\r\n      './prev-next-button',\r\n      './page-dots',\r\n      './player',\r\n      './add-remove-cell',\r\n      './lazyload'\r\n    ], factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('./flickity'),\r\n      require('./drag'),\r\n      require('./prev-next-button'),\r\n      require('./page-dots'),\r\n      require('./player'),\r\n      require('./add-remove-cell'),\r\n      require('./lazyload')\r\n    );\r\n  }\r\n\r\n})( window, function factory( Flickity ) {\r\n  /*jshint strict: false*/\r\n  return Flickity;\r\n});\r\n\r\n/*!\r\n * Flickity asNavFor v2.0.1\r\n * enable asNavFor for Flickity\r\n */\r\n\r\n/*jshint browser: true, undef: true, unused: true, strict: true*/\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'flickity-as-nav-for/as-nav-for',[\r\n      'flickity/js/index',\r\n      'fizzy-ui-utils/utils'\r\n    ], factory );\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      require('flickity'),\r\n      require('fizzy-ui-utils')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Flickity = factory(\r\n      window.Flickity,\r\n      window.fizzyUIUtils\r\n    );\r\n  }\r\n\r\n}( window, function factory( Flickity, utils ) {\r\n\r\n\r\n\r\n// -------------------------- asNavFor prototype -------------------------- //\r\n\r\n// Flickity.defaults.asNavFor = null;\r\n\r\nFlickity.createMethods.push('_createAsNavFor');\r\n\r\nvar proto = Flickity.prototype;\r\n\r\nproto._createAsNavFor = function() {\r\n  this.on( 'activate', this.activateAsNavFor );\r\n  this.on( 'deactivate', this.deactivateAsNavFor );\r\n  this.on( 'destroy', this.destroyAsNavFor );\r\n\r\n  var asNavForOption = this.options.asNavFor;\r\n  if ( !asNavForOption ) {\r\n    return;\r\n  }\r\n  // HACK do async, give time for other flickity to be initalized\r\n  var _this = this;\r\n  setTimeout( function initNavCompanion() {\r\n    _this.setNavCompanion( asNavForOption );\r\n  });\r\n};\r\n\r\nproto.setNavCompanion = function( elem ) {\r\n  elem = utils.getQueryElement( elem );\r\n  var companion = Flickity.data( elem );\r\n  // stop if no companion or companion is self\r\n  if ( !companion || companion == this ) {\r\n    return;\r\n  }\r\n\r\n  this.navCompanion = companion;\r\n  // companion select\r\n  var _this = this;\r\n  this.onNavCompanionSelect = function() {\r\n    _this.navCompanionSelect();\r\n  };\r\n  companion.on( 'select', this.onNavCompanionSelect );\r\n  // click\r\n  this.on( 'staticClick', this.onNavStaticClick );\r\n\r\n  this.navCompanionSelect( true );\r\n};\r\n\r\nproto.navCompanionSelect = function( isInstant ) {\r\n  if ( !this.navCompanion ) {\r\n    return;\r\n  }\r\n  // select slide that matches first cell of slide\r\n  var selectedCell = this.navCompanion.selectedCells[0];\r\n  var firstIndex = this.navCompanion.cells.indexOf( selectedCell );\r\n  var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\r\n  var selectIndex = Math.floor( lerp( firstIndex, lastIndex,\r\n    this.navCompanion.cellAlign ) );\r\n  this.selectCell( selectIndex, false, isInstant );\r\n  // set nav selected class\r\n  this.removeNavSelectedElements();\r\n  // stop if companion has more cells than this one\r\n  if ( selectIndex >= this.cells.length ) {\r\n    return;\r\n  }\r\n\r\n  var selectedCells = this.cells.slice( firstIndex, lastIndex + 1 );\r\n  this.navSelectedElements = selectedCells.map( function( cell ) {\r\n    return cell.element;\r\n  });\r\n  this.changeNavSelectedClass('add');\r\n};\r\n\r\nfunction lerp( a, b, t ) {\r\n  return ( b - a ) * t + a;\r\n}\r\n\r\nproto.changeNavSelectedClass = function( method ) {\r\n  this.navSelectedElements.forEach( function( navElem ) {\r\n    navElem.classList[ method ]('is-nav-selected');\r\n  });\r\n};\r\n\r\nproto.activateAsNavFor = function() {\r\n  this.navCompanionSelect( true );\r\n};\r\n\r\nproto.removeNavSelectedElements = function() {\r\n  if ( !this.navSelectedElements ) {\r\n    return;\r\n  }\r\n  this.changeNavSelectedClass('remove');\r\n  delete this.navSelectedElements;\r\n};\r\n\r\nproto.onNavStaticClick = function( event, pointer, cellElement, cellIndex ) {\r\n  if ( typeof cellIndex == 'number' ) {\r\n    this.navCompanion.selectCell( cellIndex );\r\n  }\r\n};\r\n\r\nproto.deactivateAsNavFor = function() {\r\n  this.removeNavSelectedElements();\r\n};\r\n\r\nproto.destroyAsNavFor = function() {\r\n  if ( !this.navCompanion ) {\r\n    return;\r\n  }\r\n  this.navCompanion.off( 'select', this.onNavCompanionSelect );\r\n  this.off( 'staticClick', this.onNavStaticClick );\r\n  delete this.navCompanion;\r\n};\r\n\r\n// -----  ----- //\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n/*!\r\n * imagesLoaded v4.1.3\r\n * JavaScript is all like \"You images are done yet or what?\"\r\n * MIT License\r\n */\r\n\r\n( function( window, factory ) { 'use strict';\r\n  // universal module definition\r\n\r\n  /*global define: false, module: false, require: false */\r\n\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( 'imagesloaded/imagesloaded',[\r\n      'ev-emitter/ev-emitter'\r\n    ], function( EvEmitter ) {\r\n      return factory( window, EvEmitter );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('ev-emitter')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.imagesLoaded = factory(\r\n      window,\r\n      window.EvEmitter\r\n    );\r\n  }\r\n\r\n})( typeof window !== 'undefined' ? window : this,\r\n\r\n// --------------------------  factory -------------------------- //\r\n\r\nfunction factory( window, EvEmitter ) {\r\n\r\n\r\n\r\nvar $ = window.jQuery;\r\nvar console = window.console;\r\n\r\n// -------------------------- helpers -------------------------- //\r\n\r\n// extend objects\r\nfunction extend( a, b ) {\r\n  for ( var prop in b ) {\r\n    a[ prop ] = b[ prop ];\r\n  }\r\n  return a;\r\n}\r\n\r\n// turn element or nodeList into an array\r\nfunction makeArray( obj ) {\r\n  var ary = [];\r\n  if ( Array.isArray( obj ) ) {\r\n    // use object if already an array\r\n    ary = obj;\r\n  } else if ( typeof obj.length == 'number' ) {\r\n    // convert nodeList to array\r\n    for ( var i=0; i < obj.length; i++ ) {\r\n      ary.push( obj[i] );\r\n    }\r\n  } else {\r\n    // array of single index\r\n    ary.push( obj );\r\n  }\r\n  return ary;\r\n}\r\n\r\n// -------------------------- imagesLoaded -------------------------- //\r\n\r\n/**\r\n * @param {Array, Element, NodeList, String} elem\r\n * @param {Object or Function} options - if function, use as callback\r\n * @param {Function} onAlways - callback function\r\n */\r\nfunction ImagesLoaded( elem, options, onAlways ) {\r\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\r\n  if ( !( this instanceof ImagesLoaded ) ) {\r\n    return new ImagesLoaded( elem, options, onAlways );\r\n  }\r\n  // use elem as selector string\r\n  if ( typeof elem == 'string' ) {\r\n    elem = document.querySelectorAll( elem );\r\n  }\r\n\r\n  this.elements = makeArray( elem );\r\n  this.options = extend( {}, this.options );\r\n\r\n  if ( typeof options == 'function' ) {\r\n    onAlways = options;\r\n  } else {\r\n    extend( this.options, options );\r\n  }\r\n\r\n  if ( onAlways ) {\r\n    this.on( 'always', onAlways );\r\n  }\r\n\r\n  this.getImages();\r\n\r\n  if ( $ ) {\r\n    // add jQuery Deferred object\r\n    this.jqDeferred = new $.Deferred();\r\n  }\r\n\r\n  // HACK check async to allow time to bind listeners\r\n  setTimeout( function() {\r\n    this.check();\r\n  }.bind( this ));\r\n}\r\n\r\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\r\n\r\nImagesLoaded.prototype.options = {};\r\n\r\nImagesLoaded.prototype.getImages = function() {\r\n  this.images = [];\r\n\r\n  // filter & find items if we have an item selector\r\n  this.elements.forEach( this.addElementImages, this );\r\n};\r\n\r\n/**\r\n * @param {Node} element\r\n */\r\nImagesLoaded.prototype.addElementImages = function( elem ) {\r\n  // filter siblings\r\n  if ( elem.nodeName == 'IMG' ) {\r\n    this.addImage( elem );\r\n  }\r\n  // get background image on element\r\n  if ( this.options.background === true ) {\r\n    this.addElementBackgroundImages( elem );\r\n  }\r\n\r\n  // find children\r\n  // no non-element nodes, #143\r\n  var nodeType = elem.nodeType;\r\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\r\n    return;\r\n  }\r\n  var childImgs = elem.querySelectorAll('img');\r\n  // concat childElems to filterFound array\r\n  for ( var i=0; i < childImgs.length; i++ ) {\r\n    var img = childImgs[i];\r\n    this.addImage( img );\r\n  }\r\n\r\n  // get child background images\r\n  if ( typeof this.options.background == 'string' ) {\r\n    var children = elem.querySelectorAll( this.options.background );\r\n    for ( i=0; i < children.length; i++ ) {\r\n      var child = children[i];\r\n      this.addElementBackgroundImages( child );\r\n    }\r\n  }\r\n};\r\n\r\nvar elementNodeTypes = {\r\n  1: true,\r\n  9: true,\r\n  11: true\r\n};\r\n\r\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\r\n  var style = getComputedStyle( elem );\r\n  if ( !style ) {\r\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\r\n    return;\r\n  }\r\n  // get url inside url(\"...\")\r\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\r\n  var matches = reURL.exec( style.backgroundImage );\r\n  while ( matches !== null ) {\r\n    var url = matches && matches[2];\r\n    if ( url ) {\r\n      this.addBackground( url, elem );\r\n    }\r\n    matches = reURL.exec( style.backgroundImage );\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Image} img\r\n */\r\nImagesLoaded.prototype.addImage = function( img ) {\r\n  var loadingImage = new LoadingImage( img );\r\n  this.images.push( loadingImage );\r\n};\r\n\r\nImagesLoaded.prototype.addBackground = function( url, elem ) {\r\n  var background = new Background( url, elem );\r\n  this.images.push( background );\r\n};\r\n\r\nImagesLoaded.prototype.check = function() {\r\n  var _this = this;\r\n  this.progressedCount = 0;\r\n  this.hasAnyBroken = false;\r\n  // complete if no images\r\n  if ( !this.images.length ) {\r\n    this.complete();\r\n    return;\r\n  }\r\n\r\n  function onProgress( image, elem, message ) {\r\n    // HACK - Chrome triggers event before object properties have changed. #83\r\n    setTimeout( function() {\r\n      _this.progress( image, elem, message );\r\n    });\r\n  }\r\n\r\n  this.images.forEach( function( loadingImage ) {\r\n    loadingImage.once( 'progress', onProgress );\r\n    loadingImage.check();\r\n  });\r\n};\r\n\r\nImagesLoaded.prototype.progress = function( image, elem, message ) {\r\n  this.progressedCount++;\r\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\r\n  // progress event\r\n  this.emitEvent( 'progress', [ this, image, elem ] );\r\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\r\n    this.jqDeferred.notify( this, image );\r\n  }\r\n  // check if completed\r\n  if ( this.progressedCount == this.images.length ) {\r\n    this.complete();\r\n  }\r\n\r\n  if ( this.options.debug && console ) {\r\n    console.log( 'progress: ' + message, image, elem );\r\n  }\r\n};\r\n\r\nImagesLoaded.prototype.complete = function() {\r\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\r\n  this.isComplete = true;\r\n  this.emitEvent( eventName, [ this ] );\r\n  this.emitEvent( 'always', [ this ] );\r\n  if ( this.jqDeferred ) {\r\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\r\n    this.jqDeferred[ jqMethod ]( this );\r\n  }\r\n};\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nfunction LoadingImage( img ) {\r\n  this.img = img;\r\n}\r\n\r\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\r\n\r\nLoadingImage.prototype.check = function() {\r\n  // If complete is true and browser supports natural sizes,\r\n  // try to check for image status manually.\r\n  var isComplete = this.getIsImageComplete();\r\n  if ( isComplete ) {\r\n    // report based on naturalWidth\r\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\r\n    return;\r\n  }\r\n\r\n  // If none of the checks above matched, simulate loading on detached element.\r\n  this.proxyImage = new Image();\r\n  this.proxyImage.addEventListener( 'load', this );\r\n  this.proxyImage.addEventListener( 'error', this );\r\n  // bind to image as well for Firefox. #191\r\n  this.img.addEventListener( 'load', this );\r\n  this.img.addEventListener( 'error', this );\r\n  this.proxyImage.src = this.img.src;\r\n};\r\n\r\nLoadingImage.prototype.getIsImageComplete = function() {\r\n  return this.img.complete && this.img.naturalWidth !== undefined;\r\n};\r\n\r\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\r\n  this.isLoaded = isLoaded;\r\n  this.emitEvent( 'progress', [ this, this.img, message ] );\r\n};\r\n\r\n// ----- events ----- //\r\n\r\n// trigger specified handler for event type\r\nLoadingImage.prototype.handleEvent = function( event ) {\r\n  var method = 'on' + event.type;\r\n  if ( this[ method ] ) {\r\n    this[ method ]( event );\r\n  }\r\n};\r\n\r\nLoadingImage.prototype.onload = function() {\r\n  this.confirm( true, 'onload' );\r\n  this.unbindEvents();\r\n};\r\n\r\nLoadingImage.prototype.onerror = function() {\r\n  this.confirm( false, 'onerror' );\r\n  this.unbindEvents();\r\n};\r\n\r\nLoadingImage.prototype.unbindEvents = function() {\r\n  this.proxyImage.removeEventListener( 'load', this );\r\n  this.proxyImage.removeEventListener( 'error', this );\r\n  this.img.removeEventListener( 'load', this );\r\n  this.img.removeEventListener( 'error', this );\r\n};\r\n\r\n// -------------------------- Background -------------------------- //\r\n\r\nfunction Background( url, element ) {\r\n  this.url = url;\r\n  this.element = element;\r\n  this.img = new Image();\r\n}\r\n\r\n// inherit LoadingImage prototype\r\nBackground.prototype = Object.create( LoadingImage.prototype );\r\n\r\nBackground.prototype.check = function() {\r\n  this.img.addEventListener( 'load', this );\r\n  this.img.addEventListener( 'error', this );\r\n  this.img.src = this.url;\r\n  // check if image is already complete\r\n  var isComplete = this.getIsImageComplete();\r\n  if ( isComplete ) {\r\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\r\n    this.unbindEvents();\r\n  }\r\n};\r\n\r\nBackground.prototype.unbindEvents = function() {\r\n  this.img.removeEventListener( 'load', this );\r\n  this.img.removeEventListener( 'error', this );\r\n};\r\n\r\nBackground.prototype.confirm = function( isLoaded, message ) {\r\n  this.isLoaded = isLoaded;\r\n  this.emitEvent( 'progress', [ this, this.element, message ] );\r\n};\r\n\r\n// -------------------------- jQuery -------------------------- //\r\n\r\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\r\n  jQuery = jQuery || window.jQuery;\r\n  if ( !jQuery ) {\r\n    return;\r\n  }\r\n  // set local variable\r\n  $ = jQuery;\r\n  // $().imagesLoaded()\r\n  $.fn.imagesLoaded = function( options, callback ) {\r\n    var instance = new ImagesLoaded( this, options, callback );\r\n    return instance.jqDeferred.promise( $(this) );\r\n  };\r\n};\r\n// try making plugin\r\nImagesLoaded.makeJQueryPlugin();\r\n\r\n// --------------------------  -------------------------- //\r\n\r\nreturn ImagesLoaded;\r\n\r\n});\r\n\r\n/*!\r\n * Flickity imagesLoaded v2.0.0\r\n * enables imagesLoaded option for Flickity\r\n */\r\n\r\n/*jshint browser: true, strict: true, undef: true, unused: true */\r\n\r\n( function( window, factory ) {\r\n  // universal module definition\r\n  /*jshint strict: false */ /*globals define, module, require */\r\n  if ( typeof define == 'function' && define.amd ) {\r\n    // AMD\r\n    define( [\r\n      'flickity/js/index',\r\n      'imagesloaded/imagesloaded'\r\n    ], function( Flickity, imagesLoaded ) {\r\n      return factory( window, Flickity, imagesLoaded );\r\n    });\r\n  } else if ( typeof module == 'object' && module.exports ) {\r\n    // CommonJS\r\n    module.exports = factory(\r\n      window,\r\n      require('flickity'),\r\n      require('imagesloaded')\r\n    );\r\n  } else {\r\n    // browser global\r\n    window.Flickity = factory(\r\n      window,\r\n      window.Flickity,\r\n      window.imagesLoaded\r\n    );\r\n  }\r\n\r\n}( window, function factory( window, Flickity, imagesLoaded ) {\r\n'use strict';\r\n\r\nFlickity.createMethods.push('_createImagesLoaded');\r\n\r\nvar proto = Flickity.prototype;\r\n\r\nproto._createImagesLoaded = function() {\r\n  this.on( 'activate', this.imagesLoaded );\r\n};\r\n\r\nproto.imagesLoaded = function() {\r\n  if ( !this.options.imagesLoaded ) {\r\n    return;\r\n  }\r\n  var _this = this;\r\n  function onImagesLoadedProgress( instance, image ) {\r\n    var cell = _this.getParentCell( image.img );\r\n    _this.cellSizeChange( cell && cell.element );\r\n    if ( !_this.options.freeScroll ) {\r\n      _this.positionSliderAtSelected();\r\n    }\r\n  }\r\n  imagesLoaded( this.slider ).on( 'progress', onImagesLoadedProgress );\r\n};\r\n\r\nreturn Flickity;\r\n\r\n}));\r\n\r\n","/**\r\n * jquery.mask.js\r\n * @version: v1.14.12\r\n * @author: Igor Escobar\r\n *\r\n * Created by Igor Escobar on 2012-03-10. Please report any bug at http://blog.igorescobar.com\r\n *\r\n * Copyright (c) 2012 Igor Escobar http://blog.igorescobar.com\r\n *\r\n * The MIT License (http://www.opensource.org/licenses/mit-license.php)\r\n *\r\n * Permission is hereby granted, free of charge, to any person\r\n * obtaining a copy of this software and associated documentation\r\n * files (the \"Software\"), to deal in the Software without\r\n * restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n * OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/* jshint laxbreak: true */\r\n/* jshint maxcomplexity:17 */\r\n/* global define */\r\n\r\n'use strict';\r\n\r\n// UMD (Universal Module Definition) patterns for JavaScript modules that work everywhere.\r\n// https://github.com/umdjs/umd/blob/master/jqueryPluginCommonjs.js\r\n(function (factory, jQuery, Zepto) {\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        factory(jQuery || Zepto);\r\n    }\r\n\r\n}(function ($) {\r\n\r\n    var Mask = function (el, mask, options) {\r\n\r\n        var p = {\r\n            invalid: [],\r\n            getCaret: function () {\r\n                try {\r\n                    var sel,\r\n                        pos = 0,\r\n                        ctrl = el.get(0),\r\n                        dSel = document.selection,\r\n                        cSelStart = ctrl.selectionStart;\r\n\r\n                    // IE Support\r\n                    if (dSel && navigator.appVersion.indexOf('MSIE 10') === -1) {\r\n                        sel = dSel.createRange();\r\n                        sel.moveStart('character', -p.val().length);\r\n                        pos = sel.text.length;\r\n                    }\r\n                    // Firefox support\r\n                    else if (cSelStart || cSelStart === '0') {\r\n                        pos = cSelStart;\r\n                    }\r\n\r\n                    return pos;\r\n                } catch (e) {}\r\n            },\r\n            setCaret: function(pos) {\r\n                try {\r\n                    if (el.is(':focus')) {\r\n                        var range, ctrl = el.get(0);\r\n\r\n                        // Firefox, WebKit, etc..\r\n                        if (ctrl.setSelectionRange) {\r\n                            ctrl.setSelectionRange(pos, pos);\r\n                        } else { // IE\r\n                            range = ctrl.createTextRange();\r\n                            range.collapse(true);\r\n                            range.moveEnd('character', pos);\r\n                            range.moveStart('character', pos);\r\n                            range.select();\r\n                        }\r\n                    }\r\n                } catch (e) {}\r\n            },\r\n            events: function() {\r\n                el\r\n                .on('keydown.mask', function(e) {\r\n                    el.data('mask-keycode', e.keyCode || e.which);\r\n                    el.data('mask-previus-value', el.val());\r\n                    el.data('mask-previus-caret-pos', p.getCaret());\r\n                    p.maskDigitPosMapOld = p.maskDigitPosMap;\r\n                })\r\n                .on($.jMaskGlobals.useInput ? 'input.mask' : 'keyup.mask', p.behaviour)\r\n                .on('paste.mask drop.mask', function() {\r\n                    setTimeout(function() {\r\n                        el.keydown().keyup();\r\n                    }, 100);\r\n                })\r\n                .on('change.mask', function(){\r\n                    el.data('changed', true);\r\n                })\r\n                .on('blur.mask', function(){\r\n                    if (oldValue !== p.val() && !el.data('changed')) {\r\n                        el.trigger('change');\r\n                    }\r\n                    el.data('changed', false);\r\n                })\r\n                // it's very important that this callback remains in this position\r\n                // otherwhise oldValue it's going to work buggy\r\n                .on('blur.mask', function() {\r\n                    oldValue = p.val();\r\n                })\r\n                // select all text on focus\r\n                .on('focus.mask', function (e) {\r\n                    if (options.selectOnFocus === true) {\r\n                        $(e.target).select();\r\n                    }\r\n                })\r\n                // clear the value if it not complete the mask\r\n                .on('focusout.mask', function() {\r\n                    if (options.clearIfNotMatch && !regexMask.test(p.val())) {\r\n                       p.val('');\r\n                   }\r\n                });\r\n            },\r\n            getRegexMask: function() {\r\n                var maskChunks = [], translation, pattern, optional, recursive, oRecursive, r;\r\n\r\n                for (var i = 0; i < mask.length; i++) {\r\n                    translation = jMask.translation[mask.charAt(i)];\r\n\r\n                    if (translation) {\r\n\r\n                        pattern = translation.pattern.toString().replace(/.{1}$|^.{1}/g, '');\r\n                        optional = translation.optional;\r\n                        recursive = translation.recursive;\r\n\r\n                        if (recursive) {\r\n                            maskChunks.push(mask.charAt(i));\r\n                            oRecursive = {digit: mask.charAt(i), pattern: pattern};\r\n                        } else {\r\n                            maskChunks.push(!optional && !recursive ? pattern : (pattern + '?'));\r\n                        }\r\n\r\n                    } else {\r\n                        maskChunks.push(mask.charAt(i).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'));\r\n                    }\r\n                }\r\n\r\n                r = maskChunks.join('');\r\n\r\n                if (oRecursive) {\r\n                    r = r.replace(new RegExp('(' + oRecursive.digit + '(.*' + oRecursive.digit + ')?)'), '($1)?')\r\n                         .replace(new RegExp(oRecursive.digit, 'g'), oRecursive.pattern);\r\n                }\r\n\r\n                return new RegExp(r);\r\n            },\r\n            destroyEvents: function() {\r\n                el.off(['input', 'keydown', 'keyup', 'paste', 'drop', 'blur', 'focusout', ''].join('.mask '));\r\n            },\r\n            val: function(v) {\r\n                var isInput = el.is('input'),\r\n                    method = isInput ? 'val' : 'text',\r\n                    r;\r\n\r\n                if (arguments.length > 0) {\r\n                    if (el[method]() !== v) {\r\n                        el[method](v);\r\n                    }\r\n                    r = el;\r\n                } else {\r\n                    r = el[method]();\r\n                }\r\n\r\n                return r;\r\n            },\r\n            calculateCaretPosition: function() {\r\n                var oldVal = el.data('mask-previus-value') || '',\r\n                    newVal = p.getMasked(),\r\n                    caretPosNew = p.getCaret();\r\n                if (oldVal !== newVal) {\r\n                    var caretPosOld = el.data('mask-previus-caret-pos') || 0,\r\n                        newValL = newVal.length,\r\n                        oldValL = oldVal.length,\r\n                        maskDigitsBeforeCaret = 0,\r\n                        maskDigitsAfterCaret = 0,\r\n                        maskDigitsBeforeCaretAll = 0,\r\n                        maskDigitsBeforeCaretAllOld = 0,\r\n                        i = 0;\r\n\r\n                    for (i = caretPosNew; i < newValL; i++) {\r\n                        if (!p.maskDigitPosMap[i]) {\r\n                            break;\r\n                        }\r\n                        maskDigitsAfterCaret++;\r\n                    }\r\n\r\n                    for (i = caretPosNew - 1; i >= 0; i--) {\r\n                        if (!p.maskDigitPosMap[i]) {\r\n                            break;\r\n                        }\r\n                        maskDigitsBeforeCaret++;\r\n                    }\r\n\r\n                    for (i = caretPosNew - 1; i >= 0; i--) {\r\n                        if (p.maskDigitPosMap[i]) {\r\n                            maskDigitsBeforeCaretAll++;\r\n                        }\r\n                    }\r\n\r\n                    for (i = caretPosOld - 1; i >= 0; i--) {\r\n                        if (p.maskDigitPosMapOld[i]) {\r\n                            maskDigitsBeforeCaretAllOld++;\r\n                        }\r\n                    }\r\n\r\n                    // if the cursor is at the end keep it there\r\n                    if (caretPosNew > oldValL) {\r\n                      caretPosNew = newValL * 10;\r\n                    } else if (caretPosOld >= caretPosNew && caretPosOld !== oldValL) {\r\n                        if (!p.maskDigitPosMapOld[caretPosNew])  {\r\n                          var caretPos = caretPosNew;\r\n                          caretPosNew -= maskDigitsBeforeCaretAllOld - maskDigitsBeforeCaretAll;\r\n                          caretPosNew -= maskDigitsBeforeCaret;\r\n                          if (p.maskDigitPosMap[caretPosNew])  {\r\n                            caretPosNew = caretPos;\r\n                          }\r\n                        }\r\n                    }\r\n                    else if (caretPosNew > caretPosOld) {\r\n                        caretPosNew += maskDigitsBeforeCaretAll - maskDigitsBeforeCaretAllOld;\r\n                        caretPosNew += maskDigitsAfterCaret;\r\n                    }\r\n                }\r\n                return caretPosNew;\r\n            },\r\n            behaviour: function(e) {\r\n                e = e || window.event;\r\n                p.invalid = [];\r\n\r\n                var keyCode = el.data('mask-keycode');\r\n\r\n                if ($.inArray(keyCode, jMask.byPassKeys) === -1) {\r\n                    var newVal   = p.getMasked(),\r\n                        caretPos = p.getCaret();\r\n\r\n                    // this is a compensation to devices/browsers that don't compensate\r\n                    // caret positioning the right way\r\n                    setTimeout(function() {\r\n                      p.setCaret(p.calculateCaretPosition());\r\n                    }, 10);\r\n\r\n                    p.val(newVal);\r\n                    p.setCaret(caretPos);\r\n                    return p.callbacks(e);\r\n                }\r\n            },\r\n            getMasked: function(skipMaskChars, val) {\r\n                var buf = [],\r\n                    value = val === undefined ? p.val() : val + '',\r\n                    m = 0, maskLen = mask.length,\r\n                    v = 0, valLen = value.length,\r\n                    offset = 1, addMethod = 'push',\r\n                    resetPos = -1,\r\n                    maskDigitCount = 0,\r\n                    maskDigitPosArr = [],\r\n                    lastMaskChar,\r\n                    check;\r\n\r\n                if (options.reverse) {\r\n                    addMethod = 'unshift';\r\n                    offset = -1;\r\n                    lastMaskChar = 0;\r\n                    m = maskLen - 1;\r\n                    v = valLen - 1;\r\n                    check = function () {\r\n                        return m > -1 && v > -1;\r\n                    };\r\n                } else {\r\n                    lastMaskChar = maskLen - 1;\r\n                    check = function () {\r\n                        return m < maskLen && v < valLen;\r\n                    };\r\n                }\r\n\r\n                var lastUntranslatedMaskChar;\r\n                while (check()) {\r\n                    var maskDigit = mask.charAt(m),\r\n                        valDigit = value.charAt(v),\r\n                        translation = jMask.translation[maskDigit];\r\n\r\n                    if (translation) {\r\n                        if (valDigit.match(translation.pattern)) {\r\n                            buf[addMethod](valDigit);\r\n                             if (translation.recursive) {\r\n                                if (resetPos === -1) {\r\n                                    resetPos = m;\r\n                                } else if (m === lastMaskChar) {\r\n                                    m = resetPos - offset;\r\n                                }\r\n\r\n                                if (lastMaskChar === resetPos) {\r\n                                    m -= offset;\r\n                                }\r\n                            }\r\n                            m += offset;\r\n                        } else if (valDigit === lastUntranslatedMaskChar) {\r\n                            // matched the last untranslated (raw) mask character that we encountered\r\n                            // likely an insert offset the mask character from the last entry; fall\r\n                            // through and only increment v\r\n                            maskDigitCount--;\r\n                            lastUntranslatedMaskChar = undefined;\r\n                        } else if (translation.optional) {\r\n                            m += offset;\r\n                            v -= offset;\r\n                        } else if (translation.fallback) {\r\n                            buf[addMethod](translation.fallback);\r\n                            m += offset;\r\n                            v -= offset;\r\n                        } else {\r\n                          p.invalid.push({p: v, v: valDigit, e: translation.pattern});\r\n                        }\r\n                        v += offset;\r\n                    } else {\r\n                        if (!skipMaskChars) {\r\n                            buf[addMethod](maskDigit);\r\n                        }\r\n\r\n                        if (valDigit === maskDigit) {\r\n                            maskDigitPosArr.push(v);\r\n                            v += offset;\r\n                        } else {\r\n                            lastUntranslatedMaskChar = maskDigit;\r\n                            maskDigitPosArr.push(v + maskDigitCount);\r\n                            maskDigitCount++;\r\n                        }\r\n\r\n                        m += offset;\r\n                    }\r\n                }\r\n\r\n                var lastMaskCharDigit = mask.charAt(lastMaskChar);\r\n                if (maskLen === valLen + 1 && !jMask.translation[lastMaskCharDigit]) {\r\n                    buf.push(lastMaskCharDigit);\r\n                }\r\n\r\n                var newVal = buf.join('');\r\n                p.mapMaskdigitPositions(newVal, maskDigitPosArr, valLen);\r\n                return newVal;\r\n            },\r\n            mapMaskdigitPositions: function(newVal, maskDigitPosArr, valLen) {\r\n              var maskDiff = options.reverse ? newVal.length - valLen : 0;\r\n              p.maskDigitPosMap = {};\r\n              for (var i = 0; i < maskDigitPosArr.length; i++) {\r\n                p.maskDigitPosMap[maskDigitPosArr[i] + maskDiff] = 1;\r\n              }\r\n            },\r\n            callbacks: function (e) {\r\n                var val = p.val(),\r\n                    changed = val !== oldValue,\r\n                    defaultArgs = [val, e, el, options],\r\n                    callback = function(name, criteria, args) {\r\n                        if (typeof options[name] === 'function' && criteria) {\r\n                            options[name].apply(this, args);\r\n                        }\r\n                    };\r\n\r\n                callback('onChange', changed === true, defaultArgs);\r\n                callback('onKeyPress', changed === true, defaultArgs);\r\n                callback('onComplete', val.length === mask.length, defaultArgs);\r\n                callback('onInvalid', p.invalid.length > 0, [val, e, el, p.invalid, options]);\r\n            }\r\n        };\r\n\r\n        el = $(el);\r\n        var jMask = this, oldValue = p.val(), regexMask;\r\n\r\n        mask = typeof mask === 'function' ? mask(p.val(), undefined, el,  options) : mask;\r\n\r\n        // public methods\r\n        jMask.mask = mask;\r\n        jMask.options = options;\r\n        jMask.remove = function() {\r\n            var caret = p.getCaret();\r\n            p.destroyEvents();\r\n            p.val(jMask.getCleanVal());\r\n            p.setCaret(caret);\r\n            return el;\r\n        };\r\n\r\n        // get value without mask\r\n        jMask.getCleanVal = function() {\r\n           return p.getMasked(true);\r\n        };\r\n\r\n        // get masked value without the value being in the input or element\r\n        jMask.getMaskedVal = function(val) {\r\n           return p.getMasked(false, val);\r\n        };\r\n\r\n       jMask.init = function(onlyMask) {\r\n            onlyMask = onlyMask || false;\r\n            options = options || {};\r\n\r\n            jMask.clearIfNotMatch  = $.jMaskGlobals.clearIfNotMatch;\r\n            jMask.byPassKeys       = $.jMaskGlobals.byPassKeys;\r\n            jMask.translation      = $.extend({}, $.jMaskGlobals.translation, options.translation);\r\n\r\n            jMask = $.extend(true, {}, jMask, options);\r\n\r\n            regexMask = p.getRegexMask();\r\n\r\n            if (onlyMask) {\r\n                p.events();\r\n                p.val(p.getMasked());\r\n            } else {\r\n                if (options.placeholder) {\r\n                    el.attr('placeholder' , options.placeholder);\r\n                }\r\n\r\n                // this is necessary, otherwise if the user submit the form\r\n                // and then press the \"back\" button, the autocomplete will erase\r\n                // the data. Works fine on IE9+, FF, Opera, Safari.\r\n                if (el.data('mask')) {\r\n                  el.attr('autocomplete', 'off');\r\n                }\r\n\r\n                // detect if is necessary let the user type freely.\r\n                // for is a lot faster than forEach.\r\n                for (var i = 0, maxlength = true; i < mask.length; i++) {\r\n                    var translation = jMask.translation[mask.charAt(i)];\r\n                    if (translation && translation.recursive) {\r\n                        maxlength = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (maxlength) {\r\n                    el.attr('maxlength', mask.length);\r\n                }\r\n\r\n                p.destroyEvents();\r\n                p.events();\r\n\r\n                var caret = p.getCaret();\r\n                p.val(p.getMasked());\r\n                p.setCaret(caret);\r\n            }\r\n        };\r\n\r\n        jMask.init(!el.is('input'));\r\n    };\r\n\r\n    $.maskWatchers = {};\r\n    var HTMLAttributes = function () {\r\n        var input = $(this),\r\n            options = {},\r\n            prefix = 'data-mask-',\r\n            mask = input.attr('data-mask');\r\n\r\n        if (input.attr(prefix + 'reverse')) {\r\n            options.reverse = true;\r\n        }\r\n\r\n        if (input.attr(prefix + 'clearifnotmatch')) {\r\n            options.clearIfNotMatch = true;\r\n        }\r\n\r\n        if (input.attr(prefix + 'selectonfocus') === 'true') {\r\n           options.selectOnFocus = true;\r\n        }\r\n\r\n        if (notSameMaskObject(input, mask, options)) {\r\n            return input.data('mask', new Mask(this, mask, options));\r\n        }\r\n    },\r\n    notSameMaskObject = function(field, mask, options) {\r\n        options = options || {};\r\n        var maskObject = $(field).data('mask'),\r\n            stringify = JSON.stringify,\r\n            value = $(field).val() || $(field).text();\r\n        try {\r\n            if (typeof mask === 'function') {\r\n                mask = mask(value);\r\n            }\r\n            return typeof maskObject !== 'object' || stringify(maskObject.options) !== stringify(options) || maskObject.mask !== mask;\r\n        } catch (e) {}\r\n    },\r\n    eventSupported = function(eventName) {\r\n        var el = document.createElement('div'), isSupported;\r\n\r\n        eventName = 'on' + eventName;\r\n        isSupported = (eventName in el);\r\n\r\n        if ( !isSupported ) {\r\n            el.setAttribute(eventName, 'return;');\r\n            isSupported = typeof el[eventName] === 'function';\r\n        }\r\n        el = null;\r\n\r\n        return isSupported;\r\n    };\r\n\r\n    $.fn.mask = function(mask, options) {\r\n        options = options || {};\r\n        var selector = this.selector,\r\n            globals = $.jMaskGlobals,\r\n            interval = globals.watchInterval,\r\n            watchInputs = options.watchInputs || globals.watchInputs,\r\n            maskFunction = function() {\r\n                if (notSameMaskObject(this, mask, options)) {\r\n                    return $(this).data('mask', new Mask(this, mask, options));\r\n                }\r\n            };\r\n\r\n        $(this).each(maskFunction);\r\n\r\n        if (selector && selector !== '' && watchInputs) {\r\n            clearInterval($.maskWatchers[selector]);\r\n            $.maskWatchers[selector] = setInterval(function(){\r\n                $(document).find(selector).each(maskFunction);\r\n            }, interval);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    $.fn.masked = function(val) {\r\n        return this.data('mask').getMaskedVal(val);\r\n    };\r\n\r\n    $.fn.unmask = function() {\r\n        clearInterval($.maskWatchers[this.selector]);\r\n        delete $.maskWatchers[this.selector];\r\n        return this.each(function() {\r\n            var dataMask = $(this).data('mask');\r\n            if (dataMask) {\r\n                dataMask.remove().removeData('mask');\r\n            }\r\n        });\r\n    };\r\n\r\n    $.fn.cleanVal = function() {\r\n        return this.data('mask').getCleanVal();\r\n    };\r\n\r\n    $.applyDataMask = function(selector) {\r\n        selector = selector || $.jMaskGlobals.maskElements;\r\n        var $selector = (selector instanceof $) ? selector : $(selector);\r\n        $selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes);\r\n    };\r\n\r\n    var globals = {\r\n        maskElements: 'input,td,span,div',\r\n        dataMaskAttr: '*[data-mask]',\r\n        dataMask: true,\r\n        watchInterval: 300,\r\n        watchInputs: true,\r\n        // old versions of chrome dont work great with input event\r\n        useInput: !/Chrome\\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent) && eventSupported('input'),\r\n        watchDataMask: false,\r\n        byPassKeys: [9, 16, 17, 18, 36, 37, 38, 39, 40, 91],\r\n        translation: {\r\n            '0': {pattern: /\\d/},\r\n            '9': {pattern: /\\d/, optional: true},\r\n            '#': {pattern: /\\d/, recursive: true},\r\n            'A': {pattern: /[a-zA-Z0-9]/},\r\n            'S': {pattern: /[a-zA-Z]/}\r\n        }\r\n    };\r\n\r\n    $.jMaskGlobals = $.jMaskGlobals || {};\r\n    globals = $.jMaskGlobals = $.extend(true, {}, globals, $.jMaskGlobals);\r\n\r\n    // looking for inputs with data-mask attribute\r\n    if (globals.dataMask) {\r\n        $.applyDataMask();\r\n    }\r\n\r\n    setInterval(function() {\r\n        if ($.jMaskGlobals.watchDataMask) {\r\n            $.applyDataMask();\r\n        }\r\n    }, globals.watchInterval);\r\n}, window.jQuery, window.Zepto));","/*!\r\n * jQuery Validation Plugin v1.17.0\r\n *\r\n * https://jqueryvalidation.org/\r\n *\r\n * Copyright (c) 2017 Jrn Zaefferer\r\n * Released under the MIT license\r\n */\r\n(function( factory ) {\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\tdefine( [\"jquery\"], factory );\r\n\t} else if (typeof module === \"object\" && module.exports) {\r\n\t\tmodule.exports = factory( require( \"jquery\" ) );\r\n\t} else {\r\n\t\tfactory( jQuery );\r\n\t}\r\n}(function( $ ) {\r\n\r\n$.extend( $.fn, {\r\n\r\n\t// https://jqueryvalidation.org/validate/\r\n\tvalidate: function( options ) {\r\n\r\n\t\t// If nothing is selected, return nothing; can't chain anyway\r\n\t\tif ( !this.length ) {\r\n\t\t\tif ( options && options.debug && window.console ) {\r\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check if a validator for this form was already created\r\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\r\n\t\tif ( validator ) {\r\n\t\t\treturn validator;\r\n\t\t}\r\n\r\n\t\t// Add novalidate tag if HTML5.\r\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\r\n\r\n\t\tvalidator = new $.validator( options, this[ 0 ] );\r\n\t\t$.data( this[ 0 ], \"validator\", validator );\r\n\r\n\t\tif ( validator.settings.onsubmit ) {\r\n\r\n\t\t\tthis.on( \"click.validate\", \":submit\", function( event ) {\r\n\r\n\t\t\t\t// Track the used submit button to properly handle scripted\r\n\t\t\t\t// submits later.\r\n\t\t\t\tvalidator.submitButton = event.currentTarget;\r\n\r\n\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\r\n\t\t\t\tif ( $( this ).hasClass( \"cancel\" ) ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\r\n\t\t\t\tif ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\t// Validate the form on submit\r\n\t\t\tthis.on( \"submit.validate\", function( event ) {\r\n\t\t\t\tif ( validator.settings.debug ) {\r\n\r\n\t\t\t\t\t// Prevent form submit to be able to see console output\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\tfunction handle() {\r\n\t\t\t\t\tvar hidden, result;\r\n\r\n\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\r\n\t\t\t\t\t// The hidden input is inserted in two cases:\r\n\t\t\t\t\t//   - A user defined a `submitHandler`\r\n\t\t\t\t\t//   - There was a pending request due to `remote` method and `stopRequest()`\r\n\t\t\t\t\t//     was called to submit the form in case it's valid\r\n\t\t\t\t\tif ( validator.submitButton && ( validator.settings.submitHandler || validator.formSubmitted ) ) {\r\n\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\r\n\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\r\n\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\r\n\t\t\t\t\t\t\t.appendTo( validator.currentForm );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\r\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\r\n\t\t\t\t\t\tif ( hidden ) {\r\n\r\n\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\r\n\t\t\t\t\t\t\thidden.remove();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( result !== undefined ) {\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\r\n\t\t\t\tif ( validator.cancelSubmit ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = false;\r\n\t\t\t\t\treturn handle();\r\n\t\t\t\t}\r\n\t\t\t\tif ( validator.form() ) {\r\n\t\t\t\t\tif ( validator.pendingRequest ) {\r\n\t\t\t\t\t\tvalidator.formSubmitted = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn handle();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalidator.focusInvalid();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\treturn validator;\r\n\t},\r\n\r\n\t// https://jqueryvalidation.org/valid/\r\n\tvalid: function() {\r\n\t\tvar valid, validator, errorList;\r\n\r\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\r\n\t\t\tvalid = this.validate().form();\r\n\t\t} else {\r\n\t\t\terrorList = [];\r\n\t\t\tvalid = true;\r\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\r\n\t\t\tthis.each( function() {\r\n\t\t\t\tvalid = validator.element( this ) && valid;\r\n\t\t\t\tif ( !valid ) {\r\n\t\t\t\t\terrorList = errorList.concat( validator.errorList );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tvalidator.errorList = errorList;\r\n\t\t}\r\n\t\treturn valid;\r\n\t},\r\n\r\n\t// https://jqueryvalidation.org/rules/\r\n\trules: function( command, argument ) {\r\n\t\tvar element = this[ 0 ],\r\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\r\n\r\n\t\t// If nothing is selected, return empty object; can't chain anyway\r\n\t\tif ( element == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( !element.form && element.hasAttribute( \"contenteditable\" ) ) {\r\n\t\t\telement.form = this.closest( \"form\" )[ 0 ];\r\n\t\t\telement.name = this.attr( \"name\" );\r\n\t\t}\r\n\r\n\t\tif ( element.form == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( command ) {\r\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\r\n\t\t\tstaticRules = settings.rules;\r\n\t\t\texistingRules = $.validator.staticRules( element );\r\n\t\t\tswitch ( command ) {\r\n\t\t\tcase \"add\":\r\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\r\n\r\n\t\t\t\t// Remove messages from rules, but allow them to be set separately\r\n\t\t\t\tdelete existingRules.messages;\r\n\t\t\t\tstaticRules[ element.name ] = existingRules;\r\n\t\t\t\tif ( argument.messages ) {\r\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"remove\":\r\n\t\t\t\tif ( !argument ) {\r\n\t\t\t\t\tdelete staticRules[ element.name ];\r\n\t\t\t\t\treturn existingRules;\r\n\t\t\t\t}\r\n\t\t\t\tfiltered = {};\r\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\r\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\r\n\t\t\t\t\tdelete existingRules[ method ];\r\n\t\t\t\t} );\r\n\t\t\t\treturn filtered;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdata = $.validator.normalizeRules(\r\n\t\t$.extend(\r\n\t\t\t{},\r\n\t\t\t$.validator.classRules( element ),\r\n\t\t\t$.validator.attributeRules( element ),\r\n\t\t\t$.validator.dataRules( element ),\r\n\t\t\t$.validator.staticRules( element )\r\n\t\t), element );\r\n\r\n\t\t// Make sure required is at front\r\n\t\tif ( data.required ) {\r\n\t\t\tparam = data.required;\r\n\t\t\tdelete data.required;\r\n\t\t\tdata = $.extend( { required: param }, data );\r\n\t\t}\r\n\r\n\t\t// Make sure remote is at back\r\n\t\tif ( data.remote ) {\r\n\t\t\tparam = data.remote;\r\n\t\t\tdelete data.remote;\r\n\t\t\tdata = $.extend( data, { remote: param } );\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n} );\r\n\r\n// Custom selectors\r\n$.extend( $.expr.pseudos || $.expr[ \":\" ], {\t\t// '|| $.expr[ \":\" ]' here enables backwards compatibility to jQuery 1.7. Can be removed when dropping jQ 1.7.x support\r\n\r\n\t// https://jqueryvalidation.org/blank-selector/\r\n\tblank: function( a ) {\r\n\t\treturn !$.trim( \"\" + $( a ).val() );\r\n\t},\r\n\r\n\t// https://jqueryvalidation.org/filled-selector/\r\n\tfilled: function( a ) {\r\n\t\tvar val = $( a ).val();\r\n\t\treturn val !== null && !!$.trim( \"\" + val );\r\n\t},\r\n\r\n\t// https://jqueryvalidation.org/unchecked-selector/\r\n\tunchecked: function( a ) {\r\n\t\treturn !$( a ).prop( \"checked\" );\r\n\t}\r\n} );\r\n\r\n// Constructor for validator\r\n$.validator = function( options, form ) {\r\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\r\n\tthis.currentForm = form;\r\n\tthis.init();\r\n};\r\n\r\n// https://jqueryvalidation.org/jQuery.validator.format/\r\n$.validator.format = function( source, params ) {\r\n\tif ( arguments.length === 1 ) {\r\n\t\treturn function() {\r\n\t\t\tvar args = $.makeArray( arguments );\r\n\t\t\targs.unshift( source );\r\n\t\t\treturn $.validator.format.apply( this, args );\r\n\t\t};\r\n\t}\r\n\tif ( params === undefined ) {\r\n\t\treturn source;\r\n\t}\r\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\r\n\t\tparams = $.makeArray( arguments ).slice( 1 );\r\n\t}\r\n\tif ( params.constructor !== Array ) {\r\n\t\tparams = [ params ];\r\n\t}\r\n\t$.each( params, function( i, n ) {\r\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\r\n\t\t\treturn n;\r\n\t\t} );\r\n\t} );\r\n\treturn source;\r\n};\r\n\r\n$.extend( $.validator, {\r\n\r\n\tdefaults: {\r\n\t\tmessages: {},\r\n\t\tgroups: {},\r\n\t\trules: {},\r\n\t\terrorClass: \"error\",\r\n\t\tpendingClass: \"pending\",\r\n\t\tvalidClass: \"valid\",\r\n\t\terrorElement: \"label\",\r\n\t\tfocusCleanup: false,\r\n\t\tfocusInvalid: true,\r\n\t\terrorContainer: $( [] ),\r\n\t\terrorLabelContainer: $( [] ),\r\n\t\tonsubmit: true,\r\n\t\tignore: \":hidden\",\r\n\t\tignoreTitle: false,\r\n\t\tonfocusin: function( element ) {\r\n\t\t\tthis.lastActive = element;\r\n\r\n\t\t\t// Hide error label and remove error class on focus if enabled\r\n\t\t\tif ( this.settings.focusCleanup ) {\r\n\t\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonfocusout: function( element ) {\r\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\r\n\t\t\t\tthis.element( element );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonkeyup: function( element, event ) {\r\n\r\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\r\n\t\t\t// Shift       => 16\r\n\t\t\t// Ctrl        => 17\r\n\t\t\t// Alt         => 18\r\n\t\t\t// Caps lock   => 20\r\n\t\t\t// End         => 35\r\n\t\t\t// Home        => 36\r\n\t\t\t// Left arrow  => 37\r\n\t\t\t// Up arrow    => 38\r\n\t\t\t// Right arrow => 39\r\n\t\t\t// Down arrow  => 40\r\n\t\t\t// Insert      => 45\r\n\t\t\t// Num lock    => 144\r\n\t\t\t// AltGr key   => 225\r\n\t\t\tvar excludedKeys = [\r\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\r\n\t\t\t\t38, 39, 40, 45, 144, 225\r\n\t\t\t];\r\n\r\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if ( element.name in this.submitted || element.name in this.invalid ) {\r\n\t\t\t\tthis.element( element );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonclick: function( element ) {\r\n\r\n\t\t\t// Click on selects, radiobuttons and checkboxes\r\n\t\t\tif ( element.name in this.submitted ) {\r\n\t\t\t\tthis.element( element );\r\n\r\n\t\t\t// Or option elements, check parent select in that case\r\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\r\n\t\t\t\tthis.element( element.parentNode );\r\n\t\t\t}\r\n\t\t},\r\n\t\thighlight: function( element, errorClass, validClass ) {\r\n\t\t\tif ( element.type === \"radio\" ) {\r\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\r\n\t\t\t} else {\r\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\r\n\t\t\t}\r\n\t\t},\r\n\t\tunhighlight: function( element, errorClass, validClass ) {\r\n\t\t\tif ( element.type === \"radio\" ) {\r\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\r\n\t\t\t} else {\r\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// https://jqueryvalidation.org/jQuery.validator.setDefaults/\r\n\tsetDefaults: function( settings ) {\r\n\t\t$.extend( $.validator.defaults, settings );\r\n\t},\r\n\r\n\tmessages: {\r\n\t\trequired: \"This field is required.\",\r\n\t\tremote: \"Please fix this field.\",\r\n\t\temail: \"Please enter a valid email address.\",\r\n\t\turl: \"Please enter a valid URL.\",\r\n\t\tdate: \"Please enter a valid date.\",\r\n\t\tdateISO: \"Please enter a valid date (ISO).\",\r\n\t\tnumber: \"Please enter a valid number.\",\r\n\t\tdigits: \"Please enter only digits.\",\r\n\t\tequalTo: \"Please enter the same value again.\",\r\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\r\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\r\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\r\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\r\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\r\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\r\n\t\tstep: $.validator.format( \"Please enter a multiple of {0}.\" )\r\n\t},\r\n\r\n\tautoCreateRanges: false,\r\n\r\n\tprototype: {\r\n\r\n\t\tinit: function() {\r\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\r\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\r\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\r\n\t\t\tthis.submitted = {};\r\n\t\t\tthis.valueCache = {};\r\n\t\t\tthis.pendingRequest = 0;\r\n\t\t\tthis.pending = {};\r\n\t\t\tthis.invalid = {};\r\n\t\t\tthis.reset();\r\n\r\n\t\t\tvar groups = ( this.groups = {} ),\r\n\t\t\t\trules;\r\n\t\t\t$.each( this.settings.groups, function( key, value ) {\r\n\t\t\t\tif ( typeof value === \"string\" ) {\r\n\t\t\t\t\tvalue = value.split( /\\s/ );\r\n\t\t\t\t}\r\n\t\t\t\t$.each( value, function( index, name ) {\r\n\t\t\t\t\tgroups[ name ] = key;\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\trules = this.settings.rules;\r\n\t\t\t$.each( rules, function( key, value ) {\r\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\r\n\t\t\t} );\r\n\r\n\t\t\tfunction delegate( event ) {\r\n\r\n\t\t\t\t// Set form expando on contenteditable\r\n\t\t\t\tif ( !this.form && this.hasAttribute( \"contenteditable\" ) ) {\r\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\r\n\t\t\t\t\tthis.name = $( this ).attr( \"name\" );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar validator = $.data( this.form, \"validator\" ),\r\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\r\n\t\t\t\t\tsettings = validator.settings;\r\n\t\t\t\tif ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\r\n\t\t\t\t\tsettings[ eventType ].call( validator, this, event );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$( this.currentForm )\r\n\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate\",\r\n\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\r\n\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\r\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\r\n\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable], [type='button']\", delegate )\r\n\r\n\t\t\t\t// Support: Chrome, oldIE\r\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\r\n\t\t\t\t.on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\r\n\r\n\t\t\tif ( this.settings.invalidHandler ) {\r\n\t\t\t\t$( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/Validator.form/\r\n\t\tform: function() {\r\n\t\t\tthis.checkForm();\r\n\t\t\t$.extend( this.submitted, this.errorMap );\r\n\t\t\tthis.invalid = $.extend( {}, this.errorMap );\r\n\t\t\tif ( !this.valid() ) {\r\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\r\n\t\t\t}\r\n\t\t\tthis.showErrors();\r\n\t\t\treturn this.valid();\r\n\t\t},\r\n\r\n\t\tcheckForm: function() {\r\n\t\t\tthis.prepareForm();\r\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\r\n\t\t\t\tthis.check( elements[ i ] );\r\n\t\t\t}\r\n\t\t\treturn this.valid();\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/Validator.element/\r\n\t\telement: function( element ) {\r\n\t\t\tvar cleanElement = this.clean( element ),\r\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\r\n\t\t\t\tv = this,\r\n\t\t\t\tresult = true,\r\n\t\t\t\trs, group;\r\n\r\n\t\t\tif ( checkElement === undefined ) {\r\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\r\n\t\t\t} else {\r\n\t\t\t\tthis.prepareElement( checkElement );\r\n\t\t\t\tthis.currentElements = $( checkElement );\r\n\r\n\t\t\t\t// If this element is grouped, then validate all group elements already\r\n\t\t\t\t// containing a value\r\n\t\t\t\tgroup = this.groups[ checkElement.name ];\r\n\t\t\t\tif ( group ) {\r\n\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\r\n\t\t\t\t\t\tif ( testgroup === group && name !== checkElement.name ) {\r\n\t\t\t\t\t\t\tcleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\r\n\t\t\t\t\t\t\tif ( cleanElement && cleanElement.name in v.invalid ) {\r\n\t\t\t\t\t\t\t\tv.currentElements.push( cleanElement );\r\n\t\t\t\t\t\t\t\tresult = v.check( cleanElement ) && result;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\trs = this.check( checkElement ) !== false;\r\n\t\t\t\tresult = result && rs;\r\n\t\t\t\tif ( rs ) {\r\n\t\t\t\t\tthis.invalid[ checkElement.name ] = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !this.numberOfInvalids() ) {\r\n\r\n\t\t\t\t\t// Hide error containers on last error\r\n\t\t\t\t\tthis.toHide = this.toHide.add( this.containers );\r\n\t\t\t\t}\r\n\t\t\t\tthis.showErrors();\r\n\r\n\t\t\t\t// Add aria-invalid status for screen readers\r\n\t\t\t\t$( element ).attr( \"aria-invalid\", !rs );\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/Validator.showErrors/\r\n\t\tshowErrors: function( errors ) {\r\n\t\t\tif ( errors ) {\r\n\t\t\t\tvar validator = this;\r\n\r\n\t\t\t\t// Add items to error list and map\r\n\t\t\t\t$.extend( this.errorMap, errors );\r\n\t\t\t\tthis.errorList = $.map( this.errorMap, function( message, name ) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tmessage: message,\r\n\t\t\t\t\t\telement: validator.findByName( name )[ 0 ]\r\n\t\t\t\t\t};\r\n\t\t\t\t} );\r\n\r\n\t\t\t\t// Remove items from success list\r\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\r\n\t\t\t\t\treturn !( element.name in errors );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tif ( this.settings.showErrors ) {\r\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\r\n\t\t\t} else {\r\n\t\t\t\tthis.defaultShowErrors();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/Validator.resetForm/\r\n\t\tresetForm: function() {\r\n\t\t\tif ( $.fn.resetForm ) {\r\n\t\t\t\t$( this.currentForm ).resetForm();\r\n\t\t\t}\r\n\t\t\tthis.invalid = {};\r\n\t\t\tthis.submitted = {};\r\n\t\t\tthis.prepareForm();\r\n\t\t\tthis.hideErrors();\r\n\t\t\tvar elements = this.elements()\r\n\t\t\t\t.removeData( \"previousValue\" )\r\n\t\t\t\t.removeAttr( \"aria-invalid\" );\r\n\r\n\t\t\tthis.resetElements( elements );\r\n\t\t},\r\n\r\n\t\tresetElements: function( elements ) {\r\n\t\t\tvar i;\r\n\r\n\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\r\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\r\n\t\t\t\t\tthis.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\telements\r\n\t\t\t\t\t.removeClass( this.settings.errorClass )\r\n\t\t\t\t\t.removeClass( this.settings.validClass );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnumberOfInvalids: function() {\r\n\t\t\treturn this.objectLength( this.invalid );\r\n\t\t},\r\n\r\n\t\tobjectLength: function( obj ) {\r\n\t\t\t/* jshint unused: false */\r\n\t\t\tvar count = 0,\r\n\t\t\t\ti;\r\n\t\t\tfor ( i in obj ) {\r\n\r\n\t\t\t\t// This check allows counting elements with empty error\r\n\t\t\t\t// message as invalid elements\r\n\t\t\t\tif ( obj[ i ] !== undefined && obj[ i ] !== null && obj[ i ] !== false ) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn count;\r\n\t\t},\r\n\r\n\t\thideErrors: function() {\r\n\t\t\tthis.hideThese( this.toHide );\r\n\t\t},\r\n\r\n\t\thideThese: function( errors ) {\r\n\t\t\terrors.not( this.containers ).text( \"\" );\r\n\t\t\tthis.addWrapper( errors ).hide();\r\n\t\t},\r\n\r\n\t\tvalid: function() {\r\n\t\t\treturn this.size() === 0;\r\n\t\t},\r\n\r\n\t\tsize: function() {\r\n\t\t\treturn this.errorList.length;\r\n\t\t},\r\n\r\n\t\tfocusInvalid: function() {\r\n\t\t\tif ( this.settings.focusInvalid ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\r\n\t\t\t\t\t.filter( \":visible\" )\r\n\t\t\t\t\t.focus()\r\n\r\n\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\r\n\t\t\t\t\t.trigger( \"focusin\" );\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfindLastActive: function() {\r\n\t\t\tvar lastActive = this.lastActive;\r\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\r\n\t\t\t\treturn n.element.name === lastActive.name;\r\n\t\t\t} ).length === 1 && lastActive;\r\n\t\t},\r\n\r\n\t\telements: function() {\r\n\t\t\tvar validator = this,\r\n\t\t\t\trulesCache = {};\r\n\r\n\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\r\n\t\t\treturn $( this.currentForm )\r\n\t\t\t.find( \"input, select, textarea, [contenteditable]\" )\r\n\t\t\t.not( \":submit, :reset, :image, :disabled\" )\r\n\t\t\t.not( this.settings.ignore )\r\n\t\t\t.filter( function() {\r\n\t\t\t\tvar name = this.name || $( this ).attr( \"name\" ); // For contenteditable\r\n\t\t\t\tif ( !name && validator.settings.debug && window.console ) {\r\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set form expando on contenteditable\r\n\t\t\t\tif ( this.hasAttribute( \"contenteditable\" ) ) {\r\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\r\n\t\t\t\t\tthis.name = name;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Select only the first element for each name, and only those with rules specified\r\n\t\t\t\tif ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\trulesCache[ name ] = true;\r\n\t\t\t\treturn true;\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tclean: function( selector ) {\r\n\t\t\treturn $( selector )[ 0 ];\r\n\t\t},\r\n\r\n\t\terrors: function() {\r\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\r\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\r\n\t\t},\r\n\r\n\t\tresetInternals: function() {\r\n\t\t\tthis.successList = [];\r\n\t\t\tthis.errorList = [];\r\n\t\t\tthis.errorMap = {};\r\n\t\t\tthis.toShow = $( [] );\r\n\t\t\tthis.toHide = $( [] );\r\n\t\t},\r\n\r\n\t\treset: function() {\r\n\t\t\tthis.resetInternals();\r\n\t\t\tthis.currentElements = $( [] );\r\n\t\t},\r\n\r\n\t\tprepareForm: function() {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.toHide = this.errors().add( this.containers );\r\n\t\t},\r\n\r\n\t\tprepareElement: function( element ) {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.toHide = this.errorsFor( element );\r\n\t\t},\r\n\r\n\t\telementValue: function( element ) {\r\n\t\t\tvar $element = $( element ),\r\n\t\t\t\ttype = element.type,\r\n\t\t\t\tval, idx;\r\n\r\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\r\n\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).val();\r\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\r\n\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\r\n\t\t\t}\r\n\r\n\t\t\tif ( element.hasAttribute( \"contenteditable\" ) ) {\r\n\t\t\t\tval = $element.text();\r\n\t\t\t} else {\r\n\t\t\t\tval = $element.val();\r\n\t\t\t}\r\n\r\n\t\t\tif ( type === \"file\" ) {\r\n\r\n\t\t\t\t// Modern browser (chrome & safari)\r\n\t\t\t\tif ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\r\n\t\t\t\t\treturn val.substr( 12 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Legacy browsers\r\n\t\t\t\t// Unix-based path\r\n\t\t\t\tidx = val.lastIndexOf( \"/\" );\r\n\t\t\t\tif ( idx >= 0 ) {\r\n\t\t\t\t\treturn val.substr( idx + 1 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Windows-based path\r\n\t\t\t\tidx = val.lastIndexOf( \"\\\\\" );\r\n\t\t\t\tif ( idx >= 0 ) {\r\n\t\t\t\t\treturn val.substr( idx + 1 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Just the file name\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof val === \"string\" ) {\r\n\t\t\t\treturn val.replace( /\\r/g, \"\" );\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t},\r\n\r\n\t\tcheck: function( element ) {\r\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\r\n\r\n\t\t\tvar rules = $( element ).rules(),\r\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t} ).length,\r\n\t\t\t\tdependencyMismatch = false,\r\n\t\t\t\tval = this.elementValue( element ),\r\n\t\t\t\tresult, method, rule, normalizer;\r\n\r\n\t\t\t// Prioritize the local normalizer defined for this element over the global one\r\n\t\t\t// if the former exists, otherwise user the global one in case it exists.\r\n\t\t\tif ( typeof rules.normalizer === \"function\" ) {\r\n\t\t\t\tnormalizer = rules.normalizer;\r\n\t\t\t} else if (\ttypeof this.settings.normalizer === \"function\" ) {\r\n\t\t\t\tnormalizer = this.settings.normalizer;\r\n\t\t\t}\r\n\r\n\t\t\t// If normalizer is defined, then call it to retreive the changed value instead\r\n\t\t\t// of using the real one.\r\n\t\t\t// Note that `this` in the normalizer is `element`.\r\n\t\t\tif ( normalizer ) {\r\n\t\t\t\tval = normalizer.call( element, val );\r\n\r\n\t\t\t\tif ( typeof val !== \"string\" ) {\r\n\t\t\t\t\tthrow new TypeError( \"The normalizer should return a string value.\" );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Delete the normalizer from rules to avoid treating it as a pre-defined method.\r\n\t\t\t\tdelete rules.normalizer;\r\n\t\t\t}\r\n\r\n\t\t\tfor ( method in rules ) {\r\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\r\n\r\n\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\r\n\t\t\t\t\t// don't mark it as valid when there are no other rules\r\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\r\n\t\t\t\t\t\tdependencyMismatch = true;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdependencyMismatch = false;\r\n\r\n\t\t\t\t\tif ( result === \"pending\" ) {\r\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( !result ) {\r\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\r\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( e instanceof TypeError ) {\r\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( dependencyMismatch ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( this.objectLength( rules ) ) {\r\n\t\t\t\tthis.successList.push( element );\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t// Return the custom message for the given element and validation method\r\n\t\t// specified in the element's HTML5 data attribute\r\n\t\t// return the generic message if present and no method specific message is present\r\n\t\tcustomDataMessage: function( element, method ) {\r\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\r\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\r\n\t\t},\r\n\r\n\t\t// Return the custom message for the given element name and validation method\r\n\t\tcustomMessage: function( name, method ) {\r\n\t\t\tvar m = this.settings.messages[ name ];\r\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ] );\r\n\t\t},\r\n\r\n\t\t// Return the first defined argument, allowing empty strings\r\n\t\tfindDefined: function() {\r\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\r\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\r\n\t\t\t\t\treturn arguments[ i ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t},\r\n\r\n\t\t// The second parameter 'rule' used to be a string, and extended to an object literal\r\n\t\t// of the following form:\r\n\t\t// rule = {\r\n\t\t//     method: \"method name\",\r\n\t\t//     parameters: \"the given method parameters\"\r\n\t\t// }\r\n\t\t//\r\n\t\t// The old behavior still supported, kept to maintain backward compatibility with\r\n\t\t// old code, and will be removed in the next major release.\r\n\t\tdefaultMessage: function( element, rule ) {\r\n\t\t\tif ( typeof rule === \"string\" ) {\r\n\t\t\t\trule = { method: rule };\r\n\t\t\t}\r\n\r\n\t\t\tvar message = this.findDefined(\r\n\t\t\t\t\tthis.customMessage( element.name, rule.method ),\r\n\t\t\t\t\tthis.customDataMessage( element, rule.method ),\r\n\r\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\r\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\r\n\t\t\t\t\t$.validator.messages[ rule.method ],\r\n\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\r\n\t\t\t\t),\r\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\r\n\t\t\tif ( typeof message === \"function\" ) {\r\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\r\n\t\t\t} else if ( theregex.test( message ) ) {\r\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\r\n\t\t\t}\r\n\r\n\t\t\treturn message;\r\n\t\t},\r\n\r\n\t\tformatAndAdd: function( element, rule ) {\r\n\t\t\tvar message = this.defaultMessage( element, rule );\r\n\r\n\t\t\tthis.errorList.push( {\r\n\t\t\t\tmessage: message,\r\n\t\t\t\telement: element,\r\n\t\t\t\tmethod: rule.method\r\n\t\t\t} );\r\n\r\n\t\t\tthis.errorMap[ element.name ] = message;\r\n\t\t\tthis.submitted[ element.name ] = message;\r\n\t\t},\r\n\r\n\t\taddWrapper: function( toToggle ) {\r\n\t\t\tif ( this.settings.wrapper ) {\r\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\r\n\t\t\t}\r\n\t\t\treturn toToggle;\r\n\t\t},\r\n\r\n\t\tdefaultShowErrors: function() {\r\n\t\t\tvar i, elements, error;\r\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\r\n\t\t\t\terror = this.errorList[ i ];\r\n\t\t\t\tif ( this.settings.highlight ) {\r\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t\tthis.showLabel( error.element, error.message );\r\n\t\t\t}\r\n\t\t\tif ( this.errorList.length ) {\r\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\r\n\t\t\t}\r\n\t\t\tif ( this.settings.success ) {\r\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\r\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\r\n\t\t\tthis.hideErrors();\r\n\t\t\tthis.addWrapper( this.toShow ).show();\r\n\t\t},\r\n\r\n\t\tvalidElements: function() {\r\n\t\t\treturn this.currentElements.not( this.invalidElements() );\r\n\t\t},\r\n\r\n\t\tinvalidElements: function() {\r\n\t\t\treturn $( this.errorList ).map( function() {\r\n\t\t\t\treturn this.element;\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tshowLabel: function( element, message ) {\r\n\t\t\tvar place, group, errorID, v,\r\n\t\t\t\terror = this.errorsFor( element ),\r\n\t\t\t\telementID = this.idOrName( element ),\r\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\r\n\r\n\t\t\tif ( error.length ) {\r\n\r\n\t\t\t\t// Refresh error/success class\r\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\r\n\r\n\t\t\t\t// Replace message on existing label\r\n\t\t\t\terror.html( message );\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Create error element\r\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\r\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\r\n\t\t\t\t\t.addClass( this.settings.errorClass )\r\n\t\t\t\t\t.html( message || \"\" );\r\n\r\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\r\n\t\t\t\tplace = error;\r\n\t\t\t\tif ( this.settings.wrapper ) {\r\n\r\n\t\t\t\t\t// Make sure the element is visible, even in IE\r\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\r\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\r\n\t\t\t\t}\r\n\t\t\t\tif ( this.labelContainer.length ) {\r\n\t\t\t\t\tthis.labelContainer.append( place );\r\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\r\n\t\t\t\t\tthis.settings.errorPlacement.call( this, place, $( element ) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplace.insertAfter( element );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Link error back to the element\r\n\t\t\t\tif ( error.is( \"label\" ) ) {\r\n\r\n\t\t\t\t\t// If the error is a label, then associate using 'for'\r\n\t\t\t\t\terror.attr( \"for\", elementID );\r\n\r\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\r\n\t\t\t\t\t// to explicitly apply aria-describedby\r\n\t\t\t\t} else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\r\n\t\t\t\t\terrorID = error.attr( \"id\" );\r\n\r\n\t\t\t\t\t// Respect existing non-error aria-describedby\r\n\t\t\t\t\tif ( !describedBy ) {\r\n\t\t\t\t\t\tdescribedBy = errorID;\r\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\r\n\r\n\t\t\t\t\t\t// Add to end of list if not already present\r\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\r\n\r\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\r\n\t\t\t\t\tgroup = this.groups[ element.name ];\r\n\t\t\t\t\tif ( group ) {\r\n\t\t\t\t\t\tv = this;\r\n\t\t\t\t\t\t$.each( v.groups, function( name, testgroup ) {\r\n\t\t\t\t\t\t\tif ( testgroup === group ) {\r\n\t\t\t\t\t\t\t\t$( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\r\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( !message && this.settings.success ) {\r\n\t\t\t\terror.text( \"\" );\r\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\r\n\t\t\t\t\terror.addClass( this.settings.success );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.settings.success( error, element );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toShow = this.toShow.add( error );\r\n\t\t},\r\n\r\n\t\terrorsFor: function( element ) {\r\n\t\t\tvar name = this.escapeCssMeta( this.idOrName( element ) ),\r\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\r\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\r\n\r\n\t\t\t// 'aria-describedby' should directly reference the error element\r\n\t\t\tif ( describer ) {\r\n\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta( describer )\r\n\t\t\t\t\t.replace( /\\s+/g, \", #\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn this\r\n\t\t\t\t.errors()\r\n\t\t\t\t.filter( selector );\r\n\t\t},\r\n\r\n\t\t// See https://api.jquery.com/category/selectors/, for CSS\r\n\t\t// meta-characters that should be escaped in order to be used with JQuery\r\n\t\t// as a literal part of a name/id or any selector.\r\n\t\tescapeCssMeta: function( string ) {\r\n\t\t\treturn string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\r\n\t\t},\r\n\r\n\t\tidOrName: function( element ) {\r\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\r\n\t\t},\r\n\r\n\t\tvalidationTargetFor: function( element ) {\r\n\r\n\t\t\t// If radio/checkbox, validate first element in group instead\r\n\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\telement = this.findByName( element.name );\r\n\t\t\t}\r\n\r\n\t\t\t// Always apply ignore filter\r\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\r\n\t\t},\r\n\r\n\t\tcheckable: function( element ) {\r\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\r\n\t\t},\r\n\r\n\t\tfindByName: function( name ) {\r\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\r\n\t\t},\r\n\r\n\t\tgetLength: function( value, element ) {\r\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\r\n\t\t\tcase \"select\":\r\n\t\t\t\treturn $( \"option:selected\", element ).length;\r\n\t\t\tcase \"input\":\r\n\t\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value.length;\r\n\t\t},\r\n\r\n\t\tdepend: function( param, element ) {\r\n\t\t\treturn this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\r\n\t\t},\r\n\r\n\t\tdependTypes: {\r\n\t\t\t\"boolean\": function( param ) {\r\n\t\t\t\treturn param;\r\n\t\t\t},\r\n\t\t\t\"string\": function( param, element ) {\r\n\t\t\t\treturn !!$( param, element.form ).length;\r\n\t\t\t},\r\n\t\t\t\"function\": function( param, element ) {\r\n\t\t\t\treturn param( element );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\toptional: function( element ) {\r\n\t\t\tvar val = this.elementValue( element );\r\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\r\n\t\t},\r\n\r\n\t\tstartRequest: function( element ) {\r\n\t\t\tif ( !this.pending[ element.name ] ) {\r\n\t\t\t\tthis.pendingRequest++;\r\n\t\t\t\t$( element ).addClass( this.settings.pendingClass );\r\n\t\t\t\tthis.pending[ element.name ] = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstopRequest: function( element, valid ) {\r\n\t\t\tthis.pendingRequest--;\r\n\r\n\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\r\n\t\t\tif ( this.pendingRequest < 0 ) {\r\n\t\t\t\tthis.pendingRequest = 0;\r\n\t\t\t}\r\n\t\t\tdelete this.pending[ element.name ];\r\n\t\t\t$( element ).removeClass( this.settings.pendingClass );\r\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\r\n\t\t\t\t$( this.currentForm ).submit();\r\n\r\n\t\t\t\t// Remove the hidden input that was used as a replacement for the\r\n\t\t\t\t// missing submit button. The hidden input is added by `handle()`\r\n\t\t\t\t// to ensure that the value of the used submit button is passed on\r\n\t\t\t\t// for scripted submits triggered by this method\r\n\t\t\t\tif ( this.submitButton ) {\r\n\t\t\t\t\t$( \"input:hidden[name='\" + this.submitButton.name + \"']\", this.currentForm ).remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\r\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\r\n\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpreviousValue: function( element, method ) {\r\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\r\n\r\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\r\n\t\t\t\told: null,\r\n\t\t\t\tvalid: true,\r\n\t\t\t\tmessage: this.defaultMessage( element, { method: method } )\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t// Cleans up all forms and elements, removes validator-specific events\r\n\t\tdestroy: function() {\r\n\t\t\tthis.resetForm();\r\n\r\n\t\t\t$( this.currentForm )\r\n\t\t\t\t.off( \".validate\" )\r\n\t\t\t\t.removeData( \"validator\" )\r\n\t\t\t\t.find( \".validate-equalTo-blur\" )\r\n\t\t\t\t\t.off( \".validate-equalTo\" )\r\n\t\t\t\t\t.removeClass( \"validate-equalTo-blur\" );\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclassRuleSettings: {\r\n\t\trequired: { required: true },\r\n\t\temail: { email: true },\r\n\t\turl: { url: true },\r\n\t\tdate: { date: true },\r\n\t\tdateISO: { dateISO: true },\r\n\t\tnumber: { number: true },\r\n\t\tdigits: { digits: true },\r\n\t\tcreditcard: { creditcard: true }\r\n\t},\r\n\r\n\taddClassRules: function( className, rules ) {\r\n\t\tif ( className.constructor === String ) {\r\n\t\t\tthis.classRuleSettings[ className ] = rules;\r\n\t\t} else {\r\n\t\t\t$.extend( this.classRuleSettings, className );\r\n\t\t}\r\n\t},\r\n\r\n\tclassRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\tclasses = $( element ).attr( \"class\" );\r\n\r\n\t\tif ( classes ) {\r\n\t\t\t$.each( classes.split( \" \" ), function() {\r\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\r\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ] );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tnormalizeAttributeRule: function( rules, type, method, value ) {\r\n\r\n\t\t// Convert the value to a number for number inputs, and for text for backwards compability\r\n\t\t// allows type=\"date\" and others to be compared as strings\r\n\t\tif ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\r\n\t\t\tvalue = Number( value );\r\n\r\n\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\r\n\t\t\tif ( isNaN( value ) ) {\r\n\t\t\t\tvalue = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( value || value === 0 ) {\r\n\t\t\trules[ method ] = value;\r\n\t\t} else if ( type === method && type !== \"range\" ) {\r\n\r\n\t\t\t// Exception: the jquery validate 'range' method\r\n\t\t\t// does not test for the html5 'range' type\r\n\t\t\trules[ method ] = true;\r\n\t\t}\r\n\t},\r\n\r\n\tattributeRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\t$element = $( element ),\r\n\t\t\ttype = element.getAttribute( \"type\" ),\r\n\t\t\tmethod, value;\r\n\r\n\t\tfor ( method in $.validator.methods ) {\r\n\r\n\t\t\t// Support for <input required> in both html5 and older browsers\r\n\t\t\tif ( method === \"required\" ) {\r\n\t\t\t\tvalue = element.getAttribute( method );\r\n\r\n\t\t\t\t// Some browsers return an empty string for the required attribute\r\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\r\n\t\t\t\tif ( value === \"\" ) {\r\n\t\t\t\t\tvalue = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Force non-HTML5 browsers to return bool\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = $element.attr( method );\r\n\t\t\t}\r\n\r\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\r\n\t\t}\r\n\r\n\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\r\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\r\n\t\t\tdelete rules.maxlength;\r\n\t\t}\r\n\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tdataRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\t$element = $( element ),\r\n\t\t\ttype = element.getAttribute( \"type\" ),\r\n\t\t\tmethod, value;\r\n\r\n\t\tfor ( method in $.validator.methods ) {\r\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\r\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tstaticRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\tvalidator = $.data( element.form, \"validator\" );\r\n\r\n\t\tif ( validator.settings.rules ) {\r\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tnormalizeRules: function( rules, element ) {\r\n\r\n\t\t// Handle dependency check\r\n\t\t$.each( rules, function( prop, val ) {\r\n\r\n\t\t\t// Ignore rule when param is explicitly false, eg. required:false\r\n\t\t\tif ( val === false ) {\r\n\t\t\t\tdelete rules[ prop ];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( val.param || val.depends ) {\r\n\t\t\t\tvar keepRule = true;\r\n\t\t\t\tswitch ( typeof val.depends ) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif ( keepRule ) {\r\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.data( element.form, \"validator\" ).resetElements( $( element ) );\r\n\t\t\t\t\tdelete rules[ prop ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\t// Evaluate parameters\r\n\t\t$.each( rules, function( rule, parameter ) {\r\n\t\t\trules[ rule ] = $.isFunction( parameter ) && rule !== \"normalizer\" ? parameter( element ) : parameter;\r\n\t\t} );\r\n\r\n\t\t// Clean number parameters\r\n\t\t$.each( [ \"minlength\", \"maxlength\" ], function() {\r\n\t\t\tif ( rules[ this ] ) {\r\n\t\t\t\trules[ this ] = Number( rules[ this ] );\r\n\t\t\t}\r\n\t\t} );\r\n\t\t$.each( [ \"rangelength\", \"range\" ], function() {\r\n\t\t\tvar parts;\r\n\t\t\tif ( rules[ this ] ) {\r\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\r\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\r\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\r\n\t\t\t\t\tparts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\r\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tif ( $.validator.autoCreateRanges ) {\r\n\r\n\t\t\t// Auto-create ranges\r\n\t\t\tif ( rules.min != null && rules.max != null ) {\r\n\t\t\t\trules.range = [ rules.min, rules.max ];\r\n\t\t\t\tdelete rules.min;\r\n\t\t\t\tdelete rules.max;\r\n\t\t\t}\r\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\r\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\r\n\t\t\t\tdelete rules.minlength;\r\n\t\t\t\tdelete rules.maxlength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rules;\r\n\t},\r\n\r\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\r\n\tnormalizeRule: function( data ) {\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\tvar transformed = {};\r\n\t\t\t$.each( data.split( /\\s/ ), function() {\r\n\t\t\t\ttransformed[ this ] = true;\r\n\t\t\t} );\r\n\t\t\tdata = transformed;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\r\n\t// https://jqueryvalidation.org/jQuery.validator.addMethod/\r\n\taddMethod: function( name, method, message ) {\r\n\t\t$.validator.methods[ name ] = method;\r\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\r\n\t\tif ( method.length < 3 ) {\r\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\r\n\t\t}\r\n\t},\r\n\r\n\t// https://jqueryvalidation.org/jQuery.validator.methods/\r\n\tmethods: {\r\n\r\n\t\t// https://jqueryvalidation.org/required-method/\r\n\t\trequired: function( value, element, param ) {\r\n\r\n\t\t\t// Check if dependency is met\r\n\t\t\tif ( !this.depend( param, element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\r\n\r\n\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\r\n\t\t\t\tvar val = $( element ).val();\r\n\t\t\t\treturn val && val.length > 0;\r\n\t\t\t}\r\n\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\treturn this.getLength( value, element ) > 0;\r\n\t\t\t}\r\n\t\t\treturn value.length > 0;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/email-method/\r\n\t\temail: function( value, element ) {\r\n\r\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\r\n\t\t\t// Retrieved 2014-01-14\r\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\r\n\t\t\t// Or use custom methods to implement your own email validation\r\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/url-method/\r\n\t\turl: function( value, element ) {\r\n\r\n\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\r\n\t\t\t// https://gist.github.com/dperini/729294\r\n\t\t\t// see also https://mathiasbynens.be/demo/url-regex\r\n\t\t\t// modified to allow protocol-relative URLs\r\n\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/date-method/\r\n\t\tdate: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/dateISO-method/\r\n\t\tdateISO: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/number-method/\r\n\t\tnumber: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/digits-method/\r\n\t\tdigits: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/minlength-method/\r\n\t\tminlength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\r\n\t\t\treturn this.optional( element ) || length >= param;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/maxlength-method/\r\n\t\tmaxlength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\r\n\t\t\treturn this.optional( element ) || length <= param;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/rangelength-method/\r\n\t\trangelength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\r\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/min-method/\r\n\t\tmin: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || value >= param;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/max-method/\r\n\t\tmax: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || value <= param;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/range-method/\r\n\t\trange: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/step-method/\r\n\t\tstep: function( value, element, param ) {\r\n\t\t\tvar type = $( element ).attr( \"type\" ),\r\n\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\r\n\t\t\t\tsupportedTypes = [ \"text\", \"number\", \"range\" ],\r\n\t\t\t\tre = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\r\n\t\t\t\tnotSupported = type && !re.test( supportedTypes.join() ),\r\n\t\t\t\tdecimalPlaces = function( num ) {\r\n\t\t\t\t\tvar match = ( \"\" + num ).match( /(?:\\.(\\d+))?$/ );\r\n\t\t\t\t\tif ( !match ) {\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Number of digits right of decimal point.\r\n\t\t\t\t\treturn match[ 1 ] ? match[ 1 ].length : 0;\r\n\t\t\t\t},\r\n\t\t\t\ttoInt = function( num ) {\r\n\t\t\t\t\treturn Math.round( num * Math.pow( 10, decimals ) );\r\n\t\t\t\t},\r\n\t\t\t\tvalid = true,\r\n\t\t\t\tdecimals;\r\n\r\n\t\t\t// Works only for text, number and range input types\r\n\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\r\n\t\t\tif ( notSupported ) {\r\n\t\t\t\tthrow new Error( errorMessage );\r\n\t\t\t}\r\n\r\n\t\t\tdecimals = decimalPlaces( param );\r\n\r\n\t\t\t// Value can't have too many decimals\r\n\t\t\tif ( decimalPlaces( value ) > decimals || toInt( value ) % toInt( param ) !== 0 ) {\r\n\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.optional( element ) || valid;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/equalTo-method/\r\n\t\tequalTo: function( value, element, param ) {\r\n\r\n\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\r\n\t\t\tvar target = $( param );\r\n\t\t\tif ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\r\n\t\t\t\ttarget.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\r\n\t\t\t\t\t$( element ).valid();\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\treturn value === target.val();\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/remote-method/\r\n\t\tremote: function( value, element, param, method ) {\r\n\t\t\tif ( this.optional( element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\r\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\r\n\r\n\t\t\tvar previous = this.previousValue( element, method ),\r\n\t\t\t\tvalidator, data, optionDataString;\r\n\r\n\t\t\tif ( !this.settings.messages[ element.name ] ) {\r\n\t\t\t\tthis.settings.messages[ element.name ] = {};\r\n\t\t\t}\r\n\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\r\n\t\t\tthis.settings.messages[ element.name ][ method ] = previous.message;\r\n\r\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\r\n\t\t\toptionDataString = $.param( $.extend( { data: value }, param.data ) );\r\n\t\t\tif ( previous.old === optionDataString ) {\r\n\t\t\t\treturn previous.valid;\r\n\t\t\t}\r\n\r\n\t\t\tprevious.old = optionDataString;\r\n\t\t\tvalidator = this;\r\n\t\t\tthis.startRequest( element );\r\n\t\t\tdata = {};\r\n\t\t\tdata[ element.name ] = value;\r\n\t\t\t$.ajax( $.extend( true, {\r\n\t\t\t\tmode: \"abort\",\r\n\t\t\t\tport: \"validate\" + element.name,\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tdata: data,\r\n\t\t\t\tcontext: validator.currentForm,\r\n\t\t\t\tsuccess: function( response ) {\r\n\t\t\t\t\tvar valid = response === true || response === \"true\",\r\n\t\t\t\t\t\terrors, message, submitted;\r\n\r\n\t\t\t\t\tvalidator.settings.messages[ element.name ][ method ] = previous.originalMessage;\r\n\t\t\t\t\tif ( valid ) {\r\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\r\n\t\t\t\t\t\tvalidator.resetInternals();\r\n\t\t\t\t\t\tvalidator.toHide = validator.errorsFor( element );\r\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\r\n\t\t\t\t\t\tvalidator.successList.push( element );\r\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = false;\r\n\t\t\t\t\t\tvalidator.showErrors();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\terrors = {};\r\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, { method: method, parameters: value } );\r\n\t\t\t\t\t\terrors[ element.name ] = previous.message = message;\r\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\r\n\t\t\t\t\t\tvalidator.showErrors( errors );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprevious.valid = valid;\r\n\t\t\t\t\tvalidator.stopRequest( element, valid );\r\n\t\t\t\t}\r\n\t\t\t}, param ) );\r\n\t\t\treturn \"pending\";\r\n\t\t}\r\n\t}\r\n\r\n} );\r\n\r\n// Ajax mode: abort\r\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\r\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\r\n\r\nvar pendingRequests = {},\r\n\tajax;\r\n\r\n// Use a prefilter if available (1.5+)\r\nif ( $.ajaxPrefilter ) {\r\n\t$.ajaxPrefilter( function( settings, _, xhr ) {\r\n\t\tvar port = settings.port;\r\n\t\tif ( settings.mode === \"abort\" ) {\r\n\t\t\tif ( pendingRequests[ port ] ) {\r\n\t\t\t\tpendingRequests[ port ].abort();\r\n\t\t\t}\r\n\t\t\tpendingRequests[ port ] = xhr;\r\n\t\t}\r\n\t} );\r\n} else {\r\n\r\n\t// Proxy ajax\r\n\tajax = $.ajax;\r\n\t$.ajax = function( settings ) {\r\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\r\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\r\n\t\tif ( mode === \"abort\" ) {\r\n\t\t\tif ( pendingRequests[ port ] ) {\r\n\t\t\t\tpendingRequests[ port ].abort();\r\n\t\t\t}\r\n\t\t\tpendingRequests[ port ] = ajax.apply( this, arguments );\r\n\t\t\treturn pendingRequests[ port ];\r\n\t\t}\r\n\t\treturn ajax.apply( this, arguments );\r\n\t};\r\n}\r\nreturn $;\r\n}));"]}